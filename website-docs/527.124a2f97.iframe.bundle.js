/*! For license information please see 527.124a2f97.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkanaglyph_letter_puzzle_game_frontend=self.webpackChunkanaglyph_letter_puzzle_game_frontend||[]).push([[527],{"./node_modules/@firebase/app/dist/esm/index.esm2017.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Jn:()=>SDK_VERSION,qX:()=>_getProvider,Xd:()=>_registerComponent,Mq:()=>getApp,ZF:()=>initializeApp,KN:()=>registerVersion});var index_esm2017=__webpack_require__("./node_modules/@firebase/component/dist/esm/index.esm2017.js"),esm_index_esm2017=__webpack_require__("./node_modules/@firebase/logger/dist/esm/index.esm2017.js"),dist_index_esm2017=__webpack_require__("./node_modules/@firebase/util/dist/index.esm2017.js");const instanceOfAny=(object,constructors)=>constructors.some((c=>object instanceof c));let idbProxyableTypes,cursorAdvanceMethods;const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;let idbProxyTraps={get(target,prop,receiver){if(target instanceof IDBTransaction){if("done"===prop)return transactionDoneMap.get(target);if("objectStoreNames"===prop)return target.objectStoreNames||transactionStoreNamesMap.get(target);if("store"===prop)return receiver.objectStoreNames[1]?void 0:receiver.objectStore(receiver.objectStoreNames[0])}return wrap_idb_value_wrap(target[prop])},set:(target,prop,value)=>(target[prop]=value,!0),has:(target,prop)=>target instanceof IDBTransaction&&("done"===prop||"store"===prop)||prop in target};function wrapFunction(func){return func!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(func)?function(...args){return func.apply(unwrap(this),args),wrap_idb_value_wrap(cursorRequestMap.get(this))}:function(...args){return wrap_idb_value_wrap(func.apply(unwrap(this),args))}:function(storeNames,...args){const tx=func.call(unwrap(this),storeNames,...args);return transactionStoreNamesMap.set(tx,storeNames.sort?storeNames.sort():[storeNames]),wrap_idb_value_wrap(tx)}}function transformCachableValue(value){return"function"==typeof value?wrapFunction(value):(value instanceof IDBTransaction&&function cacheDonePromiseForTransaction(tx){if(transactionDoneMap.has(tx))return;const done=new Promise(((resolve,reject)=>{const unlisten=()=>{tx.removeEventListener("complete",complete),tx.removeEventListener("error",error),tx.removeEventListener("abort",error)},complete=()=>{resolve(),unlisten()},error=()=>{reject(tx.error||new DOMException("AbortError","AbortError")),unlisten()};tx.addEventListener("complete",complete),tx.addEventListener("error",error),tx.addEventListener("abort",error)}));transactionDoneMap.set(tx,done)}(value),instanceOfAny(value,function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(value,idbProxyTraps):value)}function wrap_idb_value_wrap(value){if(value instanceof IDBRequest)return function promisifyRequest(request){const promise=new Promise(((resolve,reject)=>{const unlisten=()=>{request.removeEventListener("success",success),request.removeEventListener("error",error)},success=()=>{resolve(wrap_idb_value_wrap(request.result)),unlisten()},error=()=>{reject(request.error),unlisten()};request.addEventListener("success",success),request.addEventListener("error",error)}));return promise.then((value=>{value instanceof IDBCursor&&cursorRequestMap.set(value,request)})).catch((()=>{})),reverseTransformCache.set(promise,request),promise}(value);if(transformCache.has(value))return transformCache.get(value);const newValue=transformCachableValue(value);return newValue!==value&&(transformCache.set(value,newValue),reverseTransformCache.set(newValue,value)),newValue}const unwrap=value=>reverseTransformCache.get(value);const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(target,prop){if(!(target instanceof IDBDatabase)||prop in target||"string"!=typeof prop)return;if(cachedMethods.get(prop))return cachedMethods.get(prop);const targetFuncName=prop.replace(/FromIndex$/,""),useIndex=prop!==targetFuncName,isWrite=writeMethods.includes(targetFuncName);if(!(targetFuncName in(useIndex?IDBIndex:IDBObjectStore).prototype)||!isWrite&&!readMethods.includes(targetFuncName))return;const method=async function(storeName,...args){const tx=this.transaction(storeName,isWrite?"readwrite":"readonly");let target=tx.store;return useIndex&&(target=target.index(args.shift())),(await Promise.all([target[targetFuncName](...args),isWrite&&tx.done]))[0]};return cachedMethods.set(prop,method),method}!function replaceTraps(callback){idbProxyTraps=callback(idbProxyTraps)}((oldTraps=>({...oldTraps,get:(target,prop,receiver)=>getMethod(target,prop)||oldTraps.get(target,prop,receiver),has:(target,prop)=>!!getMethod(target,prop)||oldTraps.has(target,prop)})));class PlatformLoggerServiceImpl{constructor(container){this.container=container}getPlatformInfoString(){return this.container.getProviders().map((provider=>{if(function isVersionServiceProvider(provider){const component=provider.getComponent();return"VERSION"===(null==component?void 0:component.type)}(provider)){const service=provider.getImmediate();return`${service.library}/${service.version}`}return null})).filter((logString=>logString)).join(" ")}}const name$o="@firebase/app",logger=new esm_index_esm2017.Yd("@firebase/app"),DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_apps=new Map,_components=new Map;function _addComponent(app,component){try{app.container.addComponent(component)}catch(e){logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app.name}`,e)}}function _registerComponent(component){const componentName=component.name;if(_components.has(componentName))return logger.debug(`There were multiple attempts to register component ${componentName}.`),!1;_components.set(componentName,component);for(const app of _apps.values())_addComponent(app,component);return!0}function _getProvider(app,name){const heartbeatController=app.container.getProvider("heartbeat").getImmediate({optional:!0});return heartbeatController&&heartbeatController.triggerHeartbeat(),app.container.getProvider(name)}const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new dist_index_esm2017.LL("app","Firebase",ERRORS);class FirebaseAppImpl{constructor(options,config,container){this._isDeleted=!1,this._options=Object.assign({},options),this._config=Object.assign({},config),this._name=config.name,this._automaticDataCollectionEnabled=config.automaticDataCollectionEnabled,this._container=container,this.container.addComponent(new index_esm2017.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(val){this.checkDestroyed(),this._automaticDataCollectionEnabled=val}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(val){this._isDeleted=val}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}const SDK_VERSION="9.19.1";function initializeApp(_options,rawConfig={}){let options=_options;if("object"!=typeof rawConfig){rawConfig={name:rawConfig}}const config=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},rawConfig),name=config.name;if("string"!=typeof name||!name)throw ERROR_FACTORY.create("bad-app-name",{appName:String(name)});if(options||(options=(0,dist_index_esm2017.aH)()),!options)throw ERROR_FACTORY.create("no-options");const existingApp=_apps.get(name);if(existingApp){if((0,dist_index_esm2017.vZ)(options,existingApp.options)&&(0,dist_index_esm2017.vZ)(config,existingApp.config))return existingApp;throw ERROR_FACTORY.create("duplicate-app",{appName:name})}const container=new index_esm2017.H0(name);for(const component of _components.values())container.addComponent(component);const newApp=new FirebaseAppImpl(options,config,container);return _apps.set(name,newApp),newApp}function getApp(name=DEFAULT_ENTRY_NAME){const app=_apps.get(name);if(!app&&name===DEFAULT_ENTRY_NAME)return initializeApp();if(!app)throw ERROR_FACTORY.create("no-app",{appName:name});return app}function registerVersion(libraryKeyOrName,version,variant){var _a;let library=null!==(_a=PLATFORM_LOG_STRING[libraryKeyOrName])&&void 0!==_a?_a:libraryKeyOrName;variant&&(library+=`-${variant}`);const libraryMismatch=library.match(/\s|\//),versionMismatch=version.match(/\s|\//);if(libraryMismatch||versionMismatch){const warning=[`Unable to register library "${library}" with version "${version}":`];return libraryMismatch&&warning.push(`library name "${library}" contains illegal characters (whitespace or "/")`),libraryMismatch&&versionMismatch&&warning.push("and"),versionMismatch&&warning.push(`version name "${version}" contains illegal characters (whitespace or "/")`),void logger.warn(warning.join(" "))}_registerComponent(new index_esm2017.wA(`${library}-version`,(()=>({library,version})),"VERSION"))}const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=function openDB(name,version,{blocked,upgrade,blocking,terminated}={}){const request=indexedDB.open(name,version),openPromise=wrap_idb_value_wrap(request);return upgrade&&request.addEventListener("upgradeneeded",(event=>{upgrade(wrap_idb_value_wrap(request.result),event.oldVersion,event.newVersion,wrap_idb_value_wrap(request.transaction))})),blocked&&request.addEventListener("blocked",(()=>blocked())),openPromise.then((db=>{terminated&&db.addEventListener("close",(()=>terminated())),blocking&&db.addEventListener("versionchange",(()=>blocking()))})).catch((()=>{})),openPromise}(DB_NAME,DB_VERSION,{upgrade:(db,oldVersion)=>{if(0===oldVersion)db.createObjectStore(STORE_NAME)}}).catch((e=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:e.message})}))),dbPromise}async function writeHeartbeatsToIndexedDB(app,heartbeatObject){try{const tx=(await getDbPromise()).transaction(STORE_NAME,"readwrite"),objectStore=tx.objectStore(STORE_NAME);return await objectStore.put(heartbeatObject,computeKey(app)),tx.done}catch(e){if(e instanceof dist_index_esm2017.ZR)logger.warn(e.message);else{const idbGetError=ERROR_FACTORY.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});logger.warn(idbGetError.message)}}}function computeKey(app){return`${app.name}!${app.options.appId}`}class HeartbeatServiceImpl{constructor(container){this.container=container,this._heartbeatsCache=null;const app=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(app),this._heartbeatsCachePromise=this._storage.read().then((result=>(this._heartbeatsCache=result,result)))}async triggerHeartbeat(){const agent=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),date=getUTCDateString();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==date&&!this._heartbeatsCache.heartbeats.some((singleDateHeartbeat=>singleDateHeartbeat.date===date)))return this._heartbeatsCache.heartbeats.push({date,agent}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((singleDateHeartbeat=>{const hbTimestamp=new Date(singleDateHeartbeat.date).valueOf();return Date.now()-hbTimestamp<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const date=getUTCDateString(),{heartbeatsToSend,unsentEntries}=function extractHeartbeatsForHeader(heartbeatsCache,maxSize=1024){const heartbeatsToSend=[];let unsentEntries=heartbeatsCache.slice();for(const singleDateHeartbeat of heartbeatsCache){const heartbeatEntry=heartbeatsToSend.find((hb=>hb.agent===singleDateHeartbeat.agent));if(heartbeatEntry){if(heartbeatEntry.dates.push(singleDateHeartbeat.date),countBytes(heartbeatsToSend)>maxSize){heartbeatEntry.dates.pop();break}}else if(heartbeatsToSend.push({agent:singleDateHeartbeat.agent,dates:[singleDateHeartbeat.date]}),countBytes(heartbeatsToSend)>maxSize){heartbeatsToSend.pop();break}unsentEntries=unsentEntries.slice(1)}return{heartbeatsToSend,unsentEntries}}(this._heartbeatsCache.heartbeats),headerString=(0,dist_index_esm2017.L)(JSON.stringify({version:2,heartbeats:heartbeatsToSend}));return this._heartbeatsCache.lastSentHeartbeatDate=date,unsentEntries.length>0?(this._heartbeatsCache.heartbeats=unsentEntries,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),headerString}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(app){this.app=app,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,dist_index_esm2017.hl)()&&(0,dist_index_esm2017.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function readHeartbeatsFromIndexedDB(app){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(app))}catch(e){if(e instanceof dist_index_esm2017.ZR)logger.warn(e.message);else{const idbGetError=ERROR_FACTORY.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});logger.warn(idbGetError.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(heartbeatsObject){var _a;if(await this._canUseIndexedDBPromise){const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(_a=heartbeatsObject.lastSentHeartbeatDate)&&void 0!==_a?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:heartbeatsObject.heartbeats})}}async add(heartbeatsObject){var _a;if(await this._canUseIndexedDBPromise){const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(_a=heartbeatsObject.lastSentHeartbeatDate)&&void 0!==_a?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:[...existingHeartbeatsObject.heartbeats,...heartbeatsObject.heartbeats]})}}}function countBytes(heartbeatsCache){return(0,dist_index_esm2017.L)(JSON.stringify({version:2,heartbeats:heartbeatsCache})).length}!function registerCoreComponents(variant){_registerComponent(new index_esm2017.wA("platform-logger",(container=>new PlatformLoggerServiceImpl(container)),"PRIVATE")),_registerComponent(new index_esm2017.wA("heartbeat",(container=>new HeartbeatServiceImpl(container)),"PRIVATE")),registerVersion(name$o,"0.9.7",variant),registerVersion(name$o,"0.9.7","esm2017"),registerVersion("fire-js","")}("")},"./node_modules/@firebase/component/dist/esm/index.esm2017.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H0:()=>ComponentContainer,wA:()=>Component});var _firebase_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@firebase/util/dist/index.esm2017.js");class Component{constructor(name,instanceFactory,type){this.name=name,this.instanceFactory=instanceFactory,this.type=type,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(mode){return this.instantiationMode=mode,this}setMultipleInstances(multipleInstances){return this.multipleInstances=multipleInstances,this}setServiceProps(props){return this.serviceProps=props,this}setInstanceCreatedCallback(callback){return this.onInstanceCreated=callback,this}}const DEFAULT_ENTRY_NAME="[DEFAULT]";class Provider{constructor(name,container){this.name=name,this.container=container,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(identifier){const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);if(!this.instancesDeferred.has(normalizedIdentifier)){const deferred=new _firebase_util__WEBPACK_IMPORTED_MODULE_0__.BH;if(this.instancesDeferred.set(normalizedIdentifier,deferred),this.isInitialized(normalizedIdentifier)||this.shouldAutoInitialize())try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});instance&&deferred.resolve(instance)}catch(e){}}return this.instancesDeferred.get(normalizedIdentifier).promise}getImmediate(options){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(null==options?void 0:options.identifier),optional=null!==(_a=null==options?void 0:options.optional)&&void 0!==_a&&_a;if(!this.isInitialized(normalizedIdentifier)&&!this.shouldAutoInitialize()){if(optional)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:normalizedIdentifier})}catch(e){if(optional)return null;throw e}}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=component,this.shouldAutoInitialize()){if(function isComponentEager(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME})}catch(e){}for(const[instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){const normalizedIdentifier=this.normalizeInstanceIdentifier(instanceIdentifier);try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});instanceDeferred.resolve(instance)}catch(e){}}}}clearInstance(identifier=DEFAULT_ENTRY_NAME){this.instancesDeferred.delete(identifier),this.instancesOptions.delete(identifier),this.instances.delete(identifier)}async delete(){const services=Array.from(this.instances.values());await Promise.all([...services.filter((service=>"INTERNAL"in service)).map((service=>service.INTERNAL.delete())),...services.filter((service=>"_delete"in service)).map((service=>service._delete()))])}isComponentSet(){return null!=this.component}isInitialized(identifier=DEFAULT_ENTRY_NAME){return this.instances.has(identifier)}getOptions(identifier=DEFAULT_ENTRY_NAME){return this.instancesOptions.get(identifier)||{}}initialize(opts={}){const{options={}}=opts,normalizedIdentifier=this.normalizeInstanceIdentifier(opts.instanceIdentifier);if(this.isInitialized(normalizedIdentifier))throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier,options});for(const[instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){normalizedIdentifier===this.normalizeInstanceIdentifier(instanceIdentifier)&&instanceDeferred.resolve(instance)}return instance}onInit(callback,identifier){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier),existingCallbacks=null!==(_a=this.onInitCallbacks.get(normalizedIdentifier))&&void 0!==_a?_a:new Set;existingCallbacks.add(callback),this.onInitCallbacks.set(normalizedIdentifier,existingCallbacks);const existingInstance=this.instances.get(normalizedIdentifier);return existingInstance&&callback(existingInstance,normalizedIdentifier),()=>{existingCallbacks.delete(callback)}}invokeOnInitCallbacks(instance,identifier){const callbacks=this.onInitCallbacks.get(identifier);if(callbacks)for(const callback of callbacks)try{callback(instance,identifier)}catch(_a){}}getOrInitializeService({instanceIdentifier,options={}}){let instance=this.instances.get(instanceIdentifier);if(!instance&&this.component&&(instance=this.component.instanceFactory(this.container,{instanceIdentifier:(identifier=instanceIdentifier,identifier===DEFAULT_ENTRY_NAME?void 0:identifier),options}),this.instances.set(instanceIdentifier,instance),this.instancesOptions.set(instanceIdentifier,options),this.invokeOnInitCallbacks(instance,instanceIdentifier),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,instanceIdentifier,instance)}catch(_a){}var identifier;return instance||null}normalizeInstanceIdentifier(identifier=DEFAULT_ENTRY_NAME){return this.component?this.component.multipleInstances?identifier:DEFAULT_ENTRY_NAME:identifier}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ComponentContainer{constructor(name){this.name=name,this.providers=new Map}addComponent(component){const provider=this.getProvider(component.name);if(provider.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);provider.setComponent(component)}addOrOverwriteComponent(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)}getProvider(name){if(this.providers.has(name))return this.providers.get(name);const provider=new Provider(name,this);return this.providers.set(name,provider),provider}getProviders(){return Array.from(this.providers.values())}}},"./node_modules/@firebase/logger/dist/esm/index.esm2017.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Yd:()=>Logger,in:()=>LogLevel});const instances=[];var LogLevel;!function(LogLevel){LogLevel[LogLevel.DEBUG=0]="DEBUG",LogLevel[LogLevel.VERBOSE=1]="VERBOSE",LogLevel[LogLevel.INFO=2]="INFO",LogLevel[LogLevel.WARN=3]="WARN",LogLevel[LogLevel.ERROR=4]="ERROR",LogLevel[LogLevel.SILENT=5]="SILENT"}(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(instance,logType,...args)=>{if(logType<instance.logLevel)return;const now=(new Date).toISOString(),method=ConsoleMethod[logType];if(!method)throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);console[method](`[${now}]  ${instance.name}:`,...args)};class Logger{constructor(name){this.name=name,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}get logLevel(){return this._logLevel}set logLevel(val){if(!(val in LogLevel))throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);this._logLevel=val}setLogLevel(val){this._logLevel="string"==typeof val?levelStringToEnum[val]:val}get logHandler(){return this._logHandler}set logHandler(val){if("function"!=typeof val)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=val}get userLogHandler(){return this._userLogHandler}set userLogHandler(val){this._userLogHandler=val}debug(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...args),this._logHandler(this,LogLevel.DEBUG,...args)}log(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...args),this._logHandler(this,LogLevel.VERBOSE,...args)}info(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...args),this._logHandler(this,LogLevel.INFO,...args)}warn(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...args),this._logHandler(this,LogLevel.WARN,...args)}error(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...args),this._logHandler(this,LogLevel.ERROR,...args)}}},"./node_modules/@swc/helpers/lib/_async_to_generator.js":(__unused_webpack_module,exports)=>{"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}Object.defineProperty(exports,"Z",{enumerable:!0,get:function(){return _asyncToGenerator}})},"./node_modules/firebase/app/dist/esm/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZF:()=>_firebase_app__WEBPACK_IMPORTED_MODULE_0__.ZF});var _firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@firebase/app/dist/esm/index.esm2017.js");(0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__.KN)("firebase","9.19.1","app")},"./node_modules/firebase/auth/dist/esm/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{hJ:()=>GoogleAuthProvider,Xb:()=>createUserWithEmailAndPassword,v0:()=>getAuth,e5:()=>signInWithEmailAndPassword,rh:()=>signInWithPopup});var index_esm2017=__webpack_require__("./node_modules/@firebase/util/dist/index.esm2017.js"),esm_index_esm2017=__webpack_require__("./node_modules/@firebase/app/dist/esm/index.esm2017.js"),dist_esm_index_esm2017=__webpack_require__("./node_modules/@firebase/logger/dist/esm/index.esm2017.js");function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}Object.create;Object.create;var component_dist_esm_index_esm2017=__webpack_require__("./node_modules/@firebase/component/dist/esm/index.esm2017.js");function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new index_esm2017.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),logClient=new dist_esm_index_esm2017.Yd("@firebase/auth");function _logError(msg,...args){logClient.logLevel<=dist_esm_index_esm2017.in.ERROR&&logClient.error(`Auth (${esm_index_esm2017.Jn}): ${msg}`,...args)}function _fail(authOrCode,...rest){throw createErrorInternal(authOrCode,...rest)}function _createError(authOrCode,...rest){return createErrorInternal(authOrCode,...rest)}function _errorWithCustomMessage(auth,code,message){const errorMap=Object.assign(Object.assign({},prodErrorMap()),{[code]:message});return new index_esm2017.LL("auth","Firebase",errorMap).create(code,{appName:auth.name})}function _assertInstanceOf(auth,object,instance){if(!(object instanceof instance))throw instance.name!==object.constructor.name&&_fail(auth,"argument-error"),_errorWithCustomMessage(auth,"argument-error",`Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(authOrCode,...rest){if("string"!=typeof authOrCode){const code=rest[0],fullParams=[...rest.slice(1)];return fullParams[0]&&(fullParams[0].appName=authOrCode.name),authOrCode._errorFactory.create(code,...fullParams)}return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode,...rest)}function _assert(assertion,authOrCode,...rest){if(!assertion)throw createErrorInternal(authOrCode,...rest)}function debugFail(failure){const message="INTERNAL ASSERTION FAILED: "+failure;throw _logError(message),new Error(message)}function debugAssert(assertion,message){assertion||debugFail(message)}const instanceCache=new Map;function _getInstance(cls){debugAssert(cls instanceof Function,"Expected a class definition");let instance=instanceCache.get(cls);return instance?(debugAssert(instance instanceof cls,"Instance stored in cache mismatched with class"),instance):(instance=new cls,instanceCache.set(cls,instance),instance)}function _getCurrentUrl(){var _a;return"undefined"!=typeof self&&(null===(_a=self.location)||void 0===_a?void 0:_a.href)||""}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){var _a;return"undefined"!=typeof self&&(null===(_a=self.location)||void 0===_a?void 0:_a.protocol)||null}class Delay{constructor(shortDelay,longDelay){this.shortDelay=shortDelay,this.longDelay=longDelay,debugAssert(longDelay>shortDelay,"Short delay should be less than long delay!"),this.isMobile=(0,index_esm2017.uI)()||(0,index_esm2017.b$)()}get(){return function _isOnline(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_isHttpOrHttps()||(0,index_esm2017.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(config,path){debugAssert(config.emulator,"Emulator should always be set here");const{url}=config.emulator;return path?`${url}${path.startsWith("/")?path.slice(1):path}`:url}class FetchProvider{static initialize(fetchImpl,headersImpl,responseImpl){this.fetchImpl=fetchImpl,headersImpl&&(this.headersImpl=headersImpl),responseImpl&&(this.responseImpl=responseImpl)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(auth,request){return auth.tenantId&&!request.tenantId?Object.assign(Object.assign({},request),{tenantId:auth.tenantId}):request}async function _performApiRequest(auth,method,path,request,customErrorMap={}){return _performFetchWithErrorHandling(auth,customErrorMap,(async()=>{let body={},params={};request&&("GET"===method?params=request:body={body:JSON.stringify(request)});const query=(0,index_esm2017.xO)(Object.assign({key:auth.config.apiKey},params)).slice(1),headers=await auth._getAdditionalHeaders();return headers["Content-Type"]="application/json",auth.languageCode&&(headers["X-Firebase-Locale"]=auth.languageCode),FetchProvider.fetch()(_getFinalTarget(auth,auth.config.apiHost,path,query),Object.assign({method,headers,referrerPolicy:"no-referrer"},body))}))}async function _performFetchWithErrorHandling(auth,customErrorMap,fetchFn){auth._canInitEmulator=!1;const errorMap=Object.assign(Object.assign({},SERVER_ERROR_MAP),customErrorMap);try{const networkTimeout=new NetworkTimeout(auth),response=await Promise.race([fetchFn(),networkTimeout.promise]);networkTimeout.clearNetworkTimeout();const json=await response.json();if("needConfirmation"in json)throw _makeTaggedError(auth,"account-exists-with-different-credential",json);if(response.ok&&!("errorMessage"in json))return json;{const errorMessage=response.ok?json.errorMessage:json.error.message,[serverErrorCode,serverErrorMessage]=errorMessage.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===serverErrorCode)throw _makeTaggedError(auth,"credential-already-in-use",json);if("EMAIL_EXISTS"===serverErrorCode)throw _makeTaggedError(auth,"email-already-in-use",json);if("USER_DISABLED"===serverErrorCode)throw _makeTaggedError(auth,"user-disabled",json);const authError=errorMap[serverErrorCode]||serverErrorCode.toLowerCase().replace(/[_\s]+/g,"-");if(serverErrorMessage)throw _errorWithCustomMessage(auth,authError,serverErrorMessage);_fail(auth,authError)}}catch(e){if(e instanceof index_esm2017.ZR)throw e;_fail(auth,"network-request-failed",{message:String(e)})}}async function _performSignInRequest(auth,method,path,request,customErrorMap={}){const serverResponse=await _performApiRequest(auth,method,path,request,customErrorMap);return"mfaPendingCredential"in serverResponse&&_fail(auth,"multi-factor-auth-required",{_serverResponse:serverResponse}),serverResponse}function _getFinalTarget(auth,host,path,query){const base=`${host}${path}?${query}`;return auth.config.emulator?_emulatorUrl(auth.config,base):`${auth.config.apiScheme}://${base}`}class NetworkTimeout{constructor(auth){this.auth=auth,this.timer=null,this.promise=new Promise(((_,reject)=>{this.timer=setTimeout((()=>reject(_createError(this.auth,"network-request-failed"))),DEFAULT_API_TIMEOUT_MS.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(auth,code,response){const errorParams={appName:auth.name};response.email&&(errorParams.email=response.email),response.phoneNumber&&(errorParams.phoneNumber=response.phoneNumber);const error=_createError(auth,code,errorParams);return error.customData._tokenResponse=response,error}function utcTimestampToDateString(utcTimestamp){if(utcTimestamp)try{const date=new Date(Number(utcTimestamp));if(!isNaN(date.getTime()))return date.toUTCString()}catch(e){}}function secondsStringToMilliseconds(seconds){return 1e3*Number(seconds)}function _parseToken(token){const[algorithm,payload,signature]=token.split(".");if(void 0===algorithm||void 0===payload||void 0===signature)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const decoded=(0,index_esm2017.tV)(payload);return decoded?JSON.parse(decoded):(_logError("Failed to decode base64 JWT payload"),null)}catch(e){return _logError("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function _logoutIfInvalidated(user,promise,bypassAuthState=!1){if(bypassAuthState)return promise;try{return await promise}catch(e){throw e instanceof index_esm2017.ZR&&function isUserInvalidated({code}){return"auth/user-disabled"===code||"auth/user-token-expired"===code}(e)&&user.auth.currentUser===user&&await user.auth.signOut(),e}}class ProactiveRefresh{constructor(user){this.user=user,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(wasError){var _a;if(wasError){const interval=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),interval}{this.errorBackoff=3e4;const interval=(null!==(_a=this.user.stsTokenManager.expirationTime)&&void 0!==_a?_a:0)-Date.now()-3e5;return Math.max(0,interval)}}schedule(wasError=!1){if(!this.isRunning)return;const interval=this.getInterval(wasError);this.timerId=setTimeout((async()=>{await this.iteration()}),interval)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(createdAt,lastLoginAt){this.createdAt=createdAt,this.lastLoginAt=lastLoginAt,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(metadata){this.createdAt=metadata.createdAt,this.lastLoginAt=metadata.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(user){var _a;const auth=user.auth,idToken=await user.getIdToken(),response=await _logoutIfInvalidated(user,async function getAccountInfo(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:lookup",request)}(auth,{idToken}));_assert(null==response?void 0:response.users.length,auth,"internal-error");const coreAccount=response.users[0];user._notifyReloadListener(coreAccount);const newProviderData=(null===(_a=coreAccount.providerUserInfo)||void 0===_a?void 0:_a.length)?function extractProviderData(providers){return providers.map((_a=>{var{providerId}=_a,provider=__rest(_a,["providerId"]);return{providerId,uid:provider.rawId||"",displayName:provider.displayName||null,email:provider.email||null,phoneNumber:provider.phoneNumber||null,photoURL:provider.photoUrl||null}}))}(coreAccount.providerUserInfo):[],providerData=function mergeProviderData(original,newData){return[...original.filter((o=>!newData.some((n=>n.providerId===o.providerId)))),...newData]}(user.providerData,newProviderData),oldIsAnonymous=user.isAnonymous,newIsAnonymous=!(user.email&&coreAccount.passwordHash||(null==providerData?void 0:providerData.length)),isAnonymous=!!oldIsAnonymous&&newIsAnonymous,updates={uid:coreAccount.localId,displayName:coreAccount.displayName||null,photoURL:coreAccount.photoUrl||null,email:coreAccount.email||null,emailVerified:coreAccount.emailVerified||!1,phoneNumber:coreAccount.phoneNumber||null,tenantId:coreAccount.tenantId||null,providerData,metadata:new UserMetadata(coreAccount.createdAt,coreAccount.lastLoginAt),isAnonymous};Object.assign(user,updates)}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(response){_assert(response.idToken,"internal-error"),_assert(void 0!==response.idToken,"internal-error"),_assert(void 0!==response.refreshToken,"internal-error");const expiresIn="expiresIn"in response&&void 0!==response.expiresIn?Number(response.expiresIn):function _tokenExpiresIn(token){const parsedToken=_parseToken(token);return _assert(parsedToken,"internal-error"),_assert(void 0!==parsedToken.exp,"internal-error"),_assert(void 0!==parsedToken.iat,"internal-error"),Number(parsedToken.exp)-Number(parsedToken.iat)}(response.idToken);this.updateTokensAndExpiration(response.idToken,response.refreshToken,expiresIn)}async getToken(auth,forceRefresh=!1){return _assert(!this.accessToken||this.refreshToken,auth,"user-token-expired"),forceRefresh||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(auth,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(auth,oldToken){const{accessToken,refreshToken,expiresIn}=await async function requestStsToken(auth,refreshToken){const response=await _performFetchWithErrorHandling(auth,{},(async()=>{const body=(0,index_esm2017.xO)({grant_type:"refresh_token",refresh_token:refreshToken}).slice(1),{tokenApiHost,apiKey}=auth.config,url=_getFinalTarget(auth,tokenApiHost,"/v1/token",`key=${apiKey}`),headers=await auth._getAdditionalHeaders();return headers["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(url,{method:"POST",headers,body})}));return{accessToken:response.access_token,expiresIn:response.expires_in,refreshToken:response.refresh_token}}(auth,oldToken);this.updateTokensAndExpiration(accessToken,refreshToken,Number(expiresIn))}updateTokensAndExpiration(accessToken,refreshToken,expiresInSec){this.refreshToken=refreshToken||null,this.accessToken=accessToken||null,this.expirationTime=Date.now()+1e3*expiresInSec}static fromJSON(appName,object){const{refreshToken,accessToken,expirationTime}=object,manager=new StsTokenManager;return refreshToken&&(_assert("string"==typeof refreshToken,"internal-error",{appName}),manager.refreshToken=refreshToken),accessToken&&(_assert("string"==typeof accessToken,"internal-error",{appName}),manager.accessToken=accessToken),expirationTime&&(_assert("number"==typeof expirationTime,"internal-error",{appName}),manager.expirationTime=expirationTime),manager}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(stsTokenManager){this.accessToken=stsTokenManager.accessToken,this.refreshToken=stsTokenManager.refreshToken,this.expirationTime=stsTokenManager.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(assertion,appName){_assert("string"==typeof assertion||void 0===assertion,"internal-error",{appName})}class UserImpl{constructor(_a){var{uid,auth,stsTokenManager}=_a,opt=__rest(_a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=uid,this.auth=auth,this.stsTokenManager=stsTokenManager,this.accessToken=stsTokenManager.accessToken,this.displayName=opt.displayName||null,this.email=opt.email||null,this.emailVerified=opt.emailVerified||!1,this.phoneNumber=opt.phoneNumber||null,this.photoURL=opt.photoURL||null,this.isAnonymous=opt.isAnonymous||!1,this.tenantId=opt.tenantId||null,this.providerData=opt.providerData?[...opt.providerData]:[],this.metadata=new UserMetadata(opt.createdAt||void 0,opt.lastLoginAt||void 0)}async getIdToken(forceRefresh){const accessToken=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,forceRefresh));return _assert(accessToken,this.auth,"internal-error"),this.accessToken!==accessToken&&(this.accessToken=accessToken,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),accessToken}getIdTokenResult(forceRefresh){return async function getIdTokenResult(user,forceRefresh=!1){const userInternal=(0,index_esm2017.m9)(user),token=await userInternal.getIdToken(forceRefresh),claims=_parseToken(token);_assert(claims&&claims.exp&&claims.auth_time&&claims.iat,userInternal.auth,"internal-error");const firebase="object"==typeof claims.firebase?claims.firebase:void 0,signInProvider=null==firebase?void 0:firebase.sign_in_provider;return{claims,token,authTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),signInProvider:signInProvider||null,signInSecondFactor:(null==firebase?void 0:firebase.sign_in_second_factor)||null}}(this,forceRefresh)}reload(){return async function reload(user){const userInternal=(0,index_esm2017.m9)(user);await _reloadWithoutSaving(userInternal),await userInternal.auth._persistUserIfCurrent(userInternal),userInternal.auth._notifyListenersIfCurrent(userInternal)}(this)}_assign(user){this!==user&&(_assert(this.uid===user.uid,this.auth,"internal-error"),this.displayName=user.displayName,this.photoURL=user.photoURL,this.email=user.email,this.emailVerified=user.emailVerified,this.phoneNumber=user.phoneNumber,this.isAnonymous=user.isAnonymous,this.tenantId=user.tenantId,this.providerData=user.providerData.map((userInfo=>Object.assign({},userInfo))),this.metadata._copy(user.metadata),this.stsTokenManager._assign(user.stsTokenManager))}_clone(auth){const newUser=new UserImpl(Object.assign(Object.assign({},this),{auth,stsTokenManager:this.stsTokenManager._clone()}));return newUser.metadata._copy(this.metadata),newUser}_onReload(callback){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=callback,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(userInfo){this.reloadListener?this.reloadListener(userInfo):this.reloadUserInfo=userInfo}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(response,reload=!1){let tokensRefreshed=!1;response.idToken&&response.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(response),tokensRefreshed=!0),reload&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),tokensRefreshed&&this.auth._notifyListenersIfCurrent(this)}async delete(){const idToken=await this.getIdToken();return await _logoutIfInvalidated(this,async function deleteAccount(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:delete",request)}(this.auth,{idToken})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((userInfo=>Object.assign({},userInfo))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(auth,object){var _a,_b,_c,_d,_e,_f,_g,_h;const displayName=null!==(_a=object.displayName)&&void 0!==_a?_a:void 0,email=null!==(_b=object.email)&&void 0!==_b?_b:void 0,phoneNumber=null!==(_c=object.phoneNumber)&&void 0!==_c?_c:void 0,photoURL=null!==(_d=object.photoURL)&&void 0!==_d?_d:void 0,tenantId=null!==(_e=object.tenantId)&&void 0!==_e?_e:void 0,_redirectEventId=null!==(_f=object._redirectEventId)&&void 0!==_f?_f:void 0,createdAt=null!==(_g=object.createdAt)&&void 0!==_g?_g:void 0,lastLoginAt=null!==(_h=object.lastLoginAt)&&void 0!==_h?_h:void 0,{uid,emailVerified,isAnonymous,providerData,stsTokenManager:plainObjectTokenManager}=object;_assert(uid&&plainObjectTokenManager,auth,"internal-error");const stsTokenManager=StsTokenManager.fromJSON(this.name,plainObjectTokenManager);_assert("string"==typeof uid,auth,"internal-error"),assertStringOrUndefined(displayName,auth.name),assertStringOrUndefined(email,auth.name),_assert("boolean"==typeof emailVerified,auth,"internal-error"),_assert("boolean"==typeof isAnonymous,auth,"internal-error"),assertStringOrUndefined(phoneNumber,auth.name),assertStringOrUndefined(photoURL,auth.name),assertStringOrUndefined(tenantId,auth.name),assertStringOrUndefined(_redirectEventId,auth.name),assertStringOrUndefined(createdAt,auth.name),assertStringOrUndefined(lastLoginAt,auth.name);const user=new UserImpl({uid,auth,email,emailVerified,displayName,isAnonymous,photoURL,phoneNumber,tenantId,stsTokenManager,createdAt,lastLoginAt});return providerData&&Array.isArray(providerData)&&(user.providerData=providerData.map((userInfo=>Object.assign({},userInfo)))),_redirectEventId&&(user._redirectEventId=_redirectEventId),user}static async _fromIdTokenResponse(auth,idTokenResponse,isAnonymous=!1){const stsTokenManager=new StsTokenManager;stsTokenManager.updateFromServerResponse(idTokenResponse);const user=new UserImpl({uid:idTokenResponse.localId,auth,stsTokenManager,isAnonymous});return await _reloadWithoutSaving(user),user}}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(key,value){this.storage[key]=value}async _get(key){const value=this.storage[key];return void 0===value?null:value}async _remove(key){delete this.storage[key]}_addListener(_key,_listener){}_removeListener(_key,_listener){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;function _persistenceKeyName(key,apiKey,appName){return`firebase:${key}:${apiKey}:${appName}`}class PersistenceUserManager{constructor(persistence,auth,userKey){this.persistence=persistence,this.auth=auth,this.userKey=userKey;const{config,name}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,config.apiKey,name),this.fullPersistenceKey=_persistenceKeyName("persistence",config.apiKey,name),this.boundEventHandler=auth._onStorageEvent.bind(auth),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(user){return this.persistence._set(this.fullUserKey,user.toJSON())}async getCurrentUser(){const blob=await this.persistence._get(this.fullUserKey);return blob?UserImpl._fromJSON(this.auth,blob):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(newPersistence){if(this.persistence===newPersistence)return;const currentUser=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=newPersistence,currentUser?this.setCurrentUser(currentUser):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(auth,persistenceHierarchy,userKey="authUser"){if(!persistenceHierarchy.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),auth,userKey);const availablePersistences=(await Promise.all(persistenceHierarchy.map((async persistence=>{if(await persistence._isAvailable())return persistence})))).filter((persistence=>persistence));let selectedPersistence=availablePersistences[0]||_getInstance(inMemoryPersistence);const key=_persistenceKeyName(userKey,auth.config.apiKey,auth.name);let userToMigrate=null;for(const persistence of persistenceHierarchy)try{const blob=await persistence._get(key);if(blob){const user=UserImpl._fromJSON(auth,blob);persistence!==selectedPersistence&&(userToMigrate=user),selectedPersistence=persistence;break}}catch(_a){}const migrationHierarchy=availablePersistences.filter((p=>p._shouldAllowMigration));return selectedPersistence._shouldAllowMigration&&migrationHierarchy.length?(selectedPersistence=migrationHierarchy[0],userToMigrate&&await selectedPersistence._set(key,userToMigrate.toJSON()),await Promise.all(persistenceHierarchy.map((async persistence=>{if(persistence!==selectedPersistence)try{await persistence._remove(key)}catch(_a){}}))),new PersistenceUserManager(selectedPersistence,auth,userKey)):new PersistenceUserManager(selectedPersistence,auth,userKey)}}function _getBrowserName(userAgent){const ua=userAgent.toLowerCase();if(ua.includes("opera/")||ua.includes("opr/")||ua.includes("opios/"))return"Opera";if(_isIEMobile(ua))return"IEMobile";if(ua.includes("msie")||ua.includes("trident/"))return"IE";if(ua.includes("edge/"))return"Edge";if(_isFirefox(ua))return"Firefox";if(ua.includes("silk/"))return"Silk";if(_isBlackBerry(ua))return"Blackberry";if(_isWebOS(ua))return"Webos";if(_isSafari(ua))return"Safari";if((ua.includes("chrome/")||_isChromeIOS(ua))&&!ua.includes("edge/"))return"Chrome";if(_isAndroid(ua))return"Android";{const re=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,matches=userAgent.match(re);if(2===(null==matches?void 0:matches.length))return matches[1]}return"Other"}function _isFirefox(ua=(0,index_esm2017.z$)()){return/firefox\//i.test(ua)}function _isSafari(userAgent=(0,index_esm2017.z$)()){const ua=userAgent.toLowerCase();return ua.includes("safari/")&&!ua.includes("chrome/")&&!ua.includes("crios/")&&!ua.includes("android")}function _isChromeIOS(ua=(0,index_esm2017.z$)()){return/crios\//i.test(ua)}function _isIEMobile(ua=(0,index_esm2017.z$)()){return/iemobile/i.test(ua)}function _isAndroid(ua=(0,index_esm2017.z$)()){return/android/i.test(ua)}function _isBlackBerry(ua=(0,index_esm2017.z$)()){return/blackberry/i.test(ua)}function _isWebOS(ua=(0,index_esm2017.z$)()){return/webos/i.test(ua)}function _isIOS(ua=(0,index_esm2017.z$)()){return/iphone|ipad|ipod/i.test(ua)||/macintosh/i.test(ua)&&/mobile/i.test(ua)}function _isMobileBrowser(ua=(0,index_esm2017.z$)()){return _isIOS(ua)||_isAndroid(ua)||_isWebOS(ua)||_isBlackBerry(ua)||/windows phone/i.test(ua)||_isIEMobile(ua)}function _getClientVersion(clientPlatform,frameworks=[]){let reportedPlatform;switch(clientPlatform){case"Browser":reportedPlatform=_getBrowserName((0,index_esm2017.z$)());break;case"Worker":reportedPlatform=`${_getBrowserName((0,index_esm2017.z$)())}-${clientPlatform}`;break;default:reportedPlatform=clientPlatform}const reportedFrameworks=frameworks.length?frameworks.join(","):"FirebaseCore-web";return`${reportedPlatform}/JsCore/${esm_index_esm2017.Jn}/${reportedFrameworks}`}class AuthMiddlewareQueue{constructor(auth){this.auth=auth,this.queue=[]}pushCallback(callback,onAbort){const wrappedCallback=user=>new Promise(((resolve,reject)=>{try{resolve(callback(user))}catch(e){reject(e)}}));wrappedCallback.onAbort=onAbort,this.queue.push(wrappedCallback);const index=this.queue.length-1;return()=>{this.queue[index]=()=>Promise.resolve()}}async runMiddleware(nextUser){if(this.auth.currentUser===nextUser)return;const onAbortStack=[];try{for(const beforeStateCallback of this.queue)await beforeStateCallback(nextUser),beforeStateCallback.onAbort&&onAbortStack.push(beforeStateCallback.onAbort)}catch(e){onAbortStack.reverse();for(const onAbort of onAbortStack)try{onAbort()}catch(_){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class AuthImpl{constructor(app,heartbeatServiceProvider,config){this.app=app,this.heartbeatServiceProvider=heartbeatServiceProvider,this.config=config,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=app.name,this.clientVersion=config.sdkClientVersion}_initializeWithPersistence(persistenceHierarchy,popupRedirectResolver){return popupRedirectResolver&&(this._popupRedirectResolver=_getInstance(popupRedirectResolver)),this._initializationPromise=this.queue((async()=>{var _a,_b;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,persistenceHierarchy),!this._deleted)){if(null===(_a=this._popupRedirectResolver)||void 0===_a?void 0:_a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(popupRedirectResolver),this.lastNotifiedUid=(null===(_b=this.currentUser)||void 0===_b?void 0:_b.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const user=await this.assertedPersistence.getCurrentUser();return this.currentUser||user?this.currentUser&&user&&this.currentUser.uid===user.uid?(this._currentUser._assign(user),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(user,!0):void 0}async initializeCurrentUser(popupRedirectResolver){var _a;const previouslyStoredUser=await this.assertedPersistence.getCurrentUser();let futureCurrentUser=previouslyStoredUser,needsTocheckMiddleware=!1;if(popupRedirectResolver&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const redirectUserEventId=null===(_a=this.redirectUser)||void 0===_a?void 0:_a._redirectEventId,storedUserEventId=null==futureCurrentUser?void 0:futureCurrentUser._redirectEventId,result=await this.tryRedirectSignIn(popupRedirectResolver);redirectUserEventId&&redirectUserEventId!==storedUserEventId||!(null==result?void 0:result.user)||(futureCurrentUser=result.user,needsTocheckMiddleware=!0)}if(!futureCurrentUser)return this.directlySetCurrentUser(null);if(!futureCurrentUser._redirectEventId){if(needsTocheckMiddleware)try{await this.beforeStateQueue.runMiddleware(futureCurrentUser)}catch(e){futureCurrentUser=previouslyStoredUser,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return futureCurrentUser?this.reloadAndSetCurrentUserOrClear(futureCurrentUser):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===futureCurrentUser._redirectEventId?this.directlySetCurrentUser(futureCurrentUser):this.reloadAndSetCurrentUserOrClear(futureCurrentUser)}async tryRedirectSignIn(redirectResolver){let result=null;try{result=await this._popupRedirectResolver._completeRedirectFn(this,redirectResolver,!0)}catch(e){await this._setRedirectUser(null)}return result}async reloadAndSetCurrentUserOrClear(user){try{await _reloadWithoutSaving(user)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(user)}useDeviceLanguage(){this.languageCode=function _getUserLanguage(){if("undefined"==typeof navigator)return null;const navigatorLanguage=navigator;return navigatorLanguage.languages&&navigatorLanguage.languages[0]||navigatorLanguage.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(userExtern){const user=userExtern?(0,index_esm2017.m9)(userExtern):null;return user&&_assert(user.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(user&&user._clone(this))}async _updateCurrentUser(user,skipBeforeStateCallbacks=!1){if(!this._deleted)return user&&_assert(this.tenantId===user.tenantId,this,"tenant-id-mismatch"),skipBeforeStateCallbacks||await this.beforeStateQueue.runMiddleware(user),this.queue((async()=>{await this.directlySetCurrentUser(user),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(persistence){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_getInstance(persistence))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(errorMap){this._errorFactory=new index_esm2017.LL("auth","Firebase",errorMap())}onAuthStateChanged(nextOrObserver,error,completed){return this.registerStateListener(this.authStateSubscription,nextOrObserver,error,completed)}beforeAuthStateChanged(callback,onAbort){return this.beforeStateQueue.pushCallback(callback,onAbort)}onIdTokenChanged(nextOrObserver,error,completed){return this.registerStateListener(this.idTokenSubscription,nextOrObserver,error,completed)}toJSON(){var _a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_a=this._currentUser)||void 0===_a?void 0:_a.toJSON()}}async _setRedirectUser(user,popupRedirectResolver){const redirectManager=await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);return null===user?redirectManager.removeCurrentUser():redirectManager.setCurrentUser(user)}async getOrInitRedirectPersistenceManager(popupRedirectResolver){if(!this.redirectPersistenceManager){const resolver=popupRedirectResolver&&_getInstance(popupRedirectResolver)||this._popupRedirectResolver;_assert(resolver,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(resolver._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(id){var _a,_b;return this._isInitialized&&await this.queue((async()=>{})),(null===(_a=this._currentUser)||void 0===_a?void 0:_a._redirectEventId)===id?this._currentUser:(null===(_b=this.redirectUser)||void 0===_b?void 0:_b._redirectEventId)===id?this.redirectUser:null}async _persistUserIfCurrent(user){if(user===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(user)))}_notifyListenersIfCurrent(user){user===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _a,_b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const currentUid=null!==(_b=null===(_a=this.currentUser)||void 0===_a?void 0:_a.uid)&&void 0!==_b?_b:null;this.lastNotifiedUid!==currentUid&&(this.lastNotifiedUid=currentUid,this.authStateSubscription.next(this.currentUser))}registerStateListener(subscription,nextOrObserver,error,completed){if(this._deleted)return()=>{};const cb="function"==typeof nextOrObserver?nextOrObserver:nextOrObserver.next.bind(nextOrObserver),promise=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(promise,this,"internal-error"),promise.then((()=>cb(this.currentUser))),"function"==typeof nextOrObserver?subscription.addObserver(nextOrObserver,error,completed):subscription.addObserver(nextOrObserver)}async directlySetCurrentUser(user){this.currentUser&&this.currentUser!==user&&this._currentUser._stopProactiveRefresh(),user&&this.isProactiveRefreshEnabled&&user._startProactiveRefresh(),this.currentUser=user,user?await this.assertedPersistence.setCurrentUser(user):await this.assertedPersistence.removeCurrentUser()}queue(action){return this.operations=this.operations.then(action,action),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(framework){framework&&!this.frameworks.includes(framework)&&(this.frameworks.push(framework),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _a;const headers={"X-Client-Version":this.clientVersion};this.app.options.appId&&(headers["X-Firebase-gmpid"]=this.app.options.appId);const heartbeatsHeader=await(null===(_a=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_a?void 0:_a.getHeartbeatsHeader());return heartbeatsHeader&&(headers["X-Firebase-Client"]=heartbeatsHeader),headers}}function _castAuth(auth){return(0,index_esm2017.m9)(auth)}class Subscription{constructor(auth){this.auth=auth,this.observer=null,this.addObserver=(0,index_esm2017.ne)((observer=>this.observer=observer))}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(auth,url,options){const authInternal=_castAuth(auth);_assert(authInternal._canInitEmulator,authInternal,"emulator-config-failed"),_assert(/^https?:\/\//.test(url),authInternal,"invalid-emulator-scheme");const disableWarnings=!!(null==options?void 0:options.disableWarnings),protocol=extractProtocol(url),{host,port}=function extractHostAndPort(url){const protocol=extractProtocol(url),authority=/(\/\/)?([^?#/]+)/.exec(url.substr(protocol.length));if(!authority)return{host:"",port:null};const hostAndPort=authority[2].split("@").pop()||"",bracketedIPv6=/^(\[[^\]]+\])(:|$)/.exec(hostAndPort);if(bracketedIPv6){const host=bracketedIPv6[1];return{host,port:parsePort(hostAndPort.substr(host.length+1))}}{const[host,port]=hostAndPort.split(":");return{host,port:parsePort(port)}}}(url),portStr=null===port?"":`:${port}`;authInternal.config.emulator={url:`${protocol}//${host}${portStr}/`},authInternal.settings.appVerificationDisabledForTesting=!0,authInternal.emulatorConfig=Object.freeze({host,port,protocol:protocol.replace(":",""),options:Object.freeze({disableWarnings})}),disableWarnings||function emitEmulatorWarning(){function attachBanner(){const el=document.createElement("p"),sty=el.style;el.innerText="Running in emulator mode. Do not use with production credentials.",sty.position="fixed",sty.width="100%",sty.backgroundColor="#ffffff",sty.border=".1em solid #000000",sty.color="#b50000",sty.bottom="0px",sty.left="0px",sty.margin="0px",sty.zIndex="10000",sty.textAlign="center",el.classList.add("firebase-emulator-warning"),document.body.appendChild(el)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}()}function extractProtocol(url){const protocolEnd=url.indexOf(":");return protocolEnd<0?"":url.substr(0,protocolEnd+1)}function parsePort(portStr){if(!portStr)return null;const port=Number(portStr);return isNaN(port)?null:port}class AuthCredential{constructor(providerId,signInMethod){this.providerId=providerId,this.signInMethod=signInMethod}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_auth){return debugFail("not implemented")}_linkToIdToken(_auth,_idToken){return debugFail("not implemented")}_getReauthenticationResolver(_auth){return debugFail("not implemented")}}async function updateEmailPassword(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:update",request)}class EmailAuthCredential extends AuthCredential{constructor(_email,_password,signInMethod,_tenantId=null){super("password",signInMethod),this._email=_email,this._password=_password,this._tenantId=_tenantId}static _fromEmailAndPassword(email,password){return new EmailAuthCredential(email,password,"password")}static _fromEmailAndCode(email,oobCode,tenantId=null){return new EmailAuthCredential(email,oobCode,"emailLink",tenantId)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(json){const obj="string"==typeof json?JSON.parse(json):json;if((null==obj?void 0:obj.email)&&(null==obj?void 0:obj.password)){if("password"===obj.signInMethod)return this._fromEmailAndPassword(obj.email,obj.password);if("emailLink"===obj.signInMethod)return this._fromEmailAndCode(obj.email,obj.password,obj.tenantId)}return null}async _getIdTokenResponse(auth){switch(this.signInMethod){case"password":return async function signInWithPassword(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(auth,request))}(auth,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function signInWithEmailLink$1(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(auth,request))}(auth,{email:this._email,oobCode:this._password});default:_fail(auth,"internal-error")}}async _linkToIdToken(auth,idToken){switch(this.signInMethod){case"password":return updateEmailPassword(auth,{idToken,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function signInWithEmailLinkForLinking(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(auth,request))}(auth,{idToken,email:this._email,oobCode:this._password});default:_fail(auth,"internal-error")}}_getReauthenticationResolver(auth){return this._getIdTokenResponse(auth)}}async function signInWithIdp(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(auth,request))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(params){const cred=new OAuthCredential(params.providerId,params.signInMethod);return params.idToken||params.accessToken?(params.idToken&&(cred.idToken=params.idToken),params.accessToken&&(cred.accessToken=params.accessToken),params.nonce&&!params.pendingToken&&(cred.nonce=params.nonce),params.pendingToken&&(cred.pendingToken=params.pendingToken)):params.oauthToken&&params.oauthTokenSecret?(cred.accessToken=params.oauthToken,cred.secret=params.oauthTokenSecret):_fail("argument-error"),cred}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(json){const obj="string"==typeof json?JSON.parse(json):json,{providerId,signInMethod}=obj,rest=__rest(obj,["providerId","signInMethod"]);if(!providerId||!signInMethod)return null;const cred=new OAuthCredential(providerId,signInMethod);return cred.idToken=rest.idToken||void 0,cred.accessToken=rest.accessToken||void 0,cred.secret=rest.secret,cred.nonce=rest.nonce,cred.pendingToken=rest.pendingToken||null,cred}_getIdTokenResponse(auth){return signInWithIdp(auth,this.buildRequest())}_linkToIdToken(auth,idToken){const request=this.buildRequest();return request.idToken=idToken,signInWithIdp(auth,request)}_getReauthenticationResolver(auth){const request=this.buildRequest();return request.autoCreate=!1,signInWithIdp(auth,request)}buildRequest(){const request={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)request.pendingToken=this.pendingToken;else{const postBody={};this.idToken&&(postBody.id_token=this.idToken),this.accessToken&&(postBody.access_token=this.accessToken),this.secret&&(postBody.oauth_token_secret=this.secret),postBody.providerId=this.providerId,this.nonce&&!this.pendingToken&&(postBody.nonce=this.nonce),request.postBody=(0,index_esm2017.xO)(postBody)}return request}}const VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(params){super("phone","phone"),this.params=params}static _fromVerification(verificationId,verificationCode){return new PhoneAuthCredential({verificationId,verificationCode})}static _fromTokenResponse(phoneNumber,temporaryProof){return new PhoneAuthCredential({phoneNumber,temporaryProof})}_getIdTokenResponse(auth){return async function signInWithPhoneNumber$1(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,request))}(auth,this._makeVerificationRequest())}_linkToIdToken(auth,idToken){return async function linkWithPhoneNumber$1(auth,request){const response=await _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,request));if(response.temporaryProof)throw _makeTaggedError(auth,"account-exists-with-different-credential",response);return response}(auth,Object.assign({idToken},this._makeVerificationRequest()))}_getReauthenticationResolver(auth){return async function verifyPhoneNumberForExisting(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,Object.assign(Object.assign({},request),{operation:"REAUTH"})),VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_)}(auth,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof,phoneNumber,verificationId,verificationCode}=this.params;return temporaryProof&&phoneNumber?{temporaryProof,phoneNumber}:{sessionInfo:verificationId,code:verificationCode}}toJSON(){const obj={providerId:this.providerId};return this.params.phoneNumber&&(obj.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(obj.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(obj.verificationCode=this.params.verificationCode),this.params.verificationId&&(obj.verificationId=this.params.verificationId),obj}static fromJSON(json){"string"==typeof json&&(json=JSON.parse(json));const{verificationId,verificationCode,phoneNumber,temporaryProof}=json;return verificationCode||verificationId||phoneNumber||temporaryProof?new PhoneAuthCredential({verificationId,verificationCode,phoneNumber,temporaryProof}):null}}class ActionCodeURL{constructor(actionLink){var _a,_b,_c,_d,_e,_f;const searchParams=(0,index_esm2017.zd)((0,index_esm2017.pd)(actionLink)),apiKey=null!==(_a=searchParams.apiKey)&&void 0!==_a?_a:null,code=null!==(_b=searchParams.oobCode)&&void 0!==_b?_b:null,operation=function parseMode(mode){switch(mode){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_c=searchParams.mode)&&void 0!==_c?_c:null);_assert(apiKey&&code&&operation,"argument-error"),this.apiKey=apiKey,this.operation=operation,this.code=code,this.continueUrl=null!==(_d=searchParams.continueUrl)&&void 0!==_d?_d:null,this.languageCode=null!==(_e=searchParams.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(_f=searchParams.tenantId)&&void 0!==_f?_f:null}static parseLink(link){const actionLink=function parseDeepLink(url){const link=(0,index_esm2017.zd)((0,index_esm2017.pd)(url)).link,doubleDeepLink=link?(0,index_esm2017.zd)((0,index_esm2017.pd)(link)).deep_link_id:null,iOSDeepLink=(0,index_esm2017.zd)((0,index_esm2017.pd)(url)).deep_link_id;return(iOSDeepLink?(0,index_esm2017.zd)((0,index_esm2017.pd)(iOSDeepLink)).link:null)||iOSDeepLink||doubleDeepLink||link||url}(link);try{return new ActionCodeURL(actionLink)}catch(_a){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(email,password){return EmailAuthCredential._fromEmailAndPassword(email,password)}static credentialWithLink(email,emailLink){const actionCodeUrl=ActionCodeURL.parseLink(emailLink);return _assert(actionCodeUrl,"argument-error"),EmailAuthCredential._fromEmailAndCode(email,actionCodeUrl.code,actionCodeUrl.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(providerId){this.providerId=providerId,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(languageCode){this.defaultLanguageCode=languageCode}setCustomParameters(customOAuthParameters){return this.customParameters=customOAuthParameters,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(scope){return this.scopes.includes(scope)||this.scopes.push(scope),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(accessToken){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken})}static credentialFromResult(userCredential){return FacebookAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return FacebookAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse||!("oauthAccessToken"in tokenResponse))return null;if(!tokenResponse.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(tokenResponse.oauthAccessToken)}catch(_a){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(idToken,accessToken){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken,accessToken})}static credentialFromResult(userCredential){return GoogleAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return GoogleAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{oauthIdToken,oauthAccessToken}=tokenResponse;if(!oauthIdToken&&!oauthAccessToken)return null;try{return GoogleAuthProvider.credential(oauthIdToken,oauthAccessToken)}catch(_a){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(accessToken){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken})}static credentialFromResult(userCredential){return GithubAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return GithubAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse||!("oauthAccessToken"in tokenResponse))return null;if(!tokenResponse.oauthAccessToken)return null;try{return GithubAuthProvider.credential(tokenResponse.oauthAccessToken)}catch(_a){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(token,secret){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:token,oauthTokenSecret:secret})}static credentialFromResult(userCredential){return TwitterAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return TwitterAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{oauthAccessToken,oauthTokenSecret}=tokenResponse;if(!oauthAccessToken||!oauthTokenSecret)return null;try{return TwitterAuthProvider.credential(oauthAccessToken,oauthTokenSecret)}catch(_a){return null}}}async function signUp(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signUp",_addTidIfNecessary(auth,request))}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(params){this.user=params.user,this.providerId=params.providerId,this._tokenResponse=params._tokenResponse,this.operationType=params.operationType}static async _fromIdTokenResponse(auth,operationType,idTokenResponse,isAnonymous=!1){const user=await UserImpl._fromIdTokenResponse(auth,idTokenResponse,isAnonymous),providerId=providerIdForResponse(idTokenResponse);return new UserCredentialImpl({user,providerId,_tokenResponse:idTokenResponse,operationType})}static async _forOperation(user,operationType,response){await user._updateTokensIfNecessary(response,!0);const providerId=providerIdForResponse(response);return new UserCredentialImpl({user,providerId,_tokenResponse:response,operationType})}}function providerIdForResponse(response){return response.providerId?response.providerId:"phoneNumber"in response?"phone":null}class MultiFactorError extends index_esm2017.ZR{constructor(auth,error,operationType,user){var _a;super(error.code,error.message),this.operationType=operationType,this.user=user,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:auth.name,tenantId:null!==(_a=auth.tenantId)&&void 0!==_a?_a:void 0,_serverResponse:error.customData._serverResponse,operationType}}static _fromErrorAndOperation(auth,error,operationType,user){return new MultiFactorError(auth,error,operationType,user)}}function _processCredentialSavingMfaContextIfNecessary(auth,operationType,credential,user){return("reauthenticate"===operationType?credential._getReauthenticationResolver(auth):credential._getIdTokenResponse(auth)).catch((error=>{if("auth/multi-factor-auth-required"===error.code)throw MultiFactorError._fromErrorAndOperation(auth,error,operationType,user);throw error}))}async function _link$1(user,credential,bypassAuthState=!1){const response=await _logoutIfInvalidated(user,credential._linkToIdToken(user.auth,await user.getIdToken()),bypassAuthState);return UserCredentialImpl._forOperation(user,"link",response)}async function _reauthenticate(user,credential,bypassAuthState=!1){const{auth}=user;try{const response=await _logoutIfInvalidated(user,_processCredentialSavingMfaContextIfNecessary(auth,"reauthenticate",credential,user),bypassAuthState);_assert(response.idToken,auth,"internal-error");const parsed=_parseToken(response.idToken);_assert(parsed,auth,"internal-error");const{sub:localId}=parsed;return _assert(user.uid===localId,auth,"user-mismatch"),UserCredentialImpl._forOperation(user,"reauthenticate",response)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&_fail(auth,"user-mismatch"),e}}async function _signInWithCredential(auth,credential,bypassAuthState=!1){const response=await _processCredentialSavingMfaContextIfNecessary(auth,"signIn",credential),userCredential=await UserCredentialImpl._fromIdTokenResponse(auth,"signIn",response);return bypassAuthState||await auth._updateCurrentUser(userCredential.user),userCredential}async function signInWithCredential(auth,credential){return _signInWithCredential(_castAuth(auth),credential)}async function createUserWithEmailAndPassword(auth,email,password){const authInternal=_castAuth(auth),response=await signUp(authInternal,{returnSecureToken:!0,email,password}),userCredential=await UserCredentialImpl._fromIdTokenResponse(authInternal,"signIn",response);return await authInternal._updateCurrentUser(userCredential.user),userCredential}function signInWithEmailAndPassword(auth,email,password){return signInWithCredential((0,index_esm2017.m9)(auth),EmailAuthProvider.credential(email,password))}new WeakMap;class BrowserPersistenceClass{constructor(storageRetriever,type){this.storageRetriever=storageRetriever,this.type=type}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(_a){return Promise.resolve(!1)}}_set(key,value){return this.storage.setItem(key,JSON.stringify(value)),Promise.resolve()}_get(key){const json=this.storage.getItem(key);return Promise.resolve(json?JSON.parse(json):null)}_remove(key){return this.storage.removeItem(key),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(event,poll)=>this.onStorageEvent(event,poll),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _iframeCannotSyncWebStorage(){const ua=(0,index_esm2017.z$)();return _isSafari(ua)||_isIOS(ua)}()&&function _isIframe(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(cb){for(const key of Object.keys(this.listeners)){const newValue=this.storage.getItem(key),oldValue=this.localCache[key];newValue!==oldValue&&cb(key,oldValue,newValue)}}onStorageEvent(event,poll=!1){if(!event.key)return void this.forAllChangedKeys(((key,_oldValue,newValue)=>{this.notifyListeners(key,newValue)}));const key=event.key;if(poll?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const storedValue=this.storage.getItem(key);if(event.newValue!==storedValue)null!==event.newValue?this.storage.setItem(key,event.newValue):this.storage.removeItem(key);else if(this.localCache[key]===event.newValue&&!poll)return}const triggerListeners=()=>{const storedValue=this.storage.getItem(key);(poll||this.localCache[key]!==storedValue)&&this.notifyListeners(key,storedValue)},storedValue=this.storage.getItem(key);!function _isIE10(){return(0,index_esm2017.w1)()&&10===document.documentMode}()||storedValue===event.newValue||event.newValue===event.oldValue?triggerListeners():setTimeout(triggerListeners,10)}notifyListeners(key,value){this.localCache[key]=value;const listeners=this.listeners[key];if(listeners)for(const listener of Array.from(listeners))listener(value?JSON.parse(value):value)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((key,oldValue,newValue)=>{this.onStorageEvent(new StorageEvent("storage",{key,oldValue,newValue}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(key,listener){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[key]||(this.listeners[key]=new Set,this.localCache[key]=this.storage.getItem(key)),this.listeners[key].add(listener)}_removeListener(key,listener){this.listeners[key]&&(this.listeners[key].delete(listener),0===this.listeners[key].size&&delete this.listeners[key]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(key,value){await super._set(key,value),this.localCache[key]=JSON.stringify(value)}async _get(key){const value=await super._get(key);return this.localCache[key]=JSON.stringify(value),value}async _remove(key){await super._remove(key),delete this.localCache[key]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(_key,_listener){}_removeListener(_key,_listener){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;class Receiver{constructor(eventTarget){this.eventTarget=eventTarget,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(eventTarget){const existingInstance=this.receivers.find((receiver=>receiver.isListeningto(eventTarget)));if(existingInstance)return existingInstance;const newInstance=new Receiver(eventTarget);return this.receivers.push(newInstance),newInstance}isListeningto(eventTarget){return this.eventTarget===eventTarget}async handleEvent(event){const messageEvent=event,{eventId,eventType,data}=messageEvent.data,handlers=this.handlersMap[eventType];if(!(null==handlers?void 0:handlers.size))return;messageEvent.ports[0].postMessage({status:"ack",eventId,eventType});const promises=Array.from(handlers).map((async handler=>handler(messageEvent.origin,data))),response=await function _allSettled(promises){return Promise.all(promises.map((async promise=>{try{return{fulfilled:!0,value:await promise}}catch(reason){return{fulfilled:!1,reason}}})))}(promises);messageEvent.ports[0].postMessage({status:"done",eventId,eventType,response})}_subscribe(eventType,eventHandler){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[eventType]||(this.handlersMap[eventType]=new Set),this.handlersMap[eventType].add(eventHandler)}_unsubscribe(eventType,eventHandler){this.handlersMap[eventType]&&eventHandler&&this.handlersMap[eventType].delete(eventHandler),eventHandler&&0!==this.handlersMap[eventType].size||delete this.handlersMap[eventType],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _generateEventId(prefix="",digits=10){let random="";for(let i=0;i<digits;i++)random+=Math.floor(10*Math.random());return prefix+random}Receiver.receivers=[];class Sender{constructor(target){this.target=target,this.handlers=new Set}removeMessageHandler(handler){handler.messageChannel&&(handler.messageChannel.port1.removeEventListener("message",handler.onMessage),handler.messageChannel.port1.close()),this.handlers.delete(handler)}async _send(eventType,data,timeout=50){const messageChannel="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!messageChannel)throw new Error("connection_unavailable");let completionTimer,handler;return new Promise(((resolve,reject)=>{const eventId=_generateEventId("",20);messageChannel.port1.start();const ackTimer=setTimeout((()=>{reject(new Error("unsupported_event"))}),timeout);handler={messageChannel,onMessage(event){const messageEvent=event;if(messageEvent.data.eventId===eventId)switch(messageEvent.data.status){case"ack":clearTimeout(ackTimer),completionTimer=setTimeout((()=>{reject(new Error("timeout"))}),3e3);break;case"done":clearTimeout(completionTimer),resolve(messageEvent.data.response);break;default:clearTimeout(ackTimer),clearTimeout(completionTimer),reject(new Error("invalid_response"))}}},this.handlers.add(handler),messageChannel.port1.addEventListener("message",handler.onMessage),this.target.postMessage({eventType,eventId,data},[messageChannel.port2])})).finally((()=>{handler&&this.removeMessageHandler(handler)}))}}function _window(){return window}function _isWorker(){return void 0!==_window().WorkerGlobalScope&&"function"==typeof _window().importScripts}const DB_NAME="firebaseLocalStorageDb",DB_OBJECTSTORE_NAME="firebaseLocalStorage";class DBPromise{constructor(request){this.request=request}toPromise(){return new Promise(((resolve,reject)=>{this.request.addEventListener("success",(()=>{resolve(this.request.result)})),this.request.addEventListener("error",(()=>{reject(this.request.error)}))}))}}function getObjectStore(db,isReadWrite){return db.transaction([DB_OBJECTSTORE_NAME],isReadWrite?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _openDatabase(){const request=indexedDB.open(DB_NAME,1);return new Promise(((resolve,reject)=>{request.addEventListener("error",(()=>{reject(request.error)})),request.addEventListener("upgradeneeded",(()=>{const db=request.result;try{db.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:"fbase_key"})}catch(e){reject(e)}})),request.addEventListener("success",(async()=>{const db=request.result;db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?resolve(db):(db.close(),await function _deleteDatabase(){const request=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(request).toPromise()}(),resolve(await _openDatabase()))}))}))}async function _putObject(db,key,value){const request=getObjectStore(db,!0).put({fbase_key:key,value});return new DBPromise(request).toPromise()}function _deleteObject(db,key){const request=getObjectStore(db,!0).delete(key);return new DBPromise(request).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(op){let numAttempts=0;for(;;)try{const db=await this._openDb();return await op(db)}catch(e){if(numAttempts++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(function _getWorkerGlobalScope(){return _isWorker()?self:null}()),this.receiver._subscribe("keyChanged",(async(_origin,data)=>({keyProcessed:(await this._poll()).includes(data.key)}))),this.receiver._subscribe("ping",(async(_origin,_data)=>["keyChanged"]))}async initializeSender(){var _a,_b;if(this.activeServiceWorker=await async function _getActiveServiceWorker(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(_a){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const results=await this.sender._send("ping",{},800);results&&(null===(_a=results[0])||void 0===_a?void 0:_a.fulfilled)&&(null===(_b=results[0])||void 0===_b?void 0:_b.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(key){if(this.sender&&this.activeServiceWorker&&function _getServiceWorkerController(){var _a;return(null===(_a=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===_a?void 0:_a.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key},this.serviceWorkerReceiverAvailable?800:50)}catch(_a){}}async _isAvailable(){try{if(!indexedDB)return!1;const db=await _openDatabase();return await _putObject(db,"__sak","1"),await _deleteObject(db,"__sak"),!0}catch(_a){}return!1}async _withPendingWrite(write){this.pendingWrites++;try{await write()}finally{this.pendingWrites--}}async _set(key,value){return this._withPendingWrite((async()=>(await this._withRetries((db=>_putObject(db,key,value))),this.localCache[key]=value,this.notifyServiceWorker(key))))}async _get(key){const obj=await this._withRetries((db=>async function getObject(db,key){const request=getObjectStore(db,!1).get(key),data=await new DBPromise(request).toPromise();return void 0===data?null:data.value}(db,key)));return this.localCache[key]=obj,obj}async _remove(key){return this._withPendingWrite((async()=>(await this._withRetries((db=>_deleteObject(db,key))),delete this.localCache[key],this.notifyServiceWorker(key))))}async _poll(){const result=await this._withRetries((db=>{const getAllRequest=getObjectStore(db,!1).getAll();return new DBPromise(getAllRequest).toPromise()}));if(!result)return[];if(0!==this.pendingWrites)return[];const keys=[],keysInResult=new Set;for(const{fbase_key:key,value}of result)keysInResult.add(key),JSON.stringify(this.localCache[key])!==JSON.stringify(value)&&(this.notifyListeners(key,value),keys.push(key));for(const localKey of Object.keys(this.localCache))this.localCache[localKey]&&!keysInResult.has(localKey)&&(this.notifyListeners(localKey,null),keys.push(localKey));return keys}notifyListeners(key,newValue){this.localCache[key]=newValue;const listeners=this.listeners[key];if(listeners)for(const listener of Array.from(listeners))listener(newValue)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(key,listener){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[key]||(this.listeners[key]=new Set,this._get(key)),this.listeners[key].add(listener)}_removeListener(key,listener){this.listeners[key]&&(this.listeners[key].delete(listener),0===this.listeners[key].size&&delete this.listeners[key]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;function _loadJS(url){return new Promise(((resolve,reject)=>{const el=document.createElement("script");el.setAttribute("src",url),el.onload=resolve,el.onerror=e=>{const error=_createError("internal-error");error.customData=e,reject(error)},el.type="text/javascript",el.charset="UTF-8",function getScriptParentElement(){var _a,_b;return null!==(_b=null===(_a=document.getElementsByTagName("head"))||void 0===_a?void 0:_a[0])&&void 0!==_b?_b:document}().appendChild(el)}))}function _generateCallbackName(prefix){return`__${prefix}${Math.floor(1e6*Math.random())}`}_generateCallbackName("rcb"),new Delay(3e4,6e4);const RECAPTCHA_VERIFIER_TYPE="recaptcha";async function _verifyPhoneNumber(auth,options,verifier){var _a;const recaptchaToken=await verifier.verify();try{let phoneInfoOptions;if(_assert("string"==typeof recaptchaToken,auth,"argument-error"),_assert(verifier.type===RECAPTCHA_VERIFIER_TYPE,auth,"argument-error"),phoneInfoOptions="string"==typeof options?{phoneNumber:options}:options,"session"in phoneInfoOptions){const session=phoneInfoOptions.session;if("phoneNumber"in phoneInfoOptions){_assert("enroll"===session.type,auth,"internal-error");const response=await function startEnrollPhoneMfa(auth,request){return _performApiRequest(auth,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(auth,request))}(auth,{idToken:session.credential,phoneEnrollmentInfo:{phoneNumber:phoneInfoOptions.phoneNumber,recaptchaToken}});return response.phoneSessionInfo.sessionInfo}{_assert("signin"===session.type,auth,"internal-error");const mfaEnrollmentId=(null===(_a=phoneInfoOptions.multiFactorHint)||void 0===_a?void 0:_a.uid)||phoneInfoOptions.multiFactorUid;_assert(mfaEnrollmentId,auth,"missing-multi-factor-info");const response=await function startSignInPhoneMfa(auth,request){return _performApiRequest(auth,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(auth,request))}(auth,{mfaPendingCredential:session.credential,mfaEnrollmentId,phoneSignInInfo:{recaptchaToken}});return response.phoneResponseInfo.sessionInfo}}{const{sessionInfo}=await async function sendPhoneVerificationCode(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(auth,request))}(auth,{phoneNumber:phoneInfoOptions.phoneNumber,recaptchaToken});return sessionInfo}}finally{verifier._reset()}}class PhoneAuthProvider{constructor(auth){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=_castAuth(auth)}verifyPhoneNumber(phoneOptions,applicationVerifier){return _verifyPhoneNumber(this.auth,phoneOptions,(0,index_esm2017.m9)(applicationVerifier))}static credential(verificationId,verificationCode){return PhoneAuthCredential._fromVerification(verificationId,verificationCode)}static credentialFromResult(userCredential){const credential=userCredential;return PhoneAuthProvider.credentialFromTaggedObject(credential)}static credentialFromError(error){return PhoneAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{phoneNumber,temporaryProof}=tokenResponse;return phoneNumber&&temporaryProof?PhoneAuthCredential._fromTokenResponse(phoneNumber,temporaryProof):null}}function _withDefaultResolver(auth,resolverOverride){return resolverOverride?_getInstance(resolverOverride):(_assert(auth._popupRedirectResolver,auth,"argument-error"),auth._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(params){super("custom","custom"),this.params=params}_getIdTokenResponse(auth){return signInWithIdp(auth,this._buildIdpRequest())}_linkToIdToken(auth,idToken){return signInWithIdp(auth,this._buildIdpRequest(idToken))}_getReauthenticationResolver(auth){return signInWithIdp(auth,this._buildIdpRequest())}_buildIdpRequest(idToken){const request={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return idToken&&(request.idToken=idToken),request}}function _signIn(params){return _signInWithCredential(params.auth,new IdpCredential(params),params.bypassAuthState)}function _reauth(params){const{auth,user}=params;return _assert(user,auth,"internal-error"),_reauthenticate(user,new IdpCredential(params),params.bypassAuthState)}async function _link(params){const{auth,user}=params;return _assert(user,auth,"internal-error"),_link$1(user,new IdpCredential(params),params.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(auth,filter,resolver,user,bypassAuthState=!1){this.auth=auth,this.resolver=resolver,this.user=user,this.bypassAuthState=bypassAuthState,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(filter)?filter:[filter]}execute(){return new Promise((async(resolve,reject)=>{this.pendingPromise={resolve,reject};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(event){const{urlResponse,sessionId,postBody,tenantId,error,type}=event;if(error)return void this.reject(error);const params={auth:this.auth,requestUri:urlResponse,sessionId,tenantId:tenantId||void 0,postBody:postBody||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(type)(params))}catch(e){this.reject(e)}}onError(error){this.reject(error)}getIdpTask(type){switch(type){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(cred){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(cred),this.unregisterAndCleanUp()}reject(error){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(error),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(auth,provider,resolver){const authInternal=_castAuth(auth);_assertInstanceOf(auth,provider,FederatedAuthProvider);const resolverInternal=_withDefaultResolver(authInternal,resolver);return new PopupOperation(authInternal,"signInViaPopup",provider,resolverInternal).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(auth,filter,provider,resolver,user){super(auth,filter,resolver,user),this.provider=provider,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const result=await this.execute();return _assert(result,this.auth,"internal-error"),result}async onExecution(){debugAssert(1===this.filter.length,"Popup operations only handle one event");const eventId=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],eventId),this.authWindow.associatedEvent=eventId,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(isSupported=>{isSupported||this.reject(_createError(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var _a;return(null===(_a=this.authWindow)||void 0===_a?void 0:_a.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const poll=()=>{var _a,_b;(null===(_b=null===(_a=this.authWindow)||void 0===_a?void 0:_a.window)||void 0===_b?void 0:_b.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(poll,_POLL_WINDOW_CLOSE_TIMEOUT.get())};poll()}}PopupOperation.currentPopupAction=null;const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(auth,resolver,bypassAuthState=!1){super(auth,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],resolver,void 0,bypassAuthState),this.eventId=null}async execute(){let readyOutcome=redirectOutcomeMap.get(this.auth._key());if(!readyOutcome){try{const result=await async function _getAndClearPendingRedirectStatus(resolver,auth){const key=pendingRedirectKey(auth),persistence=resolverPersistence(resolver);if(!await persistence._isAvailable())return!1;const hasPendingRedirect="true"===await persistence._get(key);return await persistence._remove(key),hasPendingRedirect}(this.resolver,this.auth)?await super.execute():null;readyOutcome=()=>Promise.resolve(result)}catch(e){readyOutcome=()=>Promise.reject(e)}redirectOutcomeMap.set(this.auth._key(),readyOutcome)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),(()=>Promise.resolve(null))),readyOutcome()}async onAuthEvent(event){if("signInViaRedirect"===event.type)return super.onAuthEvent(event);if("unknown"!==event.type){if(event.eventId){const user=await this.auth._redirectUserForId(event.eventId);if(user)return this.user=user,super.onAuthEvent(event);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _overrideRedirectResult(auth,result){redirectOutcomeMap.set(auth._key(),result)}function resolverPersistence(resolver){return _getInstance(resolver._redirectPersistence)}function pendingRedirectKey(auth){return _persistenceKeyName(PENDING_REDIRECT_KEY,auth.config.apiKey,auth.name)}async function _getRedirectResult(auth,resolverExtern,bypassAuthState=!1){const authInternal=_castAuth(auth),resolver=_withDefaultResolver(authInternal,resolverExtern),action=new RedirectAction(authInternal,resolver,bypassAuthState),result=await action.execute();return result&&!bypassAuthState&&(delete result.user._redirectEventId,await authInternal._persistUserIfCurrent(result.user),await authInternal._setRedirectUser(null,resolverExtern)),result}class AuthEventManager{constructor(auth){this.auth=auth,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(authEventConsumer){this.consumers.add(authEventConsumer),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,authEventConsumer)&&(this.sendToConsumer(this.queuedRedirectEvent,authEventConsumer),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(authEventConsumer){this.consumers.delete(authEventConsumer)}onEvent(event){if(this.hasEventBeenHandled(event))return!1;let handled=!1;return this.consumers.forEach((consumer=>{this.isEventForConsumer(event,consumer)&&(handled=!0,this.sendToConsumer(event,consumer),this.saveEventToCache(event))})),this.hasHandledPotentialRedirect||!function isRedirectEvent(event){switch(event.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(event);default:return!1}}(event)||(this.hasHandledPotentialRedirect=!0,handled||(this.queuedRedirectEvent=event,handled=!0)),handled}sendToConsumer(event,consumer){var _a;if(event.error&&!isNullRedirectEvent(event)){const code=(null===(_a=event.error.code)||void 0===_a?void 0:_a.split("auth/")[1])||"internal-error";consumer.onError(_createError(this.auth,code))}else consumer.onAuthEvent(event)}isEventForConsumer(event,consumer){const eventIdMatches=null===consumer.eventId||!!event.eventId&&event.eventId===consumer.eventId;return consumer.filter.includes(event.type)&&eventIdMatches}hasEventBeenHandled(event){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(event))}saveEventToCache(event){this.cachedEventUids.add(eventUid(event)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((v=>v)).join("-")}function isNullRedirectEvent({type,error}){return"unknown"===type&&"auth/no-auth-event"===(null==error?void 0:error.code)}const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(auth){if(auth.config.emulator)return;const{authorizedDomains}=await async function _getProjectConfig(auth,request={}){return _performApiRequest(auth,"GET","/v1/projects",request)}(auth);for(const domain of authorizedDomains)try{if(matchDomain(domain))return}catch(_a){}_fail(auth,"unauthorized-domain")}function matchDomain(expected){const currentUrl=_getCurrentUrl(),{protocol,hostname}=new URL(currentUrl);if(expected.startsWith("chrome-extension://")){const ceUrl=new URL(expected);return""===ceUrl.hostname&&""===hostname?"chrome-extension:"===protocol&&expected.replace("chrome-extension://","")===currentUrl.replace("chrome-extension://",""):"chrome-extension:"===protocol&&ceUrl.hostname===hostname}if(!HTTP_REGEX.test(protocol))return!1;if(IP_ADDRESS_REGEX.test(expected))return hostname===expected;const escapedDomainPattern=expected.replace(/\./g,"\\.");return new RegExp("^(.+\\."+escapedDomainPattern+"|"+escapedDomainPattern+")$","i").test(hostname)}const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const beacon=_window().___jsl;if(null==beacon?void 0:beacon.H)for(const hint of Object.keys(beacon.H))if(beacon.H[hint].r=beacon.H[hint].r||[],beacon.H[hint].L=beacon.H[hint].L||[],beacon.H[hint].r=[...beacon.H[hint].L],beacon.CP)for(let i=0;i<beacon.CP.length;i++)beacon.CP[i]=null}let cachedGApiLoader=null;function _loadGapi(auth){return cachedGApiLoader=cachedGApiLoader||function loadGapi(auth){return new Promise(((resolve,reject)=>{var _a,_b,_c;function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{resolve(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),reject(_createError(auth,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(null===(_b=null===(_a=_window().gapi)||void 0===_a?void 0:_a.iframes)||void 0===_b?void 0:_b.Iframe)resolve(gapi.iframes.getContext());else{if(!(null===(_c=_window().gapi)||void 0===_c?void 0:_c.load)){const cbName=_generateCallbackName("iframefcb");return _window()[cbName]=()=>{gapi.load?loadGapiIframe():reject(_createError(auth,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${cbName}`).catch((e=>reject(e)))}loadGapiIframe()}})).catch((error=>{throw cachedGApiLoader=null,error}))}(auth),cachedGApiLoader}const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(auth){const config=auth.config;_assert(config.authDomain,auth,"auth-domain-config-required");const url=config.emulator?_emulatorUrl(config,EMULATED_IFRAME_PATH):`https://${auth.config.authDomain}/${IFRAME_PATH}`,params={apiKey:config.apiKey,appName:auth.name,v:esm_index_esm2017.Jn},eid=EID_FROM_APIHOST.get(auth.config.apiHost);eid&&(params.eid=eid);const frameworks=auth._getFrameworks();return frameworks.length&&(params.fw=frameworks.join(",")),`${url}?${(0,index_esm2017.xO)(params).slice(1)}`}const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(window){this.window=window,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _open(auth,url,name,width=500,height=600){const top=Math.max((window.screen.availHeight-height)/2,0).toString(),left=Math.max((window.screen.availWidth-width)/2,0).toString();let target="";const options=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:width.toString(),height:height.toString(),top,left}),ua=(0,index_esm2017.z$)().toLowerCase();name&&(target=_isChromeIOS(ua)?"_blank":name),_isFirefox(ua)&&(url=url||"http://localhost",options.scrollbars="yes");const optionsString=Object.entries(options).reduce(((accum,[key,value])=>`${accum}${key}=${value},`),"");if(function _isIOSStandalone(ua=(0,index_esm2017.z$)()){var _a;return _isIOS(ua)&&!!(null===(_a=window.navigator)||void 0===_a?void 0:_a.standalone)}(ua)&&"_self"!==target)return function openAsNewWindowIOS(url,target){const el=document.createElement("a");el.href=url,el.target=target;const click=document.createEvent("MouseEvent");click.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),el.dispatchEvent(click)}(url||"",target),new AuthPopup(null);const newWin=window.open(url||"",target,optionsString);_assert(newWin,auth,"popup-blocked");try{newWin.focus()}catch(e){}return new AuthPopup(newWin)}const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(auth,provider,authType,redirectUrl,eventId,additionalParams){_assert(auth.config.authDomain,auth,"auth-domain-config-required"),_assert(auth.config.apiKey,auth,"invalid-api-key");const params={apiKey:auth.config.apiKey,appName:auth.name,authType,redirectUrl,v:esm_index_esm2017.Jn,eventId};if(provider instanceof FederatedAuthProvider){provider.setDefaultLanguage(auth.languageCode),params.providerId=provider.providerId||"",(0,index_esm2017.xb)(provider.getCustomParameters())||(params.customParameters=JSON.stringify(provider.getCustomParameters()));for(const[key,value]of Object.entries(additionalParams||{}))params[key]=value}if(provider instanceof BaseOAuthProvider){const scopes=provider.getScopes().filter((scope=>""!==scope));scopes.length>0&&(params.scopes=scopes.join(","))}auth.tenantId&&(params.tid=auth.tenantId);const paramsDict=params;for(const key of Object.keys(paramsDict))void 0===paramsDict[key]&&delete paramsDict[key];return`${function getHandlerBase({config}){if(!config.emulator)return`https://${config.authDomain}/${WIDGET_PATH}`;return _emulatorUrl(config,EMULATOR_WIDGET_PATH)}(auth)}?${(0,index_esm2017.xO)(paramsDict).slice(1)}`}const browserPopupRedirectResolver=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(auth,provider,authType,eventId){var _a;debugAssert(null===(_a=this.eventManagers[auth._key()])||void 0===_a?void 0:_a.manager,"_initialize() not called before _openPopup()");return _open(auth,_getRedirectUrl(auth,provider,authType,_getCurrentUrl(),eventId),_generateEventId())}async _openRedirect(auth,provider,authType,eventId){return await this._originValidation(auth),function _setWindowLocation(url){_window().location.href=url}(_getRedirectUrl(auth,provider,authType,_getCurrentUrl(),eventId)),new Promise((()=>{}))}_initialize(auth){const key=auth._key();if(this.eventManagers[key]){const{manager,promise}=this.eventManagers[key];return manager?Promise.resolve(manager):(debugAssert(promise,"If manager is not set, promise should be"),promise)}const promise=this.initAndGetManager(auth);return this.eventManagers[key]={promise},promise.catch((()=>{delete this.eventManagers[key]})),promise}async initAndGetManager(auth){const iframe=await async function _openIframe(auth){const context=await _loadGapi(auth),gapi=_window().gapi;return _assert(gapi,auth,"internal-error"),context.open({where:document.body,url:getIframeUrl(auth),messageHandlersFilter:gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},(iframe=>new Promise((async(resolve,reject)=>{await iframe.restyle({setHideOnLeave:!1});const networkError=_createError(auth,"network-request-failed"),networkErrorTimer=_window().setTimeout((()=>{reject(networkError)}),PING_TIMEOUT.get());function clearTimerAndResolve(){_window().clearTimeout(networkErrorTimer),resolve(iframe)}iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve,(()=>{reject(networkError)}))}))))}(auth),manager=new AuthEventManager(auth);return iframe.register("authEvent",(iframeEvent=>{_assert(null==iframeEvent?void 0:iframeEvent.authEvent,auth,"invalid-auth-event");return{status:manager.onEvent(iframeEvent.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[auth._key()]={manager},this.iframes[auth._key()]=iframe,manager}_isIframeWebStorageSupported(auth,cb){this.iframes[auth._key()].send("webStorageSupport",{type:"webStorageSupport"},(result=>{var _a;const isSupported=null===(_a=null==result?void 0:result[0])||void 0===_a?void 0:_a.webStorageSupport;void 0!==isSupported&&cb(!!isSupported),_fail(auth,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(auth){const key=auth._key();return this.originValidationPromises[key]||(this.originValidationPromises[key]=_validateOrigin(auth)),this.originValidationPromises[key]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};class AuthInterop{constructor(auth){this.auth=auth,this.internalListeners=new Map}getUid(){var _a;return this.assertAuthConfigured(),(null===(_a=this.auth.currentUser)||void 0===_a?void 0:_a.uid)||null}async getToken(forceRefresh){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(forceRefresh)}}addAuthTokenListener(listener){if(this.assertAuthConfigured(),this.internalListeners.has(listener))return;const unsubscribe=this.auth.onIdTokenChanged((user=>{listener((null==user?void 0:user.stsTokenManager.accessToken)||null)}));this.internalListeners.set(listener,unsubscribe),this.updateProactiveRefresh()}removeAuthTokenListener(listener){this.assertAuthConfigured();const unsubscribe=this.internalListeners.get(listener);unsubscribe&&(this.internalListeners.delete(listener),unsubscribe(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const authIdTokenMaxAge=(0,index_esm2017.Pz)("authIdTokenMaxAge")||300;let lastPostedIdToken=null;const mintCookieFactory=url=>async user=>{const idTokenResult=user&&await user.getIdTokenResult(),idTokenAge=idTokenResult&&((new Date).getTime()-Date.parse(idTokenResult.issuedAtTime))/1e3;if(idTokenAge&&idTokenAge>authIdTokenMaxAge)return;const idToken=null==idTokenResult?void 0:idTokenResult.token;lastPostedIdToken!==idToken&&(lastPostedIdToken=idToken,await fetch(url,{method:idToken?"POST":"DELETE",headers:idToken?{Authorization:`Bearer ${idToken}`}:{}}))};function getAuth(app=(0,esm_index_esm2017.Mq)()){const provider=(0,esm_index_esm2017.qX)(app,"auth");if(provider.isInitialized())return provider.getImmediate();const auth=function initializeAuth(app,deps){const provider=(0,esm_index_esm2017.qX)(app,"auth");if(provider.isInitialized()){const auth=provider.getImmediate(),initialOptions=provider.getOptions();if((0,index_esm2017.vZ)(initialOptions,null!=deps?deps:{}))return auth;_fail(auth,"already-initialized")}return provider.initialize({options:deps})}(app,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),authTokenSyncUrl=(0,index_esm2017.Pz)("authTokenSyncURL");if(authTokenSyncUrl){const mintCookie=mintCookieFactory(authTokenSyncUrl);!function beforeAuthStateChanged(auth,callback,onAbort){return(0,index_esm2017.m9)(auth).beforeAuthStateChanged(callback,onAbort)}(auth,mintCookie,(()=>mintCookie(auth.currentUser))),function onIdTokenChanged(auth,nextOrObserver,error,completed){return(0,index_esm2017.m9)(auth).onIdTokenChanged(nextOrObserver,error,completed)}(auth,(user=>mintCookie(user)))}const authEmulatorHost=(0,index_esm2017.q4)("auth");return authEmulatorHost&&connectAuthEmulator(auth,`http://${authEmulatorHost}`),auth}!function registerAuth(clientPlatform){(0,esm_index_esm2017.Xd)(new component_dist_esm_index_esm2017.wA("auth",((container,{options:deps})=>{const app=container.getProvider("app").getImmediate(),heartbeatServiceProvider=container.getProvider("heartbeat"),{apiKey,authDomain}=app.options;return((app,heartbeatServiceProvider)=>{_assert(apiKey&&!apiKey.includes(":"),"invalid-api-key",{appName:app.name}),_assert(!(null==authDomain?void 0:authDomain.includes(":")),"argument-error",{appName:app.name});const config={apiKey,authDomain,clientPlatform,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(clientPlatform)},authInstance=new AuthImpl(app,heartbeatServiceProvider,config);return function _initializeAuthInstance(auth,deps){const persistence=(null==deps?void 0:deps.persistence)||[],hierarchy=(Array.isArray(persistence)?persistence:[persistence]).map(_getInstance);(null==deps?void 0:deps.errorMap)&&auth._updateErrorMap(deps.errorMap),auth._initializeWithPersistence(hierarchy,null==deps?void 0:deps.popupRedirectResolver)}(authInstance,deps),authInstance})(app,heartbeatServiceProvider)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((container,_instanceIdentifier,_instance)=>{container.getProvider("auth-internal").initialize()}))),(0,esm_index_esm2017.Xd)(new component_dist_esm_index_esm2017.wA("auth-internal",(container=>(auth=>new AuthInterop(auth))(_castAuth(container.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,esm_index_esm2017.KN)("@firebase/auth","0.22.0",function getVersionForPlatform(clientPlatform){switch(clientPlatform){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(clientPlatform)),(0,esm_index_esm2017.KN)("@firebase/auth","0.22.0","esm2017")}("Browser")},"./node_modules/firebase/firestore/dist/esm/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ad:()=>wh});var k,index_esm2017=__webpack_require__("./node_modules/@firebase/app/dist/esm/index.esm2017.js"),esm_index_esm2017=__webpack_require__("./node_modules/@firebase/component/dist/esm/index.esm2017.js"),dist_esm_index_esm2017=__webpack_require__("./node_modules/@firebase/logger/dist/esm/index.esm2017.js"),dist_index_esm2017=__webpack_require__("./node_modules/@firebase/util/dist/index.esm2017.js"),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},esm={},goog=goog||{},l=commonjsGlobal||self;function aa(){}function ba(a){var b=typeof a;return"array"==(b="object"!=b?b:a?Array.isArray(a)?"array":b:"null")||"object"==b&&"number"==typeof a.length}function p(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var da="closure_uid_"+(1e9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,d),a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function ia(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function t(a,b){function c(){}c.prototype=b.prototype,a.X=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Wb=function(d,e,f){for(var h=Array(arguments.length-2),n=2;n<arguments.length;n++)h[n-2]=arguments[n];return b.prototype[e].apply(d,h)}}function v(){this.s=this.s,this.o=this.o}v.prototype.s=!1,v.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ca(a){return Object.prototype.hasOwnProperty.call(a,da)&&a[da]||(a[da]=++ea)}(this)},v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function ma(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function na(a,b){for(let c=1;c<arguments.length;c++){const d=arguments[c];if(ba(d)){const e=a.length||0,f=d.length||0;a.length=e+f;for(let h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function w(a,b){this.type=a,this.g=this.target=b,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{l.addEventListener("test",aa,b),l.removeEventListener("test",aa,b)}catch(c){}return a}();function pa(a){return/^[\s\xa0]*$/.test(a)}var qa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function ra(a,b){return a<b?-1:a>b?1:0}function sa(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return-1!=sa().indexOf(a)}function ta(a){return ta[" "](a),a}ta[" "]=aa;var Ea,a,wa=x("Opera"),y=x("Trident")||x("MSIE"),xa=x("Edge"),ya=xa||y,za=x("Gecko")&&!(-1!=sa().toLowerCase().indexOf("webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),Aa=-1!=sa().toLowerCase().indexOf("webkit")&&!x("Edge");function Ba(){var a=l.document;return a?a.documentMode:void 0}a:{var Fa="",Ga=(a=sa(),za?/rv:([^\);]+)(\)|;)/.exec(a):xa?/Edge\/([\d\.]+)/.exec(a):y?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Aa?/WebKit\/(\S+)/.exec(a):wa?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ga&&(Fa=Ga?Ga[1]:""),y){var Ha=Ba();if(null!=Ha&&Ha>parseFloat(Fa)){Ea=String(Ha);break a}}Ea=Fa}var Ja,va={};function Ia(){return function ua(a){var b=va;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)}((function(){let a=0;const b=qa(String(Ea)).split("."),c=qa("9").split("."),d=Math.max(b.length,c.length);for(let h=0;0==a&&h<d;h++){var e=b[h]||"",f=c[h]||"";do{if(e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==e[0].length&&0==f[0].length)break;a=ra(0==e[1].length?0:parseInt(e[1],10),0==f[1].length?0:parseInt(f[1],10))||ra(0==e[2].length,0==f[2].length)||ra(e[2],f[2]),e=e[3],f=f[3]}while(0==a)}return 0<=a}))}if(l.document&&y){var Ka=Ba();Ja=Ka||(parseInt(Ea,10)||void 0)}else Ja=void 0;var La=Ja;function z(a,b){if(w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=b,b=a.relatedTarget){if(za){a:{try{ta(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Ma[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&z.X.h.call(this)}}t(z,w);var Ma={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.X.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var A="closure_listenable_"+(1e6*Math.random()|0),Na=0;function Oa(a,b,c,d,e){this.listener=a,this.proxy=null,this.src=b,this.type=c,this.capture=!!d,this.ha=e,this.key=++Na,this.ba=this.ea=!1}function Pa(a){a.ba=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qa(a,b,c){for(const d in a)b.call(c,a[d],d,a)}function Ra(a){const b={};for(const c in a)b[c]=a[c];return b}const Sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(a,b){let c,d;for(let e=1;e<arguments.length;e++){for(c in d=arguments[e],d)a[c]=d[c];for(let f=0;f<Sa.length;f++)c=Sa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Ua(a){this.src=a,this.g={},this.h=0}function Wa(a,b){var c=b.type;if(c in a.g){var f,d=a.g[c],e=la(d,b);(f=0<=e)&&Array.prototype.splice.call(d,e,1),f&&(Pa(b),0==a.g[c].length&&(delete a.g[c],a.h--))}}function Va(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ba&&f.listener==b&&f.capture==!!c&&f.ha==d)return e}return-1}Ua.prototype.add=function(a,b,c,d,e){var f=a.toString();(a=this.g[f])||(a=this.g[f]=[],this.h++);var h=Va(a,b,d,e);return-1<h?(b=a[h],c||(b.ea=!1)):((b=new Oa(b,this.src,f,!!d,e)).ea=c,a.push(b)),b};var Xa="closure_lm_"+(1e6*Math.random()|0),Ya={};function $a(a,b,c,d,e){if(d&&d.once)return ab(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)$a(a,b[f],c,d,e);return null}return c=bb(c),a&&a[A]?a.N(b,c,p(d)?!!d.capture:!!d,e):cb(a,b,c,!1,d,e)}function cb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=p(e)?!!e.capture:!!e,n=db(a);if(n||(a[Xa]=n=new Ua(a)),(c=n.add(b,c,d,h,f)).proxy)return c;if(d=function eb(){function a(c){return b.call(a.src,a.listener,c)}const b=gb;return a}(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener)oa||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(fb(b.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return c}function ab(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)ab(a,b[f],c,d,e);return null}return c=bb(c),a&&a[A]?a.O(b,c,p(d)?!!d.capture:!!d,e):cb(a,b,c,!0,d,e)}function hb(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)hb(a,b[f],c,d,e);else d=p(d)?!!d.capture:!!d,c=bb(c),a&&a[A]?(a=a.i,(b=String(b).toString())in a.g&&(-1<(c=Va(f=a.g[b],c,d,e))&&(Pa(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.g[b],a.h--)))):a&&(a=db(a))&&(b=a.g[b.toString()],a=-1,b&&(a=Va(b,c,d,e)),(c=-1<a?b[a]:null)&&ib(c))}function ib(a){if("number"!=typeof a&&a&&!a.ba){var b=a.src;if(b&&b[A])Wa(b.i,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(fb(c),d):b.addListener&&b.removeListener&&b.removeListener(d),(c=db(b))?(Wa(c,a),0==c.h&&(c.src=null,b[Xa]=null)):Pa(a)}}}function fb(a){return a in Ya?Ya[a]:Ya[a]="on"+a}function gb(a,b){if(a.ba)a=!0;else{b=new z(b,this);var c=a.listener,d=a.ha||a.src;a.ea&&ib(a),a=c.call(d,b)}return a}function db(a){return(a=a[Xa])instanceof Ua?a:null}var jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function bb(a){return"function"==typeof a?a:(a[jb]||(a[jb]=function(b){return a.handleEvent(b)}),a[jb])}function B(){v.call(this),this.i=new Ua(this),this.P=this,this.I=null}function C(a,b){var c,d=a.I;if(d)for(c=[];d;d=d.I)c.push(d);if(a=a.P,d=b.type||b,"string"==typeof b)b=new w(b,a);else if(b instanceof w)b.target=b.target||a;else{var e=b;Ta(b=new w(d,a),e)}if(e=!0,c)for(var f=c.length-1;0<=f;f--){var h=b.g=c[f];e=kb(h,d,!0,b)&&e}if(e=kb(h=b.g=a,d,!0,b)&&e,e=kb(h,d,!1,b)&&e,c)for(f=0;f<c.length;f++)e=kb(h=b.g=c[f],d,!1,b)&&e}function kb(a,b,c,d){if(!(b=a.i.g[String(b)]))return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.ba&&h.capture==c){var n=h.listener,u=h.ha||h.src;h.ea&&Wa(a.i,h),e=!1!==n.call(u,d)&&e}}return e&&!d.defaultPrevented}t(B,v),B.prototype[A]=!0,B.prototype.removeEventListener=function(a,b,c,d){hb(this,a,b,c,d)},B.prototype.M=function(){if(B.X.M.call(this),this.i){var c,a=this.i;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)Pa(d[e]);delete a.g[c],a.h--}}this.I=null},B.prototype.N=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)},B.prototype.O=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};var lb=l.JSON.stringify;function mb(){var a=nb;let b=null;return a.g&&(b=a.g,a.g=a.g.next,a.g||(a.h=null),b.next=null),b}var ub,pb=new class{constructor(a,b){this.i=a,this.j=b,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}((()=>new qb),(a=>a.reset()));class qb{constructor(){this.next=this.g=this.h=null}set(a,b){this.h=a,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}function rb(a){l.setTimeout((()=>{throw a}),0)}function sb(a,b){ub||function vb(){var a=l.Promise.resolve(void 0);ub=function(){a.then(xb)}}(),wb||(ub(),wb=!0),nb.add(a,b)}var wb=!1,nb=new class ob{constructor(){this.h=this.g=null}add(a,b){const c=pb.get();c.set(a,b),this.h?this.h.next=c:this.g=c,this.h=c}};function xb(){for(var a;a=mb();){try{a.h.call(a.g)}catch(c){rb(c)}var b=pb;b.j(a),100>b.h&&(b.h++,a.next=b.g,b.g=a)}wb=!1}function yb(a,b){B.call(this),this.h=a||1,this.g=b||l,this.j=q(this.lb,this),this.l=Date.now()}function zb(a){a.ca=!1,a.R&&(a.g.clearTimeout(a.R),a.R=null)}function Ab(a,b,c){if("function"==typeof a)c&&(a=q(a,c));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=q(a.handleEvent,a)}return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)}function Bb(a){a.g=Ab((()=>{a.g=null,a.i&&(a.i=!1,Bb(a))}),a.j);const b=a.h;a.h=null,a.m.apply(null,b)}t(yb,B),(k=yb.prototype).ca=!1,k.R=null,k.lb=function(){if(this.ca){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-a):(this.R&&(this.g.clearTimeout(this.R),this.R=null),C(this,"tick"),this.ca&&(zb(this),this.start()))}},k.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){yb.X.M.call(this),zb(this),delete this.g};class Cb extends v{constructor(a,b){super(),this.m=a,this.j=b,this.h=null,this.i=!1,this.g=null}l(a){this.h=arguments,this.g?this.i=!0:Bb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D(a){v.call(this),this.h=a,this.g={}}t(D,v);var Db=[];function Eb(a,b,c,d){Array.isArray(c)||(c&&(Db[0]=c.toString()),c=Db);for(var e=0;e<c.length;e++){var f=$a(b,c[e],d||a.handleEvent,!1,a.h||a);if(!f)break;a.g[f.key]=f}}function Fb(a){Qa(a.g,(function(b,c){this.g.hasOwnProperty(c)&&ib(b)}),a),a.g={}}function Gb(){this.g=!0}function E(a,b,c,d){a.info((function(){return"XMLHTTP TEXT ("+b+"): "+function Jb(a,b){if(!a.g)return b;if(!b)return null;try{var c=JSON.parse(b);if(c)for(a=0;a<c.length;a++)if(Array.isArray(c[a])){var d=c[a];if(!(2>d.length)){var e=d[1];if(Array.isArray(e)&&!(1>e.length)){var f=e[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var h=1;h<e.length;h++)e[h]=""}}}return lb(c)}catch(n){return b}}(a,c)+(d?" "+d:"")}))}D.prototype.M=function(){D.X.M.call(this),Fb(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gb.prototype.Aa=function(){this.g=!1},Gb.prototype.info=function(){};var G={},Lb=null;function Mb(){return Lb=Lb||new B}function Nb(a){w.call(this,G.Pa,a)}function H(a){const b=Mb();C(b,new Nb(b))}function Ob(a,b){w.call(this,G.STAT_EVENT,a),this.stat=b}function I(a){const b=Mb();C(b,new Ob(b,a))}function Pb(a,b){w.call(this,G.Qa,a),this.size=b}function J(a,b){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return l.setTimeout((function(){a()}),b)}G.Pa="serverreachability",t(Nb,w),G.STAT_EVENT="statevent",t(Ob,w),G.Qa="timingevent",t(Pb,w);var Qb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sb(){}function Tb(a){return a.h||(a.h=a.i())}function Ub(){}Sb.prototype.h=null;var Xb,K={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vb(){w.call(this,"d")}function Wb(){w.call(this,"c")}function Yb(){}function L(a,b,c,d){this.l=a,this.j=b,this.m=c,this.U=d||1,this.S=new D(this),this.O=Zb,a=ya?125:void 0,this.T=new yb(a),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $b}function $b(){this.i=null,this.g="",this.h=!1}t(Vb,w),t(Wb,w),t(Yb,Sb),Yb.prototype.g=function(){return new XMLHttpRequest},Yb.prototype.i=function(){return{}},Xb=new Yb;var Zb=45e3,ac={},bc={};function cc(a,b,c){a.K=1,a.v=dc(M(b)),a.s=c,a.P=!0,ec(a,null)}function ec(a,b){a.F=Date.now(),N(a),a.A=M(a.v);var c=a.A,d=a.U;Array.isArray(d)||(d=[String(d)]),fc(c.i,"t",d),a.C=0,c=a.l.H,a.h=new $b,a.g=gc(a.l,c?b:null,!a.s),0<a.N&&(a.L=new Cb(q(a.La,a,a.g),a.N)),Eb(a.S,a.g,"readystatechange",a.ib),b=a.H?Ra(a.H):{},a.s?(a.u||(a.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.g.da(a.A,a.u,a.s,b)):(a.u="GET",a.g.da(a.A,a.u,null,b)),H(),function Hb(a,b,c,d,e,f){a.info((function(){if(a.g)if(f)for(var h="",n=f.split("&"),u=0;u<n.length;u++){var m=n[u].split("=");if(1<m.length){var r=m[0];m=m[1];var F=r.split("_");h=2<=F.length&&"type"==F[1]?h+(r+"=")+m+"&":h+(r+"=redacted&")}}else h=null;else h=f;return"XMLHTTP REQ ("+d+") [attempt "+e+"]: "+b+"\n"+c+"\n"+h}))}(a.j,a.u,a.A,a.m,a.U,a.s)}function jc(a){return!!a.g&&("GET"==a.u&&2!=a.K&&a.l.Da)}function lc(a,b,c){let e,d=!0;for(;!a.I&&a.C<c.length;){if(e=nc(a,c),e==bc){4==b&&(a.o=4,I(14),d=!1),E(a.j,a.m,null,"[Incomplete Response]");break}if(e==ac){a.o=4,I(15),E(a.j,a.m,c,"[Invalid Chunk]"),d=!1;break}E(a.j,a.m,e,null),kc(a,e)}jc(a)&&e!=bc&&e!=ac&&(a.h.g="",a.C=0),4!=b||0!=c.length||a.h.h||(a.o=1,I(16),d=!1),a.i=a.i&&d,d?0<c.length&&!a.$&&(a.$=!0,(b=a.l).g==a&&b.$&&!b.K&&(b.j.info("Great, no buffering proxy detected. Bytes received: "+c.length),oc(b),b.K=!0,I(11))):(E(a.j,a.m,c,"[Invalid Chunked Response]"),P(a),Q(a))}function nc(a,b){var c=a.C,d=b.indexOf("\n",c);return-1==d?bc:(c=Number(b.substring(c,d)),isNaN(c)?ac:(d+=1)+c>b.length?bc:(b=b.substr(d,c),a.C=d+c,b))}function N(a){a.V=Date.now()+a.O,pc(a,a.O)}function pc(a,b){if(null!=a.B)throw Error("WatchDog timer not null");a.B=J(q(a.gb,a),b)}function ic(a){a.B&&(l.clearTimeout(a.B),a.B=null)}function Q(a){0==a.l.G||a.I||mc(a.l,a)}function P(a){ic(a);var b=a.L;b&&"function"==typeof b.na&&b.na(),a.L=null,zb(a.T),Fb(a.S),a.g&&(b=a.g,a.g=null,b.abort(),b.na())}function kc(a,b){try{var c=a.l;if(0!=c.G&&(c.g==a||qc(c.h,a)))if(!a.J&&qc(c.h,a)&&3==c.G){try{var d=c.Fa.g.parse(b)}catch(m){d=null}if(Array.isArray(d)&&3==d.length){var e=d;if(0==e[0]){a:if(!c.u){if(c.g){if(!(c.g.F+3e3<a.F))break a;rc(c),sc(c)}tc(c),I(18)}}else c.Ba=e[1],0<c.Ba-c.T&&37500>e[2]&&c.L&&0==c.A&&!c.v&&(c.v=J(q(c.cb,c),6e3));if(1>=uc(c.h)&&c.ja){try{c.ja()}catch(m){}c.ja=void 0}}else R(c,11)}else if((a.J||c.g==a)&&rc(c),!pa(b))for(e=c.Fa.g.parse(b),b=0;b<e.length;b++){let m=e[b];if(c.T=m[0],m=m[1],2==c.G)if("c"==m[0]){c.I=m[1],c.ka=m[2];const r=m[3];null!=r&&(c.ma=r,c.j.info("VER="+c.ma));const F=m[4];null!=F&&(c.Ca=F,c.j.info("SVER="+c.Ca));const Ca=m[5];null!=Ca&&"number"==typeof Ca&&0<Ca&&(d=1.5*Ca,c.J=d,c.j.info("backChannelRequestTimeoutMs_="+d)),d=c;const Z=a.g;if(Z){const Da=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var f=d.h;f.g||-1==Da.indexOf("spdy")&&-1==Da.indexOf("quic")&&-1==Da.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vc(f,f.h),f.h=null))}if(d.D){const tb=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;tb&&(d.za=tb,S(d.F,d.D,tb))}}c.G=3,c.l&&c.l.xa(),c.$&&(c.P=Date.now()-a.F,c.j.info("Handshake RTT: "+c.P+"ms"));var h=a;if((d=c).sa=wc(d,d.H?d.ka:null,d.V),h.J){xc(d.h,h);var n=h,u=d.J;u&&n.setTimeout(u),n.B&&(ic(n),N(n)),d.g=h}else yc(d);0<c.i.length&&zc(c)}else"stop"!=m[0]&&"close"!=m[0]||R(c,7);else 3==c.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?R(c,7):Ac(c):"noop"!=m[0]&&c.l&&c.l.wa(m),c.A=0)}H()}catch(m){}}function Dc(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ba(a)||"string"==typeof a)Array.prototype.forEach.call(a,b,void 0);else for(var c=function Cc(a){if(a.oa&&"function"==typeof a.oa)return a.oa();if(!a.W||"function"!=typeof a.W){if("undefined"!=typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!=typeof Set&&a instanceof Set)){if(ba(a)||"string"==typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}b=[],c=0;for(const d in a)b[c++]=d;return b}}}(a),d=function Bc(a){if(a.W&&"function"==typeof a.W)return a.W();if("undefined"!=typeof Map&&a instanceof Map||"undefined"!=typeof Set&&a instanceof Set)return Array.from(a.values());if("string"==typeof a)return a.split("");if(ba(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}for(d in b=[],c=0,a)b[c++]=a[d];return b}(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}(k=L.prototype).setTimeout=function(a){this.O=a},k.ib=function(a){a=a.target;const b=this.L;b&&3==O(a)?b.l():this.La(a)},k.La=function(a){try{if(a==this.g)a:{const r=O(this.g);var b=this.g.Ea();this.g.aa();if(!(3>r)&&(3!=r||ya||this.g&&(this.h.h||this.g.fa()||hc(this.g)))){this.I||4!=r||7==b||H(),ic(this);var c=this.g.aa();this.Y=c;b:if(jc(this)){var d=hc(this.g);a="";var e=d.length,f=4==O(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){P(this),Q(this);var h="";break b}this.h.i=new l.TextDecoder}for(b=0;b<e;b++)this.h.h=!0,a+=this.h.i.decode(d[b],{stream:f&&b==e-1});d.splice(0,e),this.h.g+=a,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==c,function Ib(a,b,c,d,e,f,h){a.info((function(){return"XMLHTTP RESP ("+d+") [ attempt "+e+"]: "+b+"\n"+c+"\n"+f+" "+h}))}(this.j,this.u,this.A,this.m,this.U,r,c),this.i){if(this.Z&&!this.J){b:{if(this.g){var n,u=this.g;if((n=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa(n)){var m=n;break b}}m=null}if(!(c=m)){this.i=!1,this.o=3,I(12),P(this),Q(this);break a}E(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kc(this,c)}this.P?(lc(this,r,h),ya&&this.i&&3==r&&(Eb(this.S,this.T,"tick",this.hb),this.T.start())):(E(this.j,this.m,h,null),kc(this,h)),4==r&&P(this),this.i&&!this.I&&(4==r?mc(this.l,this):(this.i=!1,N(this)))}else 400==c&&0<h.indexOf("Unknown SID")?(this.o=3,I(12)):(this.o=0,I(13)),P(this),Q(this)}}}catch(r){}},k.hb=function(){if(this.g){var a=O(this.g),b=this.g.fa();this.C<b.length&&(ic(this),lc(this,a,b),this.i&&4!=a&&N(this))}},k.cancel=function(){this.I=!0,P(this)},k.gb=function(){this.B=null;const a=Date.now();0<=a-this.V?(function Kb(a,b){a.info((function(){return"TIMEOUT: "+b}))}(this.j,this.A),2!=this.K&&(H(),I(17)),P(this),this.o=2,Q(this)):pc(this,this.V-a)};var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T(a,b){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,a instanceof T){this.h=void 0!==b?b:a.h,Gc(this,a.j),this.s=a.s,this.g=a.g,Hc(this,a.m),this.l=a.l,b=a.i;var c=new Ic;c.i=b.i,b.g&&(c.g=new Map(b.g),c.h=b.h),Jc(this,c),this.o=a.o}else a&&(c=String(a).match(Ec))?(this.h=!!b,Gc(this,c[1]||"",!0),this.s=Kc(c[2]||""),this.g=Kc(c[3]||"",!0),Hc(this,c[4]),this.l=Kc(c[5]||"",!0),Jc(this,c[6]||"",!0),this.o=Kc(c[7]||"")):(this.h=!!b,this.i=new Ic(null,this.h))}function M(a){return new T(a)}function Gc(a,b,c){a.j=c?Kc(b,!0):b,a.j&&(a.j=a.j.replace(/:$/,""))}function Hc(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.m=b}else a.m=null}function Jc(a,b,c){b instanceof Ic?(a.i=b,function Qc(a,b){b&&!a.j&&(U(a),a.i=null,a.g.forEach((function(c,d){var e=d.toLowerCase();d!=e&&(Tc(this,d),fc(this,e,c))}),a)),a.j=b}(a.i,a.h)):(c||(b=Lc(b,Rc)),a.i=new Ic(b,a.h))}function S(a,b,c){a.i.set(b,c)}function dc(a){return S(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Kc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Lc(a,b,c){return"string"==typeof a?(a=encodeURI(a).replace(b,Sc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Sc(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}T.prototype.toString=function(){var a=[],b=this.j;b&&a.push(Lc(b,Mc,!0),":");var c=this.g;return(c||"file"==b)&&(a.push("//"),(b=this.s)&&a.push(Lc(b,Mc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&a.push(":",String(c))),(c=this.l)&&(this.g&&"/"!=c.charAt(0)&&a.push("/"),a.push(Lc(c,"/"==c.charAt(0)?Nc:Oc,!0))),(c=this.i.toString())&&a.push("?",c),(c=this.o)&&a.push("#",Lc(c,Pc)),a.join("")};var Mc=/[#\/\?@]/g,Oc=/[#\?:]/g,Nc=/[#\?]/g,Rc=/[#\?@]/g,Pc=/#/g;function Ic(a,b){this.h=this.g=null,this.i=a||null,this.j=!!b}function U(a){a.g||(a.g=new Map,a.h=0,a.i&&function Fc(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(a.i,(function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)})))}function Tc(a,b){U(a),b=V(a,b),a.g.has(b)&&(a.i=null,a.h-=a.g.get(b).length,a.g.delete(b))}function Uc(a,b){return U(a),b=V(a,b),a.g.has(b)}function fc(a,b,c){Tc(a,b),0<c.length&&(a.i=null,a.g.set(V(a,b),ma(c)),a.h+=c.length)}function V(a,b){return b=String(b),a.j&&(b=b.toLowerCase()),b}(k=Ic.prototype).add=function(a,b){U(this),this.i=null,a=V(this,a);var c=this.g.get(a);return c||this.g.set(a,c=[]),c.push(b),this.h+=1,this},k.forEach=function(a,b){U(this),this.g.forEach((function(c,d){c.forEach((function(e){a.call(b,e,d,this)}),this)}),this)},k.oa=function(){U(this);const a=Array.from(this.g.values()),b=Array.from(this.g.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c},k.W=function(a){U(this);let b=[];if("string"==typeof a)Uc(this,a)&&(b=b.concat(this.g.get(V(this,a))));else{a=Array.from(this.g.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b},k.set=function(a,b){return U(this),this.i=null,Uc(this,a=V(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[b]),this.h+=1,this},k.get=function(a,b){return a&&0<(a=this.W(a)).length?String(a[0]):b},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],b=Array.from(this.g.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),h=this.W(d);for(d=0;d<h.length;d++){var e=f;""!==h[d]&&(e+="="+encodeURIComponent(String(h[d]))),a.push(e)}}return this.i=a.join("&")};function Wc(a){this.l=a||Xc,l.PerformanceNavigationTiming?a=0<(a=l.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(l.g&&l.g.Ga&&l.g.Ga()&&l.g.Ga().$b),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc=10;function Yc(a){return!!a.h||!!a.g&&a.g.size>=a.j}function uc(a){return a.h?1:a.g?a.g.size:0}function qc(a,b){return a.h?a.h==b:!!a.g&&a.g.has(b)}function vc(a,b){a.g?a.g.add(b):a.h=b}function xc(a,b){a.h&&a.h==b?a.h=null:a.g&&a.g.has(b)&&a.g.delete(b)}function Zc(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let b=a.i;for(const c of a.g.values())b=b.concat(c.D);return b}return ma(a.i)}function $c(){}function ad(){this.g=new $c}function bd(a,b,c){const d=c||"";try{Dc(a,(function(e,f){let h=e;p(e)&&(h=lb(e)),b.push(d+f+"="+encodeURIComponent(h))}))}catch(e){throw b.push(d+"type="+encodeURIComponent("_badmap")),e}}function dd(a,b,c,d,e){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,e(d)}catch(f){}}function ed(a){this.l=a.ac||null,this.j=a.jb||!1}function fd(a,b){B.call(this),this.D=a,this.u=b,this.m=void 0,this.readyState=gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wc.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},$c.prototype.stringify=function(a){return l.JSON.stringify(a,void 0)},$c.prototype.parse=function(a){return l.JSON.parse(a,void 0)},t(ed,Sb),ed.prototype.g=function(){return new fd(this.l,this.j)},ed.prototype.i=function(a){return function(){return a}}({}),t(fd,B);var gd=0;function jd(a){a.j.read().then(a.Ta.bind(a)).catch(a.ga.bind(a))}function id(a){a.readyState=4,a.l=null,a.j=null,a.A=null,hd(a)}function hd(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(k=fd.prototype).open=function(a,b){if(this.readyState!=gd)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=b,this.readyState=1,hd(this)},k.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(b.body=a),(this.D||l).fetch(new Request(this.B,b)).then(this.Wa.bind(this),this.ga.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,id(this)),this.readyState=gd},k.Wa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==l.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jd(this)}else a.text().then(this.Va.bind(this),this.ga.bind(this))},k.Ta=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var b=a.value?a.value:new Uint8Array(0);(b=this.A.decode(b,{stream:!a.done}))&&(this.response=this.responseText+=b)}a.done?id(this):hd(this),3==this.readyState&&jd(this)}},k.Va=function(a){this.g&&(this.response=this.responseText=a,id(this))},k.Ua=function(a){this.g&&(this.response=a,id(this))},k.ga=function(){this.g&&id(this)},k.setRequestHeader=function(a,b){this.v.append(a,b)},k.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],b=this.h.entries();for(var c=b.next();!c.done;)c=c.value,a.push(c[0]+": "+c[1]),c=b.next();return a.join("\r\n")},Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var kd=l.JSON.parse;function W(a){B.call(this),this.headers=new Map,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ld,this.K=this.L=!1}t(W,B);var ld="",md=/^https?$/i,nd=["POST","PUT"];function od(a,b){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=b,a.m=5,rd(a),sd(a)}function rd(a){a.D||(a.D=!0,C(a,"complete"),C(a,"error"))}function td(a){if(a.h&&void 0!==goog&&(!a.C[1]||4!=O(a)||2!=a.aa()))if(a.v&&4==O(a))Ab(a.Ha,0,a);else if(C(a,"readystatechange"),4==O(a)){a.h=!1;try{const n=a.aa();a:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}var c;if(!(c=b)){var d;if(d=0===n){var e=String(a.H).match(Ec)[1]||null;if(!e&&l.self&&l.self.location){var f=l.self.location.protocol;e=f.substr(0,f.length-1)}d=!md.test(e?e.toLowerCase():"")}c=d}if(c)C(a,"complete"),C(a,"success");else{a.m=6;try{var h=2<O(a)?a.g.statusText:""}catch(u){h=""}a.j=h+" ["+a.aa()+"]",rd(a)}}finally{sd(a)}}}function sd(a,b){if(a.g){pd(a);const c=a.g,d=a.C[0]?aa:null;a.g=null,a.C=null,b||C(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function pd(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(l.clearTimeout(a.A),a.A=null)}function O(a){return a.g?a.g.readyState:0}function hc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case ld:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}function ud(a){let b="";return Qa(a,(function(c,d){b+=d,b+=":",b+=c,b+="\r\n"})),b}function vd(a,b,c){a:{for(d in c){var d=!1;break a}d=!0}d||(c=ud(c),"string"==typeof a?null!=c&&encodeURIComponent(String(c)):S(a,b,c))}function wd(a,b,c){return c&&c.internalChannelParams&&c.internalChannelParams[a]||b}function xd(a){this.Ca=0,this.i=[],this.j=new Gb,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wd("failFast",!1,a),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wd("baseRetryDelayMs",5e3,a),this.bb=wd("retryDelaySeedMs",1e4,a),this.$a=wd("forwardChannelMaxRetries",2,a),this.ta=wd("forwardChannelRequestTimeoutMs",2e4,a),this.ra=a&&a.xmlHttpFactory||void 0,this.Da=a&&a.Zb||!1,this.J=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.I="",this.h=new Wc(a&&a.concurrentRequestLimit),this.Fa=new ad,this.O=a&&a.fastHandshake||!1,this.N=a&&a.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=a&&a.Xb||!1,a&&a.Aa&&this.j.Aa(),a&&a.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&a&&a.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ac(a){if(yd(a),3==a.G){var b=a.U++,c=M(a.F);S(c,"SID",a.I),S(c,"RID",b),S(c,"TYPE","terminate"),zd(a,c),(b=new L(a,a.j,b,void 0)).K=2,b.v=dc(M(c)),c=!1,l.navigator&&l.navigator.sendBeacon&&(c=l.navigator.sendBeacon(b.v.toString(),"")),!c&&l.Image&&((new Image).src=b.v,c=!0),c||(b.g=gc(b.l,null),b.g.da(b.v)),b.F=Date.now(),N(b)}Ad(a)}function sc(a){a.g&&(oc(a),a.g.cancel(),a.g=null)}function yd(a){sc(a),a.u&&(l.clearTimeout(a.u),a.u=null),rc(a),a.h.cancel(),a.m&&("number"==typeof a.m&&l.clearTimeout(a.m),a.m=null)}function zc(a){Yc(a.h)||a.m||(a.m=!0,sb(a.Ja,a),a.C=0)}function Ed(a,b){var c;c=b?b.m:a.U++;const d=M(a.F);S(d,"SID",a.I),S(d,"RID",c),S(d,"AID",a.T),zd(a,d),a.o&&a.s&&vd(d,a.o,a.s),c=new L(a,a.j,c,a.C+1),null===a.o&&(c.H=a.s),b&&(a.i=b.D.concat(a.i)),b=Dd(a,c,1e3),c.setTimeout(Math.round(.5*a.ta)+Math.round(.5*a.ta*Math.random())),vc(a.h,c),cc(c,d,b)}function zd(a,b){a.ia&&Qa(a.ia,(function(c,d){S(b,d,c)})),a.l&&Dc({},(function(c,d){S(b,d,c)}))}function Dd(a,b,c){c=Math.min(a.i.length,c);var d=a.l?q(a.l.Ra,a.l,a):null;a:{var e=a.i;let f=-1;for(;;){const h=["count="+c];-1==f?0<c?(f=e[0].h,h.push("ofs="+f)):f=0:h.push("ofs="+f);let n=!0;for(let u=0;u<c;u++){let m=e[u].h;const r=e[u].g;if(m-=f,0>m)f=Math.max(0,e[u].h-100),n=!1;else try{bd(r,h,"req"+m+"_")}catch(F){d&&d(r)}}if(n){d=h.join("&");break a}}}return a=a.i.splice(0,c),b.D=a,d}function yc(a){a.g||a.u||(a.Z=1,sb(a.Ia,a),a.A=0)}function tc(a){return!(a.g||a.u||3<=a.A)&&(a.Z++,a.u=J(q(a.Ia,a),Cd(a,a.A)),a.A++,!0)}function oc(a){null!=a.B&&(l.clearTimeout(a.B),a.B=null)}function Fd(a){a.g=new L(a,a.j,"rpc",a.Z),null===a.o&&(a.g.H=a.s),a.g.N=0;var b=M(a.sa);S(b,"RID","rpc"),S(b,"SID",a.I),S(b,"CI",a.L?"0":"1"),S(b,"AID",a.T),S(b,"TYPE","xmlhttp"),zd(a,b),a.o&&a.s&&vd(b,a.o,a.s),a.J&&a.g.setTimeout(a.J);var c=a.g;a=a.ka,c.K=1,c.v=dc(M(b)),c.s=null,c.P=!0,ec(c,a)}function rc(a){null!=a.v&&(l.clearTimeout(a.v),a.v=null)}function mc(a,b){var c=null;if(a.g==b){rc(a),oc(a),a.g=null;var d=2}else{if(!qc(a.h,b))return;c=b.D,xc(a.h,b),d=1}if(0!=a.G)if(a.pa=b.Y,b.i)if(1==d){c=b.s?b.s.length:0,b=Date.now()-b.F;var e=a.C;C(d=Mb(),new Pb(d,c)),zc(a)}else yc(a);else if(3==(e=b.o)||0==e&&0<a.pa||!(1==d&&function Bd(a,b){return!(uc(a.h)>=a.h.j-(a.m?1:0)||(a.m?(a.i=b.D.concat(a.i),0):1==a.G||2==a.G||a.C>=(a.Za?0:a.$a)||(a.m=J(q(a.Ja,a,b),Cd(a,a.C)),a.C++,0)))}(a,b)||2==d&&tc(a)))switch(c&&0<c.length&&(b=a.h,b.i=b.i.concat(c)),e){case 1:R(a,5);break;case 4:R(a,10);break;case 3:R(a,6);break;default:R(a,2)}}function Cd(a,b){let c=a.Xa+Math.floor(Math.random()*a.bb);return a.l||(c*=2),c*b}function R(a,b){if(a.j.info("Error code "+b),2==b){var c=null;a.l&&(c=null);var d=q(a.kb,a);c||(c=new T("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||Gc(c,"https"),dc(c)),function cd(a,b){const c=new Gb;if(l.Image){const d=new Image;d.onload=ia(dd,c,d,"TestLoadImage: loaded",!0,b),d.onerror=ia(dd,c,d,"TestLoadImage: error",!1,b),d.onabort=ia(dd,c,d,"TestLoadImage: abort",!1,b),d.ontimeout=ia(dd,c,d,"TestLoadImage: timeout",!1,b),l.setTimeout((function(){d.ontimeout&&d.ontimeout()}),1e4),d.src=a}else b(!1)}(c.toString(),d)}else I(2);a.G=0,a.l&&a.l.va(b),Ad(a),yd(a)}function Ad(a){if(a.G=0,a.la=[],a.l){const b=Zc(a.h);0==b.length&&0==a.i.length||(na(a.la,b),na(a.la,a.i),a.h.i.length=0,ma(a.i),a.i.length=0),a.l.ua()}}function wc(a,b,c){var d=c instanceof T?M(c):new T(c,void 0);if(""!=d.g)b&&(d.g=b+"."+d.g),Hc(d,d.m);else{var e=l.location;d=e.protocol,b=b?b+"."+e.hostname:e.hostname,e=+e.port;var f=new T(null,void 0);d&&Gc(f,d),b&&(f.g=b),e&&Hc(f,e),c&&(f.l=c),d=f}return c=a.D,b=a.za,c&&b&&S(d,c,b),S(d,"VER",a.ma),zd(a,d),d}function gc(a,b,c){if(b&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(b=c&&a.Da&&!a.ra?new W(new ed({jb:!0})):new W(a.ra)).Ka(a.H),b}function Gd(){}function Hd(){if(y&&!(10<=Number(La)))throw Error("Environmental error: no available transport.")}function X(a,b){B.call(this),this.g=new xd(b),this.l=a,this.h=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.ya&&(a?a["X-WebChannel-Client-Profile"]=b.ya:a={"X-WebChannel-Client-Profile":b.ya}),this.g.S=a,(a=b&&b.Yb)&&!pa(a)&&(this.g.o=a),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!pa(b)&&(this.g.D=b,null!==(a=this.h)&&b in a&&(b in(a=this.h)&&delete a[b])),this.j=new Y(this)}function Id(a){Vb.call(this);var b=a.__sm__;if(b){a:{for(const c in b){a=c;break a}a=void 0}(this.i=a)&&(a=this.i,b=null!==b&&a in b?b[a]:void 0),this.data=b}else this.data=a}function Jd(){Wb.call(this),this.status=1}function Y(a){this.g=a}(k=W.prototype).Ka=function(a){this.L=a},k.da=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xb.g(),this.C=this.u?Tb(this.u):Tb(Xb),this.g.onreadystatechange=q(this.Ha,this);try{this.F=!0,this.g.open(b,String(a),!0),this.F=!1}catch(f){return void od(this,f)}if(a=c||"",c=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else{if("function"!=typeof d.keys||"function"!=typeof d.get)throw Error("Unknown input type for opt_headers: "+String(d));for(const f of d.keys())c.set(f,d.get(f))}d=Array.from(c.keys()).find((f=>"content-type"==f.toLowerCase())),e=l.FormData&&a instanceof l.FormData,!(0<=la(nd,b))||d||e||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,h]of c)this.g.setRequestHeader(f,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pd(this),0<this.B&&((this.K=function qd(a){return y&&Ia()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.qa,this)):this.A=Ab(this.qa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(f){od(this,f)}},k.qa=function(){void 0!==goog&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C(this,"timeout"),this.abort(8))},k.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,C(this,"complete"),C(this,"abort"),sd(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),W.X.M.call(this)},k.Ha=function(){this.s||(this.F||this.v||this.l?td(this):this.fb())},k.fb=function(){td(this)},k.aa=function(){try{return 2<O(this)?this.g.status:-1}catch(a){return-1}},k.fa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},k.Sa=function(a){if(this.g){var b=this.g.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),kd(b)}},k.Ea=function(){return this.m},k.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=xd.prototype).ma=8,k.G=1,k.Ja=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const e=new L(this,this.j,a,void 0);let f=this.s;if(this.S&&(f?(f=Ra(f),Ta(f,this.S)):f=this.S),null!==this.o||this.N||(e.H=f,f=null),this.O)a:{for(var b=0,c=0;c<this.i.length;c++){var d=this.i[c];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(b+=d)){b=c;break a}if(4096===b||c===this.i.length-1){b=c+1;break a}}b=1e3}else b=1e3;b=Dd(this,e,b),S(c=M(this.F),"RID",a),S(c,"CVER",22),this.D&&S(c,"X-HTTP-Session-Id",this.D),zd(this,c),f&&(this.N?b="headers="+encodeURIComponent(String(ud(f)))+"&"+b:this.o&&vd(c,this.o,f)),vc(this.h,e),this.Ya&&S(c,"TYPE","init"),this.O?(S(c,"$req",b),S(c,"SID","null"),e.Z=!0,cc(e,c,null)):cc(e,c,b),this.G=2}}else 3==this.G&&(a?Ed(this,a):0==this.i.length||Yc(this.h)||Ed(this))},k.Ia=function(){if(this.u=null,Fd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var a=2*this.P;this.j.info("BP detection timer enabled: "+a),this.B=J(q(this.eb,this),a)}},k.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,I(10),sc(this),Fd(this))},k.cb=function(){null!=this.v&&(this.v=null,sc(this),tc(this),I(19))},k.kb=function(a){a?(this.j.info("Successfully pinged google.com"),I(2)):(this.j.info("Failed to ping google.com"),I(1))},(k=Gd.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Ra=function(){},Hd.prototype.g=function(a,b){return new X(a,b)},t(X,B),X.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var a=this.g,b=this.l,c=this.h||void 0;I(0),a.V=b,a.ia=c||{},a.L=a.Y,a.F=wc(a,null,a.V),zc(a)},X.prototype.close=function(){Ac(this.g)},X.prototype.u=function(a){var b=this.g;if("string"==typeof a){var c={};c.__data__=a,a=c}else this.v&&((c={}).__data__=lb(a),a=c);b.i.push(new class{constructor(a,b){this.h=a,this.g=b}}(b.ab++,a)),3==b.G&&zc(b)},X.prototype.M=function(){this.g.l=null,delete this.j,Ac(this.g),delete this.g,X.X.M.call(this)},t(Id,Vb),t(Jd,Wb),t(Y,Gd),Y.prototype.xa=function(){C(this.g,"a")},Y.prototype.wa=function(a){C(this.g,new Id(a))},Y.prototype.va=function(a){C(this.g,new Jd)},Y.prototype.ua=function(){C(this.g,"b")},Hd.prototype.createWebChannel=Hd.prototype.g,X.prototype.send=X.prototype.u,X.prototype.open=X.prototype.m,X.prototype.close=X.prototype.close,Qb.NO_ERROR=0,Qb.TIMEOUT=8,Qb.HTTP_ERROR=6,Rb.COMPLETE="complete",Ub.EventType=K,K.OPEN="a",K.CLOSE="b",K.ERROR="c",K.MESSAGE="d",B.prototype.listen=B.prototype.N,W.prototype.listenOnce=W.prototype.O,W.prototype.getLastError=W.prototype.Oa,W.prototype.getLastErrorCode=W.prototype.Ea,W.prototype.getStatus=W.prototype.aa,W.prototype.getResponseJson=W.prototype.Sa,W.prototype.getResponseText=W.prototype.fa,W.prototype.send=W.prototype.da,W.prototype.setWithCredentials=W.prototype.Ka;esm.createWebChannelTransport=function(){return new Hd},esm.getStatEventTarget=function(){return Mb()},esm.ErrorCode=Qb,esm.EventType=Rb,esm.Event=G,esm.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},esm.FetchXmlHttpFactory=ed,esm.WebChannel=Ub,esm.XhrIo=W,__webpack_require__("./node_modules/process/browser.js");class b{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");let index_esm2017_P="9.19.0";const index_esm2017_V=new dist_esm_index_esm2017.Yd("@firebase/firestore");function index_esm2017_C(t,...e){if(index_esm2017_V.logLevel<=dist_esm_index_esm2017.in.DEBUG){const n=e.map(index_esm2017_k);index_esm2017_V.debug(`Firestore (${index_esm2017_P}): ${t}`,...n)}}function index_esm2017_x(t,...e){if(index_esm2017_V.logLevel<=dist_esm_index_esm2017.in.ERROR){const n=e.map(index_esm2017_k);index_esm2017_V.error(`Firestore (${index_esm2017_P}): ${t}`,...n)}}function index_esm2017_N(t,...e){if(index_esm2017_V.logLevel<=dist_esm_index_esm2017.in.WARN){const n=e.map(index_esm2017_k);index_esm2017_V.warn(`Firestore (${index_esm2017_P}): ${t}`,...n)}}function index_esm2017_k(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function index_esm2017_O(t="Unexpected state"){const e=`FIRESTORE (${index_esm2017_P}) INTERNAL ASSERTION FAILED: `+t;throw index_esm2017_x(e),new Error(e)}function $(t,e){t||index_esm2017_O()}const index_esm2017_B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class index_esm2017_L extends dist_index_esm2017.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class index_esm2017_q{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class index_esm2017_U{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class index_esm2017_K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(b.UNAUTHENTICATED)))}shutdown(){}}class index_esm2017_G{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class index_esm2017_Q{constructor(t){this.t=t,this.currentUser=b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const s=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new index_esm2017_q;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new index_esm2017_q,t.enqueueRetryable((()=>s(this.currentUser)))};const r=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await s(this.currentUser)}))},o=t=>{index_esm2017_C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(index_esm2017_C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new index_esm2017_q)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(index_esm2017_C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?($("string"==typeof e.accessToken),new index_esm2017_U(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $(null===t||"string"==typeof t),new b(t)}}class index_esm2017_z{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=b.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new index_esm2017_z(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(b.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class index_esm2017_W{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class index_esm2017_H{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&index_esm2017_C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.T;return this.T=t.token,index_esm2017_C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const s=t=>{index_esm2017_C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit((t=>s(t))),setTimeout((()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?s(t):index_esm2017_C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?($("string"==typeof t.token),this.T=t.token,new index_esm2017_W(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function index_esm2017_Y(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class Z{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const s=index_esm2017_Y(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%62))}return n}}function index_esm2017_X(t,e){return t<e?-1:t>e?1:0}class it{constructor(t,e,n){void 0===e?e=0:e>t.length&&index_esm2017_O(),void 0===n?n=t.length-e:n>t.length-e&&index_esm2017_O(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===it.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof it?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const n=t.get(s),i=e.get(s);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class rt extends it{construct(t,e,n){return new rt(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new rt(e)}static emptyPath(){return new rt([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(rt.fromString(t))}static fromName(t){return new ct(rt.fromString(t).popFirst(5))}static empty(){return new ct(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===rt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return rt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new rt(t.slice()))}}class at{constructor(t,e,n,s){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=s}}at.UNKNOWN_ID=-1;function Vt(t){return"IndexedDbTransactionError"===t.name}class Ot{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function Mt(t){return 0===t&&1/t==-1/0}Ot.ct=-1;const ue=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ae=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],he=ae;class ge{constructor(t,e){this.comparator=t,this.root=e||pe.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pe.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(0===s)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ye(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ye(this.root,t,this.comparator,!1)}getReverseIterator(){return new ye(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ye(this.root,t,this.comparator,!0)}}class ye{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pe{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=null!=n?n:pe.RED,this.left=null!=s?s:pe.EMPTY,this.right=null!=i?i:pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new pe(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):0===i?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return pe.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw index_esm2017_O();if(this.right.isRed())throw index_esm2017_O();const t=this.left.check();if(t!==this.right.check())throw index_esm2017_O();return t+(this.isRed()?0:1)}}pe.EMPTY=null,pe.RED=!0,pe.BLACK=!1,pe.EMPTY=new class{constructor(){this.size=0}get key(){throw index_esm2017_O()}get value(){throw index_esm2017_O()}get color(){throw index_esm2017_O()}get left(){throw index_esm2017_O()}get right(){throw index_esm2017_O()}copy(t,e,n,s,i){return this}insert(t,e,n){return new pe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Te(this.data.getIterator())}getIteratorFrom(t){return new Te(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ie))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,s=n.getNext().key;if(0!==this.comparator(t,s))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ie(this.comparator);return e.data=t,e}}class Te{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Re extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class be{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Re("Invalid base64 string: "+t):t}}(t);return new be(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new be(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return index_esm2017_X(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}be.EMPTY_BYTE_STRING=new be("");function Se(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function De(t){return"string"==typeof t?be.fromBase64String(t):be.fromUint8Array(t)}class ke{constructor(t,e,n,s,i,r,o,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.useFetchStreams=u}}class Oe{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Oe("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Oe&&t.projectId===this.projectId&&t.database===this.database}}function Ze(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}new ge(ct.comparator);new ge(ct.comparator);new ge(ct.comparator),new Ie(ct.comparator);new Ie(index_esm2017_X);var si,ii;(ii=si||(si={}))[ii.OK=0]="OK",ii[ii.CANCELLED=1]="CANCELLED",ii[ii.UNKNOWN=2]="UNKNOWN",ii[ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ii[ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ii[ii.NOT_FOUND=5]="NOT_FOUND",ii[ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",ii[ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",ii[ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",ii[ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ii[ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ii[ii.ABORTED=10]="ABORTED",ii[ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",ii[ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",ii[ii.INTERNAL=13]="INTERNAL",ii[ii.UNAVAILABLE=14]="UNAVAILABLE",ii[ii.DATA_LOSS=15]="DATA_LOSS";class pr{constructor(){}oe(t,e){this.ue(t,e),e.ce()}ue(t,e){if("nullValue"in t)this.ae(e,5);else if("booleanValue"in t)this.ae(e,10),e.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(e,15),e.he(Se(t.integerValue));else if("doubleValue"in t){const n=Se(t.doubleValue);isNaN(n)?this.ae(e,13):(this.ae(e,15),Mt(n)?e.he(0):e.he(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ae(e,20),"string"==typeof n?e.le(n):(e.le(`${n.seconds||""}`),e.he(n.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,e),this.de(e);else if("bytesValue"in t)this.ae(e,30),e.we(De(t.bytesValue)),this.de(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ae(e,45),e.he(n.latitude||0),e.he(n.longitude||0)}else"mapValue"in t?Ze(t)?this.ae(e,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,e),this.de(e)):"arrayValue"in t?(this.ge(t.arrayValue,e),this.de(e)):index_esm2017_O()}fe(t,e){this.ae(e,25),this.ye(t,e)}ye(t,e){e.le(t)}me(t,e){const n=t.fields||{};this.ae(e,55);for(const t of Object.keys(n))this.fe(t,e),this.ue(n[t],e)}ge(t,e){const n=t.values||[];this.ae(e,50);for(const t of n)this.ue(t,e)}_e(t,e){this.ae(e,37),ct.fromName(t).path.forEach((t=>{this.ae(e,60),this.ye(t,e)}))}ae(t,e){t.he(e)}de(t){t.he(2)}}pr.pe=new pr;new Uint8Array(0);class Hr{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Hr(t,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);function Pu(){return"undefined"!=typeof document?document:null}class Su{constructor(t,e,n=1e3,s=1.5,i=6e4){this.Ws=t,this.timerId=e,this._o=n,this.mo=s,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),s=Math.max(0,e-n);s>0&&index_esm2017_C("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,s,(()=>(this.To=Date.now(),t()))),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class index_esm2017_lc{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new index_esm2017_q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,s,i){const r=Date.now()+n,o=new index_esm2017_lc(t,e,r,s,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new index_esm2017_L(index_esm2017_B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function index_esm2017_fc(t,e){if(index_esm2017_x("AsyncQueue",`${e}: ${t}`),Vt(t))return new index_esm2017_L(index_esm2017_B.UNAVAILABLE,`${e}: ${t}`);throw t}class index_esm2017_Ta{constructor(t,e,n,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=b.UNAUTHENTICATED,this.clientId=Z.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{index_esm2017_C("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(index_esm2017_C("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new index_esm2017_L(index_esm2017_B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new index_esm2017_q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=index_esm2017_fc(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}const index_esm2017_Ka=new Map;function index_esm2017_Wa(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":index_esm2017_O()}function index_esm2017_Ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=index_esm2017_Wa(t);throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class index_esm2017_Ya{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function index_esm2017_Qa(t,e,n,s){if(!0===e&&!0===s)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Za{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new index_esm2017_Ya({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new index_esm2017_L(index_esm2017_B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new index_esm2017_L(index_esm2017_B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new index_esm2017_Ya(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new index_esm2017_K;switch(t.type){case"firstParty":return new j(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=index_esm2017_Ka.get(t);e&&(index_esm2017_C("ComponentProvider","Removing Datastore"),index_esm2017_Ka.delete(t),e.terminate())}(this),Promise.resolve()}}class ch{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Su(this,"async_queue_retry"),this.qc=()=>{const t=Pu();t&&index_esm2017_C("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const t=Pu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const e=Pu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise((()=>{}));const e=new index_esm2017_q;return this.Kc((()=>this.Oc&&this.Bc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.kc.push(t),this.Gc())))}async Gc(){if(0!==this.kc.length){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Vt(t))throw t;index_esm2017_C("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao((()=>this.Gc()))}}Kc(t){const e=this.Nc.then((()=>(this.Fc=!0,t().catch((t=>{this.Mc=t,this.Fc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw index_esm2017_x("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Fc=!1,t))))));return this.Nc=e,e}enqueueAfterDelay(t,e,n){this.Uc(),this.Lc.indexOf(t)>-1&&(e=0);const s=index_esm2017_lc.createAndSchedule(this,t,e,n,(t=>this.Qc(t)));return this.$c.push(s),s}Uc(){this.Mc&&index_esm2017_O()}verifyOperationInProgress(){}async zc(){let t;do{t=this.Nc,await t}while(t!==this.Nc)}jc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Wc(t){return this.zc().then((()=>{this.$c.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()}))}Hc(t){this.Lc.push(t)}Qc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}class fh extends Za{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new ch,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mh(this),this._firestoreClient.terminate()}}function wh(e,n){const s="object"==typeof e?e:(0,index_esm2017.Mq)(),i="string"==typeof e?e:n||"(default)",r=(0,index_esm2017.qX)(s,"firestore").getImmediate({identifier:i});if(!r._initialized){const t=(0,dist_index_esm2017.P0)("firestore");t&&function index_esm2017_Xa(t,e,n,s={}){var i;const r=(t=index_esm2017_Ha(t,Za))._getSettings();if("firestore.googleapis.com"!==r.host&&r.host!==e&&index_esm2017_N("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let e,n;if("string"==typeof s.mockUserToken)e=s.mockUserToken,n=b.MOCK_USER;else{e=(0,dist_index_esm2017.Sg)(s.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const r=s.mockUserToken.sub||s.mockUserToken.user_id;if(!r)throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new b(r)}t._authCredentials=new index_esm2017_G(new index_esm2017_U(e,n))}}(r,...t)}return r}function mh(t){var e,n,s;const i=t._freezeSettings(),r=function(t,e,n,s){return new ke(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new index_esm2017_Ta(t._authCredentials,t._appCheckCredentials,t._queue,r),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(s=i.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}!function(t,e=!0){!function(t){index_esm2017_P=t}(index_esm2017.Jn),(0,index_esm2017.Xd)(new esm_index_esm2017.wA("firestore",((t,{instanceIdentifier:n,options:s})=>{const i=t.getProvider("app").getImmediate(),r=new fh(new index_esm2017_Q(t.getProvider("auth-internal")),new index_esm2017_H(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new index_esm2017_L(index_esm2017_B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oe(t.options.projectId,e)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),r._setSettings(s),r}),"PUBLIC").setMultipleInstances(!0)),(0,index_esm2017.KN)("@firebase/firestore","3.10.0",t),(0,index_esm2017.KN)("@firebase/firestore","3.10.0","esm2017")}()},"./node_modules/next/dist/client/add-base-path.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addBasePath=function addBasePath(path,required){if(process.env.__NEXT_MANUAL_CLIENT_BASE_PATH&&!required)return path;return _normalizeTrailingSlash.normalizePathTrailingSlash(_addPathPrefix.addPathPrefix(path,basePath))};var _addPathPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js"),_normalizeTrailingSlash=__webpack_require__("./node_modules/next/dist/client/normalize-trailing-slash.js");const basePath=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/add-locale.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLocale=void 0;var _normalizeTrailingSlash=__webpack_require__("./node_modules/next/dist/client/normalize-trailing-slash.js");exports.addLocale=(path,...args)=>process.env.__NEXT_I18N_SUPPORT?_normalizeTrailingSlash.normalizePathTrailingSlash(__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-locale.js").addLocale(path,...args)):path,("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/detect-domain-locale.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.detectDomainLocale=void 0;exports.detectDomainLocale=(...args)=>{if(process.env.__NEXT_I18N_SUPPORT)return __webpack_require__("./node_modules/next/dist/shared/lib/i18n/detect-domain-locale.js").D(...args)},("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/has-base-path.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasBasePath=function hasBasePath(path){return _pathHasPrefix.pathHasPrefix(path,basePath)};var _pathHasPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js");const basePath=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/remove-base-path.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeBasePath=function removeBasePath(path){if(process.env.__NEXT_MANUAL_CLIENT_BASE_PATH&&!_hasBasePath.hasBasePath(path))return path;(path=path.slice(basePath.length)).startsWith("/")||(path=`/${path}`);return path};var _hasBasePath=__webpack_require__("./node_modules/next/dist/client/has-base-path.js");const basePath=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/remove-locale.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeLocale=function removeLocale(path,locale){if(process.env.__NEXT_I18N_SUPPORT){const{pathname}=_parsePath.parsePath(path),pathLower=pathname.toLowerCase(),localeLower=null==locale?void 0:locale.toLowerCase();return locale&&(pathLower.startsWith(`/${localeLower}/`)||pathLower===`/${localeLower}`)?`${pathname.length===locale.length+1?"/":""}${path.slice(locale.length+1)}`:path}return path};var _parsePath=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-path.js");("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/route-loader.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.markAssetError=markAssetError,exports.isAssetError=function isAssetError(err){return err&&ASSET_LOAD_ERROR in err},exports.getClientBuildManifest=getClientBuildManifest,exports.createRouteLoader=function createRouteLoader(assetPrefix){const entrypoints=new Map,loadedScripts=new Map,styleSheets=new Map,routes=new Map;function maybeExecuteScript(src){{let prom=loadedScripts.get(src.toString());return prom||(document.querySelector(`script[src^="${src}"]`)?Promise.resolve():(loadedScripts.set(src.toString(),prom=function appendScript(src,script){return new Promise(((resolve,reject)=>{(script=document.createElement("script")).onload=resolve,script.onerror=()=>reject(markAssetError(new Error(`Failed to load script: ${src}`))),script.crossOrigin=process.env.__NEXT_CROSS_ORIGIN,script.src=src,document.body.appendChild(script)}))}(src)),prom))}}function fetchStyleSheet(href){let prom=styleSheets.get(href);return prom||(styleSheets.set(href,prom=fetch(href).then((res=>{if(!res.ok)throw new Error(`Failed to load stylesheet: ${href}`);return res.text().then((text=>({href,content:text})))})).catch((err=>{throw markAssetError(err)}))),prom)}return{whenEntrypoint:route=>withFuture(route,entrypoints),onEntrypoint(route,execute){(execute?Promise.resolve().then((()=>execute())).then((exports=>({component:exports&&exports.default||exports,exports})),(err=>({error:err}))):Promise.resolve(void 0)).then((input=>{const old=entrypoints.get(route);old&&"resolve"in old?input&&(entrypoints.set(route,input),old.resolve(input)):(input?entrypoints.set(route,input):entrypoints.delete(route),routes.delete(route))}))},loadRoute(route,prefetch){return withFuture(route,routes,(()=>resolvePromiseWithTimeout(getFilesForRoute(assetPrefix,route).then((({scripts,css})=>Promise.all([entrypoints.has(route)?[]:Promise.all(scripts.map(maybeExecuteScript)),Promise.all(css.map(fetchStyleSheet))]))).then((res=>this.whenEntrypoint(route).then((entrypoint=>({entrypoint,styles:res[1]}))))),MS_MAX_IDLE_DELAY,markAssetError(new Error(`Route did not complete loading: ${route}`))).then((({entrypoint,styles})=>{const res=Object.assign({styles},entrypoint);return"error"in entrypoint?entrypoint:res})).catch((err=>{if(prefetch)throw err;return{error:err}})).finally((()=>{}))))},prefetch(route){let cn;return(cn=navigator.connection)&&(cn.saveData||/2g/.test(cn.effectiveType))?Promise.resolve():getFilesForRoute(assetPrefix,route).then((output=>Promise.all(canPrefetch?output.scripts.map((script=>function prefetchViaDom(href,as,link){return new Promise(((resolve,reject)=>{const selector=`\n      link[rel="prefetch"][href^="${href}"],\n      link[rel="preload"][href^="${href}"],\n      script[src^="${href}"]`;if(document.querySelector(selector))return resolve();link=document.createElement("link"),as&&(link.as=as),link.rel="prefetch",link.crossOrigin=process.env.__NEXT_CROSS_ORIGIN,link.onload=resolve,link.onerror=()=>reject(markAssetError(new Error(`Failed to prefetch: ${href}`))),link.href=href,document.head.appendChild(link)}))}(script.toString(),"script"))):[]))).then((()=>{_requestIdleCallback.requestIdleCallback((()=>this.loadRoute(route,!0).catch((()=>{}))))})).catch((()=>{}))}}};(0,__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z)(__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/get-asset-path-from-route.js"));var _trustedTypes=__webpack_require__("./node_modules/next/dist/client/trusted-types.js"),_requestIdleCallback=__webpack_require__("./node_modules/next/dist/client/request-idle-callback.js");const MS_MAX_IDLE_DELAY=3800;function withFuture(key,map,generator){let resolver,entry=map.get(key);if(entry)return"future"in entry?entry.future:Promise.resolve(entry);const prom=new Promise((resolve=>{resolver=resolve}));return map.set(key,entry={resolve:resolver,future:prom}),generator?generator().then((value=>(resolver(value),value))).catch((err=>{throw map.delete(key),err})):prom}const ASSET_LOAD_ERROR=Symbol("ASSET_LOAD_ERROR");function markAssetError(err){return Object.defineProperty(err,ASSET_LOAD_ERROR,{})}const canPrefetch=function hasPrefetch(link){try{return link=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||link.relList.supports("prefetch")}catch(e){return!1}}();function resolvePromiseWithTimeout(p,ms,err){return new Promise(((resolve,reject)=>{let cancelled=!1;p.then((r=>{cancelled=!0,resolve(r)})).catch(reject),_requestIdleCallback.requestIdleCallback((()=>setTimeout((()=>{cancelled||reject(err)}),ms)))}))}function getClientBuildManifest(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);return resolvePromiseWithTimeout(new Promise((resolve=>{const cb=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{resolve(self.__BUILD_MANIFEST),cb&&cb()}})),MS_MAX_IDLE_DELAY,markAssetError(new Error("Failed to load client build manifest")))}function getFilesForRoute(assetPrefix,route){return getClientBuildManifest().then((manifest=>{if(!(route in manifest))throw markAssetError(new Error(`Failed to lookup route: ${route}`));const allFiles=manifest[route].map((entry=>assetPrefix+"/_next/"+encodeURI(entry)));return{scripts:allFiles.filter((v=>v.endsWith(".js"))).map((v=>_trustedTypes.__unsafeCreateTrustedScriptURL(v))),css:allFiles.filter((v=>v.endsWith(".css")))}}))}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/router.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Router",{enumerable:!0,get:function(){return _router.default}}),Object.defineProperty(exports,"withRouter",{enumerable:!0,get:function(){return _withRouter.default}}),exports.useRouter=function useRouter(){const router=_react.default.useContext(_routerContext.RouterContext);if(!router)throw new Error("NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted");return router},exports.createRouter=function createRouter(...args){return singletonRouter.router=new _router.default(...args),singletonRouter.readyCallbacks.forEach((cb=>cb())),singletonRouter.readyCallbacks=[],singletonRouter.router},exports.makePublicRouterInstance=function makePublicRouterInstance(router){const scopedRouter=router,instance={};for(const property of urlPropertyFields)"object"!=typeof scopedRouter[property]?instance[property]=scopedRouter[property]:instance[property]=Object.assign(Array.isArray(scopedRouter[property])?[]:{},scopedRouter[property]);return instance.events=_router.default.events,coreMethodFields.forEach((field=>{instance[field]=(...args)=>scopedRouter[field](...args)})),instance},exports.default=void 0;var _interop_require_default=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z,_react=_interop_require_default(__webpack_require__("./node_modules/react/index.js")),_router=_interop_require_default(__webpack_require__("./node_modules/next/dist/shared/lib/router/router.js")),_routerContext=__webpack_require__("./node_modules/next/dist/shared/lib/router-context.js"),_isError=_interop_require_default(__webpack_require__("./node_modules/next/dist/lib/is-error.js")),_withRouter=_interop_require_default(__webpack_require__("./node_modules/next/dist/client/with-router.js"));const singletonRouter={router:null,readyCallbacks:[],ready(cb){if(this.router)return cb();"undefined"!=typeof window&&this.readyCallbacks.push(cb)}},urlPropertyFields=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],coreMethodFields=["push","replace","reload","back","prefetch","beforePopState"];function getRouter(){if(!singletonRouter.router){throw new Error('No router instance found.\nYou should only use "next/router" on the client side of your app.\n')}return singletonRouter.router}Object.defineProperty(singletonRouter,"events",{get:()=>_router.default.events}),urlPropertyFields.forEach((field=>{Object.defineProperty(singletonRouter,field,{get:()=>getRouter()[field]})})),coreMethodFields.forEach((field=>{singletonRouter[field]=(...args)=>getRouter()[field](...args)})),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach((event=>{singletonRouter.ready((()=>{_router.default.events.on(event,((...args)=>{const eventField=`on${event.charAt(0).toUpperCase()}${event.substring(1)}`,_singletonRouter=singletonRouter;if(_singletonRouter[eventField])try{_singletonRouter[eventField](...args)}catch(err){console.error(`Error when running the Router event: ${eventField}`),console.error(_isError.default(err)?`${err.message}\n${err.stack}`:err+"")}}))}))}));var _default=singletonRouter;exports.default=_default,("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/script.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleClientScriptLoad=handleClientScriptLoad,exports.initScriptLoader=function initScriptLoader(scriptLoaderItems){scriptLoaderItems.forEach(handleClientScriptLoad),function addBeforeInteractiveToCache(){[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach((script=>{const cacheKey=script.id||script.getAttribute("src");LoadCache.add(cacheKey)}))}()},exports.default=void 0;var _extends=__webpack_require__("./node_modules/@swc/helpers/lib/_extends.js").Z,_interop_require_default=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z,_interop_require_wildcard=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_wildcard.js").Z,_object_without_properties_loose=__webpack_require__("./node_modules/@swc/helpers/lib/_object_without_properties_loose.js").Z,_reactDom=_interop_require_default(__webpack_require__("./node_modules/react-dom/index.js")),_react=_interop_require_wildcard(__webpack_require__("./node_modules/react/index.js")),_headManagerContext=__webpack_require__("./node_modules/next/dist/shared/lib/head-manager-context.js"),_headManager=__webpack_require__("./node_modules/next/dist/client/head-manager.js"),_requestIdleCallback=__webpack_require__("./node_modules/next/dist/client/request-idle-callback.js");const ScriptCache=new Map,LoadCache=new Set,ignoreProps=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy"],loadScript=props=>{const{src,id,onLoad=()=>{},onReady=null,dangerouslySetInnerHTML,children="",strategy="afterInteractive",onError}=props,cacheKey=id||src;if(cacheKey&&LoadCache.has(cacheKey))return;if(ScriptCache.has(src))return LoadCache.add(cacheKey),void ScriptCache.get(src).then(onLoad,onError);const afterLoad=()=>{onReady&&onReady(),LoadCache.add(cacheKey)},el=document.createElement("script"),loadPromise=new Promise(((resolve,reject)=>{el.addEventListener("load",(function(e){resolve(),onLoad&&onLoad.call(this,e),afterLoad()})),el.addEventListener("error",(function(e){reject(e)}))})).catch((function(e){onError&&onError(e)}));dangerouslySetInnerHTML?(el.innerHTML=dangerouslySetInnerHTML.__html||"",afterLoad()):children?(el.textContent="string"==typeof children?children:Array.isArray(children)?children.join(""):"",afterLoad()):src&&(el.src=src,ScriptCache.set(src,loadPromise));for(const[k,value]of Object.entries(props)){if(void 0===value||ignoreProps.includes(k))continue;const attr=_headManager.DOMAttributeNames[k]||k.toLowerCase();el.setAttribute(attr,value)}"worker"===strategy&&el.setAttribute("type","text/partytown"),el.setAttribute("data-nscript",strategy),document.body.appendChild(el)};function handleClientScriptLoad(props){const{strategy="afterInteractive"}=props;"lazyOnload"===strategy?window.addEventListener("load",(()=>{_requestIdleCallback.requestIdleCallback((()=>loadScript(props)))})):loadScript(props)}function Script(props){const{id,src="",onLoad=()=>{},onReady=null,strategy="afterInteractive",onError}=props,restProps=_object_without_properties_loose(props,["id","src","onLoad","onReady","strategy","onError"]),{updateScripts,scripts,getIsSsr,appDir,nonce}=_react.useContext(_headManagerContext.HeadManagerContext),hasOnReadyEffectCalled=_react.useRef(!1);_react.useEffect((()=>{const cacheKey=id||src;hasOnReadyEffectCalled.current||(onReady&&cacheKey&&LoadCache.has(cacheKey)&&onReady(),hasOnReadyEffectCalled.current=!0)}),[onReady,id,src]);const hasLoadScriptEffectCalled=_react.useRef(!1);if(_react.useEffect((()=>{hasLoadScriptEffectCalled.current||("afterInteractive"===strategy?loadScript(props):"lazyOnload"===strategy&&function loadLazyScript(props){"complete"===document.readyState?_requestIdleCallback.requestIdleCallback((()=>loadScript(props))):window.addEventListener("load",(()=>{_requestIdleCallback.requestIdleCallback((()=>loadScript(props)))}))}(props),hasLoadScriptEffectCalled.current=!0)}),[props,strategy]),"beforeInteractive"!==strategy&&"worker"!==strategy||(updateScripts?(scripts[strategy]=(scripts[strategy]||[]).concat([_extends({id,src,onLoad,onReady,onError},restProps)]),updateScripts(scripts)):getIsSsr&&getIsSsr()?LoadCache.add(id||src):getIsSsr&&!getIsSsr()&&loadScript(props)),appDir){if("beforeInteractive"===strategy)return src?(_reactDom.default.preload(src,restProps.integrity?{as:"script",integrity:restProps.integrity}:{as:"script"}),_react.default.createElement("script",{nonce,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([src])})`}})):(restProps.dangerouslySetInnerHTML&&(restProps.children=restProps.dangerouslySetInnerHTML.__html,delete restProps.dangerouslySetInnerHTML),_react.default.createElement("script",{nonce,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,_extends({},restProps)])})`}}));"afterInteractive"===strategy&&src&&_reactDom.default.preload(src,restProps.integrity?{as:"script",integrity:restProps.integrity}:{as:"script"})}return null}Object.defineProperty(Script,"__nextScript",{value:!0});var _default=Script;exports.default=_default,("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/trusted-types.js":(module,exports)=>{"use strict";let policy;Object.defineProperty(exports,"__esModule",{value:!0}),exports.__unsafeCreateTrustedScriptURL=function __unsafeCreateTrustedScriptURL(url){var ref;return(null==(ref=function getPolicy(){var ref;void 0===policy&&"undefined"!=typeof window&&(policy=(null==(ref=window.trustedTypes)?void 0:ref.createPolicy("nextjs",{createHTML:input=>input,createScript:input=>input,createScriptURL:input=>input}))||null);return policy}())?void 0:ref.createScriptURL(url))||url},("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/client/with-router.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function withRouter(ComposedComponent){function WithRouterWrapper(props){return _react.default.createElement(ComposedComponent,Object.assign({router:_router.useRouter()},props))}WithRouterWrapper.getInitialProps=ComposedComponent.getInitialProps,WithRouterWrapper.origGetInitialProps=ComposedComponent.origGetInitialProps,!1;return WithRouterWrapper};var _react=(0,__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z)(__webpack_require__("./node_modules/react/index.js")),_router=__webpack_require__("./node_modules/next/dist/client/router.js");("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/compiled/path-to-regexp/index.js":(__unused_webpack_module,exports)=>{"use strict";function parse(str,options){void 0===options&&(options={});for(var tokens=function lexer(str){for(var tokens=[],i=0;i<str.length;){var char=str[i];if("*"!==char&&"+"!==char&&"?"!==char)if("\\"!==char)if("{"!==char)if("}"!==char)if(":"!==char)if("("!==char)tokens.push({type:"CHAR",index:i,value:str[i++]});else{var count=1,pattern="";if("?"===str[j=i+1])throw new TypeError('Pattern cannot start with "?" at '+j);for(;j<str.length;)if("\\"!==str[j]){if(")"===str[j]){if(0==--count){j++;break}}else if("("===str[j]&&(count++,"?"!==str[j+1]))throw new TypeError("Capturing groups are not allowed at "+j);pattern+=str[j++]}else pattern+=str[j++]+str[j++];if(count)throw new TypeError("Unbalanced pattern at "+i);if(!pattern)throw new TypeError("Missing pattern at "+i);tokens.push({type:"PATTERN",index:i,value:pattern}),i=j}else{for(var name="",j=i+1;j<str.length;){var code=str.charCodeAt(j);if(!(code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122||95===code))break;name+=str[j++]}if(!name)throw new TypeError("Missing parameter name at "+i);tokens.push({type:"NAME",index:i,value:name}),i=j}else tokens.push({type:"CLOSE",index:i,value:str[i++]});else tokens.push({type:"OPEN",index:i,value:str[i++]});else tokens.push({type:"ESCAPED_CHAR",index:i++,value:str[i++]});else tokens.push({type:"MODIFIER",index:i,value:str[i++]})}return tokens.push({type:"END",index:i,value:""}),tokens}(str),_a=options.prefixes,prefixes=void 0===_a?"./":_a,defaultPattern="[^"+escapeString(options.delimiter||"/#?")+"]+?",result=[],key=0,i=0,path="",tryConsume=function(type){if(i<tokens.length&&tokens[i].type===type)return tokens[i++].value},mustConsume=function(type){var value=tryConsume(type);if(void 0!==value)return value;var _a=tokens[i],nextType=_a.type,index=_a.index;throw new TypeError("Unexpected "+nextType+" at "+index+", expected "+type)},consumeText=function(){for(var value,result="";value=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR");)result+=value;return result};i<tokens.length;){var char=tryConsume("CHAR"),name=tryConsume("NAME"),pattern=tryConsume("PATTERN");if(name||pattern){var prefix=char||"";-1===prefixes.indexOf(prefix)&&(path+=prefix,prefix=""),path&&(result.push(path),path=""),result.push({name:name||key++,prefix,suffix:"",pattern:pattern||defaultPattern,modifier:tryConsume("MODIFIER")||""})}else{var value=char||tryConsume("ESCAPED_CHAR");if(value)path+=value;else if(path&&(result.push(path),path=""),tryConsume("OPEN")){prefix=consumeText();var name_1=tryConsume("NAME")||"",pattern_1=tryConsume("PATTERN")||"",suffix=consumeText();mustConsume("CLOSE"),result.push({name:name_1||(pattern_1?key++:""),pattern:name_1&&!pattern_1?defaultPattern:pattern_1,prefix,suffix,modifier:tryConsume("MODIFIER")||""})}else mustConsume("END")}}return result}function tokensToFunction(tokens,options){void 0===options&&(options={});var reFlags=flags(options),_a=options.encode,encode=void 0===_a?function(x){return x}:_a,_b=options.validate,validate=void 0===_b||_b,matches=tokens.map((function(token){if("object"==typeof token)return new RegExp("^(?:"+token.pattern+")$",reFlags)}));return function(data){for(var path="",i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var value=data?data[token.name]:void 0,optional="?"===token.modifier||"*"===token.modifier,repeat="*"===token.modifier||"+"===token.modifier;if(Array.isArray(value)){if(!repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but got an array');if(0===value.length){if(optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){var segment=encode(value[j],token);if(validate&&!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but got "'+segment+'"');path+=token.prefix+segment+token.suffix}}else if("string"!=typeof value&&"number"!=typeof value){if(!optional){var typeOfMessage=repeat?"an array":"a string";throw new TypeError('Expected "'+token.name+'" to be '+typeOfMessage)}}else{segment=encode(String(value),token);if(validate&&!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but got "'+segment+'"');path+=token.prefix+segment+token.suffix}}else path+=token}return path}}function regexpToFunction(re,keys,options){void 0===options&&(options={});var _a=options.decode,decode=void 0===_a?function(x){return x}:_a;return function(pathname){var m=re.exec(pathname);if(!m)return!1;for(var path=m[0],index=m.index,params=Object.create(null),_loop_1=function(i){if(void 0===m[i])return"continue";var key=keys[i-1];"*"===key.modifier||"+"===key.modifier?params[key.name]=m[i].split(key.prefix+key.suffix).map((function(value){return decode(value,key)})):params[key.name]=decode(m[i],key)},i=1;i<m.length;i++)_loop_1(i);return{path,index,params}}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function tokensToRegexp(tokens,keys,options){void 0===options&&(options={});for(var _a=options.strict,strict=void 0!==_a&&_a,_b=options.start,start=void 0===_b||_b,_c=options.end,end=void 0===_c||_c,_d=options.encode,encode=void 0===_d?function(x){return x}:_d,endsWith="["+escapeString(options.endsWith||"")+"]|$",delimiter="["+escapeString(options.delimiter||"/#?")+"]",route=start?"^":"",_i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];if("string"==typeof token)route+=escapeString(encode(token));else{var prefix=escapeString(encode(token.prefix)),suffix=escapeString(encode(token.suffix));if(token.pattern)if(keys&&keys.push(token),prefix||suffix)if("+"===token.modifier||"*"===token.modifier){var mod="*"===token.modifier?"?":"";route+="(?:"+prefix+"((?:"+token.pattern+")(?:"+suffix+prefix+"(?:"+token.pattern+"))*)"+suffix+")"+mod}else route+="(?:"+prefix+"("+token.pattern+")"+suffix+")"+token.modifier;else route+="("+token.pattern+")"+token.modifier;else route+="(?:"+prefix+suffix+")"+token.modifier}}if(end)strict||(route+=delimiter+"?"),route+=options.endsWith?"(?="+endsWith+")":"$";else{var endToken=tokens[tokens.length-1],isEndDelimited="string"==typeof endToken?delimiter.indexOf(endToken[endToken.length-1])>-1:void 0===endToken;strict||(route+="(?:"+delimiter+"(?="+endsWith+"))?"),isEndDelimited||(route+="(?="+delimiter+"|"+endsWith+")")}return new RegExp(route,flags(options))}function pathToRegexp(path,keys,options){return path instanceof RegExp?function regexpToRegexp(path,keys){if(!keys)return path;var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:"",suffix:"",modifier:"",pattern:""});return path}(path,keys):Array.isArray(path)?function arrayToRegexp(paths,keys,options){var parts=paths.map((function(path){return pathToRegexp(path,keys,options).source}));return new RegExp("(?:"+parts.join("|")+")",flags(options))}(path,keys,options):function stringToRegexp(path,keys,options){return tokensToRegexp(parse(path,options),keys,options)}(path,keys,options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=parse,exports.compile=function compile(str,options){return tokensToFunction(parse(str,options),options)},exports.tokensToFunction=tokensToFunction,exports.match=function match(str,options){var keys=[];return regexpToFunction(pathToRegexp(str,keys,options),keys,options)},exports.regexpToFunction=regexpToFunction,exports.tokensToRegexp=tokensToRegexp,exports.pathToRegexp=pathToRegexp},"./node_modules/next/dist/lib/is-api-route.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAPIRoute=function isAPIRoute(value){return"/api"===value||Boolean(null==value?void 0:value.startsWith("/api/"))}},"./node_modules/next/dist/lib/is-error.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isError,exports.getProperError=function getProperError(err){if(isError(err))return err;0;return new Error(_isPlainObject.isPlainObject(err)?JSON.stringify(err):err+"")};var _isPlainObject=__webpack_require__("./node_modules/next/dist/shared/lib/is-plain-object.js");function isError(err){return"object"==typeof err&&null!==err&&"name"in err&&"message"in err}},"./node_modules/next/dist/server/future/helpers/interception-routes.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInterceptionRouteAppPath=function isInterceptionRouteAppPath(path){return void 0!==path.split("/").find((segment=>INTERCEPTION_ROUTE_MARKERS.find((m=>segment.startsWith(m)))))},exports.extractInterceptionRouteInformation=function extractInterceptionRouteInformation(path){let interceptingRoute,marker,interceptedRoute;for(const segment of path.split("/"))if(marker=INTERCEPTION_ROUTE_MARKERS.find((m=>segment.startsWith(m))),marker){[interceptingRoute,interceptedRoute]=path.split(marker,2);break}if(!interceptingRoute||!marker||!interceptedRoute)throw new Error(`Invalid interception route: ${path}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);interceptingRoute=interceptingRoute.slice(0,-1),interceptingRoute=_appPaths.normalizeAppPath(interceptingRoute),"(..)"===marker&&(interceptedRoute=interceptingRoute.split("/").slice(0,-1).join("/")+"/"+interceptedRoute);"(...)"===marker&&(interceptedRoute="/"+interceptedRoute);"(..)(..)"===marker&&(interceptedRoute=interceptingRoute.split("/").slice(0,-2).join("/")+"/"+interceptedRoute);return{interceptingRoute,interceptedRoute}},exports.INTERCEPTION_ROUTE_MARKERS=void 0;var _appPaths=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/app-paths.js");const INTERCEPTION_ROUTE_MARKERS=["(..)(..)","(..)","(...)"];exports.INTERCEPTION_ROUTE_MARKERS=INTERCEPTION_ROUTE_MARKERS},"./node_modules/next/dist/shared/lib/bloom-filter/base-filter.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _hashing=(0,__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z)(__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/hashing.js")),_utils=__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/utils.js");function randomInt32(){return"undefined"==typeof window&&"nodejs"===process.env.NEXT_RUNTIME?__webpack_require__("?6e58").randomBytes(4).readUInt32BE(0):crypto.getRandomValues(new Uint32Array(1))[0]}function seedrandom(){return{int32:randomInt32,quick:randomInt32}}exports.default=class BaseFilter{get seed(){return this._seed}set seed(seed){this._seed=seed,this._rng=seedrandom()}get random(){return this._rng}nextInt32(){return this._rng.int32()}saveAsJSON(){throw new Error("not-implemented")}static fromJSON(json){throw new Error("not-implemented")}constructor(){this._seed=_utils.getDefaultSeed(),this._rng=seedrandom(),this._hashing=new _hashing.default}}},"./node_modules/next/dist/shared/lib/bloom-filter/base64-arraybuffer.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.encode=void 0;const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let i=0;i<64;i++)lookup[chars.charCodeAt(i)]=i;exports.encode=arraybuffer=>{let i1,bytes=new Uint8Array(arraybuffer),len=bytes.length,base64="";for(i1=0;i1<len;i1+=3)base64+=chars[bytes[i1]>>2],base64+=chars[(3&bytes[i1])<<4|bytes[i1+1]>>4],base64+=chars[(15&bytes[i1+1])<<2|bytes[i1+2]>>6],base64+=chars[63&bytes[i1+2]];return len%3==2?base64=base64.substring(0,base64.length-1)+"=":len%3==1&&(base64=base64.substring(0,base64.length-2)+"=="),base64};exports.decode=base64=>{let i2,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);const arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i2=0;i2<len;i2+=4)encoded1=lookup[base64.charCodeAt(i2)],encoded2=lookup[base64.charCodeAt(i2+1)],encoded3=lookup[base64.charCodeAt(i2+2)],encoded4=lookup[base64.charCodeAt(i2+3)],bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer}},"./node_modules/next/dist/shared/lib/bloom-filter/bit-set.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _base64Arraybuffer=__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/base64-arraybuffer.js");class BitSet{has(index){const wordIndex=Math.floor(index/8),mask=1<<index%8;return 0!=(this.array[wordIndex]&mask)}add(index){const wordIndex=Math.floor(index/8),mask=1<<index%8;this.array[wordIndex]=this.array[wordIndex]|mask}max(){for(let i=this.array.length-1;i>=0;i--){const bits=this.array[i];if(bits)return BitSet.highBit(bits)+8*i}return 0}bitCount(){let result=0;for(let i=0;i<this.array.length;i++)result+=BitSet.countBits(this.array[i]);return result}equals(other){if(other.size!==this.size)return!1;for(let i=0;i<this.array.length;i++)if(this.array[i]!==other.array[i])return!1;return!0}export(){return{size:this.size,content:_base64Arraybuffer.encode(this.array)}}static import(data){if("number"!=typeof data.size)throw Error("BitSet missing size");if("string"!=typeof data.content)throw Error("BitSet: missing content");const result=new BitSet(data.size),buffer=_base64Arraybuffer.decode(data.content);return result.array=new Uint8Array(buffer),result}static highBit(bits){let result=7,mask=1<<result;for(;result>=0&&(mask&bits)!==mask;)mask>>>=1,result--;return result}static countBits(bits){let result=1&bits;for(;0!==bits;)result+=1&(bits>>>=1);return result}constructor(size){const diff=8-size%8;this.size=size+([0,8].includes(diff)?0:diff),this.array=new Uint8Array(Math.ceil(this.size/8))}}exports.default=BitSet},"./node_modules/next/dist/shared/lib/bloom-filter/formulas.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optimalFilterSize=function optimalFilterSize(length,errorRate){return Math.ceil(-length*Math.log(errorRate)/Math.pow(Math.log(2),2))},exports.optimalHashes=function optimalHashes(size,length){return Math.ceil(size/length*Math.log(2))}},"./node_modules/next/dist/shared/lib/bloom-filter/hashing.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _fnv1A=(0,__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z)(__webpack_require__("./node_modules/next/dist/shared/lib/fnv1a.js")),_utils=__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/utils.js");exports.default=class Hashing{doubleHashing(n,hashA,hashB,size){return Math.abs((hashA+n*hashB+Math.floor((n**3-n)/6))%size)}getDistinctIndexes(element,size,number,seed){void 0===seed&&(seed=_utils.getDefaultSeed());let n=0;const indexes=new Set;let hashes=this.hashTwice(element,seed);for(;indexes.size<number;){const ind=hashes.first%size;indexes.has(ind)||indexes.add(ind),hashes.first=(hashes.first+hashes.second)%size,hashes.second=(hashes.second+n)%size,n++,n>size&&(seed++,hashes=this.hashTwice(element,seed))}return[...indexes.values()]}getIndexes(element,size,hashCount,seed){void 0===seed&&(seed=_utils.getDefaultSeed());const arr=[],hashes=this.hashTwice(element,seed);for(let i=0;i<hashCount;i++)arr.push(this.doubleHashing(i,hashes.first,hashes.second,size));return arr}serialize(element,seed){return seed||(seed=_utils.getDefaultSeed()),Number(_fnv1A.default(element,{seed}))}hashTwice(value,seed){return void 0===seed&&(seed=_utils.getDefaultSeed()),{first:this.serialize(value,seed+1),second:this.serialize(value,seed+2)}}hashTwiceAsString(value,seed){const{first,second}=this.hashTwice(value,seed);return{first:_utils.numberToHex(first),second:_utils.numberToHex(second)}}hashTwiceIntAndString(val,seed){void 0===seed&&(seed=_utils.getDefaultSeed());const one=this.hashIntAndString(val,seed+1),two=this.hashIntAndString(val,seed+2);return{int:{first:one.int,second:two.int},string:{first:one.string,second:two.string}}}hashAsInt(elem,seed){return void 0===seed&&(seed=_utils.getDefaultSeed()),this.serialize(elem,seed)}hashIntAndString(elem,seed){const hash=this.hashAsInt(elem,seed);return{int:hash,string:_utils.numberToHex(hash)}}}},"./node_modules/next/dist/shared/lib/bloom-filter/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _interop_require_default=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z,_baseFilter=_interop_require_default(__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/base-filter.js")),_bitSet=_interop_require_default(__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/bit-set.js")),_formulas=__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/formulas.js");class BloomFilter extends _baseFilter.default{static create(nbItems,errorRate){const size=_formulas.optimalFilterSize(nbItems,errorRate);return new this(size,_formulas.optimalHashes(size,nbItems))}static from(items,errorRate,seed){const array=Array.from(items),filter=BloomFilter.create(array.length,errorRate);return"number"==typeof seed&&(filter.seed=seed),array.forEach((element=>filter.add(element))),filter}get size(){return this._size}get length(){return this._filter.bitCount()}add(element){const indexes=this._hashing.getIndexes(element,this._size,this._nbHashes,this.seed);for(let i=0;i<indexes.length;i++)this._filter.add(indexes[i])}has(element){const indexes=this._hashing.getIndexes(element,this._size,this._nbHashes,this.seed);for(let i=0;i<indexes.length;i++)if(!this._filter.has(indexes[i]))return!1;return!0}rate(){return Math.pow(1-Math.exp(-this.length/this._size),this._nbHashes)}equals(other){return this._size===other._size&&this._nbHashes===other._nbHashes&&this._filter.equals(other._filter)}export(){return{bitset:this._filter.export(),hashes:this._nbHashes,size:this._size}}import(data){this._filter=_bitSet.default.import(data.bitset)}constructor(size,nbHashes){if(super(),nbHashes<1)throw new Error(`A BloomFilter cannot uses less than one hash function, while you tried to use ${nbHashes}.`);this._size=size,this._nbHashes=nbHashes,this._filter=new _bitSet.default(size)}}exports.BloomFilter=BloomFilter},"./node_modules/next/dist/shared/lib/bloom-filter/utils.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.numberToHex=function numberToHex(elem){let e=Number(elem).toString(16);e.length%4!=0&&(e="0".repeat(4-e.length%4)+e);return e},exports.randomInt=function randomInt(min,max,random){void 0===random&&(random=Math.random);min=Math.ceil(min),max=Math.floor(max);const rn=random();return Math.floor(rn*(max-min+1))+min},exports.getDefaultSeed=function getDefaultSeed(){return 78187493520}},"./node_modules/next/dist/shared/lib/escape-regexp.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeStringRegexp=function escapeStringRegexp(str){if(reHasRegExp.test(str))return str.replace(reReplaceRegExp,"\\$&");return str};const reHasRegExp=/[|\\{}()[\]^$+*?.-]/,reReplaceRegExp=/[|\\{}()[\]^$+*?.-]/g},"./node_modules/next/dist/shared/lib/fnv1a.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function fnv1a(inputString,{size=32,seed=0}={}){if(!FNV_PRIMES[size])throw new Error("The `size` option must be one of 32, 64, 128, 256, 512, or 1024");let hash=FNV_OFFSETS[size]^BigInt(seed);const fnvPrime=FNV_PRIMES[size];let isUnicoded=!1;for(let index=0;index<inputString.length;index++){let characterCode=inputString.charCodeAt(index);characterCode>127&&!isUnicoded&&(characterCode=(inputString=unescape(encodeURIComponent(inputString))).charCodeAt(index),isUnicoded=!0),hash^=BigInt(characterCode),hash=BigInt.asUintN(size,hash*fnvPrime)}return hash};const FNV_PRIMES={32:BigInt(16777619),64:BigInt(1099511628211),128:BigInt(3094850098213451e11),256:BigInt(3.7414441915671115e50),512:BigInt(3583591587484487e88),1024:BigInt(5016456510113119e189)},FNV_OFFSETS={32:BigInt(2166136261),64:BigInt(0xcbf29ce484222000),128:BigInt(14406626329776981e22),256:BigInt(10002925795805258e61),512:BigInt(965930312949667e139),1024:BigInt(1419779506494762e271)}},"./node_modules/next/dist/shared/lib/i18n/detect-domain-locale.js":(__unused_webpack_module,exports)=>{"use strict";exports.D=function detectDomainLocale(domainItems,hostname,detectedLocale){if(!domainItems)return;detectedLocale&&(detectedLocale=detectedLocale.toLowerCase());for(const item of domainItems){var ref,ref1;if(hostname===(null==(ref=item.domain)?void 0:ref.split(":")[0].toLowerCase())||detectedLocale===item.defaultLocale.toLowerCase()||(null==(ref1=item.locales)?void 0:ref1.some((locale=>locale.toLowerCase()===detectedLocale))))return item}}},"./node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeLocalePath=function normalizeLocalePath(pathname,locales){let detectedLocale;const pathnameParts=pathname.split("/");return(locales||[]).some((locale=>!(!pathnameParts[1]||pathnameParts[1].toLowerCase()!==locale.toLowerCase())&&(detectedLocale=locale,pathnameParts.splice(1,1),pathname=pathnameParts.join("/")||"/",!0))),{pathname,detectedLocale}}},"./node_modules/next/dist/shared/lib/is-plain-object.js":(__unused_webpack_module,exports)=>{"use strict";function getObjectClassLabel(value){return Object.prototype.toString.call(value)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getObjectClassLabel=getObjectClassLabel,exports.isPlainObject=function isPlainObject(value){if("[object Object]"!==getObjectClassLabel(value))return!1;const prototype=Object.getPrototypeOf(value);return null===prototype||prototype.hasOwnProperty("isPrototypeOf")}},"./node_modules/next/dist/shared/lib/mitt.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function mitt(){const all=Object.create(null);return{on(type,handler){(all[type]||(all[type]=[])).push(handler)},off(type,handler){all[type]&&all[type].splice(all[type].indexOf(handler)>>>0,1)},emit(type,...evts){(all[type]||[]).slice().map((handler=>{handler(...evts)}))}}}},"./node_modules/next/dist/shared/lib/page-path/denormalize-page-path.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.denormalizePagePath=function denormalizePagePath(page){let _page=_normalizePathSep.normalizePathSep(page);return _page.startsWith("/index/")&&!_utils.isDynamicRoute(_page)?_page.slice(6):"/index"!==_page?_page:"/"};var _utils=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/index.js"),_normalizePathSep=__webpack_require__("./node_modules/next/dist/shared/lib/page-path/normalize-path-sep.js")},"./node_modules/next/dist/shared/lib/page-path/ensure-leading-slash.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureLeadingSlash=function ensureLeadingSlash(path){return path.startsWith("/")?path:`/${path}`}},"./node_modules/next/dist/shared/lib/page-path/normalize-path-sep.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizePathSep=function normalizePathSep(path){return path.replace(/\\/g,"/")}},"./node_modules/next/dist/shared/lib/router/router.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchesMiddleware=matchesMiddleware,exports.createKey=createKey,exports.default=void 0;var _async_to_generator=__webpack_require__("./node_modules/@swc/helpers/lib/_async_to_generator.js").Z,_extends=__webpack_require__("./node_modules/@swc/helpers/lib/_extends.js").Z,_interop_require_default=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_default.js").Z,_interop_require_wildcard=__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_wildcard.js").Z,_removeTrailingSlash=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js"),_routeLoader=__webpack_require__("./node_modules/next/dist/client/route-loader.js"),_script=__webpack_require__("./node_modules/next/dist/client/script.js"),_isError=_interop_require_wildcard(__webpack_require__("./node_modules/next/dist/lib/is-error.js")),_denormalizePagePath=__webpack_require__("./node_modules/next/dist/shared/lib/page-path/denormalize-page-path.js"),_normalizeLocalePath=__webpack_require__("./node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js"),_mitt=_interop_require_default(__webpack_require__("./node_modules/next/dist/shared/lib/mitt.js")),_utils=__webpack_require__("./node_modules/next/dist/shared/lib/utils.js"),_isDynamic=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-dynamic.js"),_parseRelativeUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-relative-url.js"),_resolveRewrites=_interop_require_default(__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/resolve-rewrites.js")),_routeMatcher=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/route-matcher.js"),_routeRegex=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/route-regex.js"),_formatUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/format-url.js"),_detectDomainLocale=__webpack_require__("./node_modules/next/dist/client/detect-domain-locale.js"),_parsePath=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-path.js"),_addLocale=__webpack_require__("./node_modules/next/dist/client/add-locale.js"),_removeLocale=__webpack_require__("./node_modules/next/dist/client/remove-locale.js"),_removeBasePath=__webpack_require__("./node_modules/next/dist/client/remove-base-path.js"),_addBasePath=__webpack_require__("./node_modules/next/dist/client/add-base-path.js"),_hasBasePath=__webpack_require__("./node_modules/next/dist/client/has-base-path.js"),_isApiRoute=__webpack_require__("./node_modules/next/dist/lib/is-api-route.js"),_getNextPathnameInfo=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/get-next-pathname-info.js"),_formatNextPathnameInfo=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/format-next-pathname-info.js"),_compareStates=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/compare-states.js"),_isLocalUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-local-url.js"),_isBot=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-bot.js"),_omit=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/omit.js"),_resolveHref=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/resolve-href.js"),_interpolateAs=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/interpolate-as.js"),_handleSmoothScroll=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/handle-smooth-scroll.js");function buildCancellationError(){return Object.assign(new Error("Route Cancelled"),{cancelled:!0})}function matchesMiddleware(options){return _matchesMiddleware.apply(this,arguments)}function _matchesMiddleware(){return(_matchesMiddleware=_async_to_generator((function*(options){const matchers=yield Promise.resolve(options.router.pageLoader.getMiddleware());if(!matchers)return!1;const{pathname:asPathname}=_parsePath.parsePath(options.asPath),cleanedAs=_hasBasePath.hasBasePath(asPathname)?_removeBasePath.removeBasePath(asPathname):asPathname,asWithBasePathAndLocale=_addBasePath.addBasePath(_addLocale.addLocale(cleanedAs,options.locale));return matchers.some((m=>new RegExp(m.regexp).test(asWithBasePathAndLocale)))}))).apply(this,arguments)}function stripOrigin(url){const origin=_utils.getLocationOrigin();return url.startsWith(origin)?url.substring(origin.length):url}function prepareUrlAs(router,url,as){let[resolvedHref,resolvedAs]=_resolveHref.resolveHref(router,url,!0);const origin=_utils.getLocationOrigin(),hrefWasAbsolute=resolvedHref.startsWith(origin),asWasAbsolute=resolvedAs&&resolvedAs.startsWith(origin);resolvedHref=stripOrigin(resolvedHref),resolvedAs=resolvedAs?stripOrigin(resolvedAs):resolvedAs;const preparedUrl=hrefWasAbsolute?resolvedHref:_addBasePath.addBasePath(resolvedHref),preparedAs=as?stripOrigin(_resolveHref.resolveHref(router,as)):resolvedAs||resolvedHref;return{url:preparedUrl,as:asWasAbsolute?preparedAs:_addBasePath.addBasePath(preparedAs)}}function resolveDynamicRoute(pathname,pages){const cleanPathname=_removeTrailingSlash.removeTrailingSlash(_denormalizePagePath.denormalizePagePath(pathname));return"/404"===cleanPathname||"/_error"===cleanPathname?pathname:(pages.includes(cleanPathname)||pages.some((page=>{if(_isDynamic.isDynamicRoute(page)&&_routeRegex.getRouteRegex(page).re.test(cleanPathname))return pathname=page,!0})),_removeTrailingSlash.removeTrailingSlash(pathname))}function withMiddlewareEffects(options){return _withMiddlewareEffects.apply(this,arguments)}function _withMiddlewareEffects(){return(_withMiddlewareEffects=_async_to_generator((function*(options){if(!(yield matchesMiddleware(options))||!options.fetchData)return null;try{const data=yield options.fetchData(),effect=yield function getMiddlewareData(source,response,options){const nextConfig={basePath:options.router.basePath,i18n:{locales:options.router.locales},trailingSlash:Boolean(process.env.__NEXT_TRAILING_SLASH)},rewriteHeader=response.headers.get("x-nextjs-rewrite");let rewriteTarget=rewriteHeader||response.headers.get("x-nextjs-matched-path");const matchedPath=response.headers.get("x-matched-path");if(!matchedPath||rewriteTarget||matchedPath.includes("__next_data_catchall")||matchedPath.includes("/_error")||matchedPath.includes("/404")||(rewriteTarget=matchedPath),rewriteTarget){if(rewriteTarget.startsWith("/")||process.env.__NEXT_EXTERNAL_MIDDLEWARE_REWRITE_RESOLVE){const parsedRewriteTarget=_parseRelativeUrl.parseRelativeUrl(rewriteTarget),pathnameInfo=_getNextPathnameInfo.getNextPathnameInfo(parsedRewriteTarget.pathname,{nextConfig,parseData:!0});let fsPathname=_removeTrailingSlash.removeTrailingSlash(pathnameInfo.pathname);return Promise.all([options.router.pageLoader.getPageList(),_routeLoader.getClientBuildManifest()]).then((([pages,{__rewrites:rewrites}])=>{let as=_addLocale.addLocale(pathnameInfo.pathname,pathnameInfo.locale);if(_isDynamic.isDynamicRoute(as)||!rewriteHeader&&pages.includes(_normalizeLocalePath.normalizeLocalePath(_removeBasePath.removeBasePath(as),options.router.locales).pathname)){const parsedSource=_getNextPathnameInfo.getNextPathnameInfo(_parseRelativeUrl.parseRelativeUrl(source).pathname,{parseData:!0});as=_addBasePath.addBasePath(parsedSource.pathname),parsedRewriteTarget.pathname=as}if(process.env.__NEXT_HAS_REWRITES){const result=_resolveRewrites.default(as,pages,rewrites,parsedRewriteTarget.query,(path=>resolveDynamicRoute(path,pages)),options.router.locales);result.matchedPage&&(parsedRewriteTarget.pathname=result.parsedAs.pathname,as=parsedRewriteTarget.pathname,Object.assign(parsedRewriteTarget.query,result.parsedAs.query))}else if(!pages.includes(fsPathname)){const resolvedPathname=resolveDynamicRoute(fsPathname,pages);resolvedPathname!==fsPathname&&(fsPathname=resolvedPathname)}const resolvedHref=pages.includes(fsPathname)?fsPathname:resolveDynamicRoute(_normalizeLocalePath.normalizeLocalePath(_removeBasePath.removeBasePath(parsedRewriteTarget.pathname),options.router.locales).pathname,pages);if(_isDynamic.isDynamicRoute(resolvedHref)){const matches=_routeMatcher.getRouteMatcher(_routeRegex.getRouteRegex(resolvedHref))(as);Object.assign(parsedRewriteTarget.query,matches||{})}return{type:"rewrite",parsedAs:parsedRewriteTarget,resolvedHref}}))}const src=_parsePath.parsePath(source),pathname=_formatNextPathnameInfo.formatNextPathnameInfo(_extends({},_getNextPathnameInfo.getNextPathnameInfo(src.pathname,{nextConfig,parseData:!0}),{defaultLocale:options.router.defaultLocale,buildId:""}));return Promise.resolve({type:"redirect-external",destination:`${pathname}${src.query}${src.hash}`})}const redirectTarget=response.headers.get("x-nextjs-redirect");if(redirectTarget){if(redirectTarget.startsWith("/")){const src=_parsePath.parsePath(redirectTarget),pathname=_formatNextPathnameInfo.formatNextPathnameInfo(_extends({},_getNextPathnameInfo.getNextPathnameInfo(src.pathname,{nextConfig,parseData:!0}),{defaultLocale:options.router.defaultLocale,buildId:""}));return Promise.resolve({type:"redirect-internal",newAs:`${pathname}${src.query}${src.hash}`,newUrl:`${pathname}${src.query}${src.hash}`})}return Promise.resolve({type:"redirect-external",destination:redirectTarget})}return Promise.resolve({type:"next"})}(data.dataHref,data.response,options);return{dataHref:data.dataHref,json:data.json,response:data.response,text:data.text,cacheKey:data.cacheKey,effect}}catch(e){return null}}))).apply(this,arguments)}const manualScrollRestoration=process.env.__NEXT_SCROLL_RESTORATION&&"undefined"!=typeof window&&"scrollRestoration"in window.history&&!!function(){try{let v="__next";return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(n){}}(),SSG_DATA_NOT_FOUND=Symbol("SSG_DATA_NOT_FOUND");function fetchRetry(url,attempts,options){return fetch(url,{credentials:"same-origin",method:options.method||"GET",headers:Object.assign({},options.headers,{"x-nextjs-data":"1"})}).then((response=>!response.ok&&attempts>1&&response.status>=500?fetchRetry(url,attempts-1,options):response))}function tryToParseAsJSON(text){try{return JSON.parse(text)}catch(error){return null}}function fetchNextData({dataHref,inflightCache,isPrefetch,hasMiddleware,isServerRender,parseJSON,persistCache,isBackground,unstable_skipClientCache}){const{href:cacheKey}=new URL(dataHref,window.location.href);var ref1;const getData=params=>fetchRetry(dataHref,isServerRender?3:1,{headers:Object.assign({},isPrefetch?{purpose:"prefetch"}:{},isPrefetch&&hasMiddleware?{"x-middleware-prefetch":"1"}:{}),method:null!=(ref1=null==params?void 0:params.method)?ref1:"GET"}).then((response=>response.ok&&"HEAD"===(null==params?void 0:params.method)?{dataHref,response,text:"",json:{},cacheKey}:response.text().then((text=>{if(!response.ok){if(hasMiddleware&&[301,302,307,308].includes(response.status))return{dataHref,response,text,json:{},cacheKey};var ref;if(404===response.status)if(null==(ref=tryToParseAsJSON(text))?void 0:ref.notFound)return{dataHref,json:{notFound:SSG_DATA_NOT_FOUND},response,text,cacheKey};const error=new Error("Failed to load static props");throw isServerRender||_routeLoader.markAssetError(error),error}return{dataHref,json:parseJSON?tryToParseAsJSON(text):null,response,text,cacheKey}})))).then((data=>(persistCache&&"no-cache"!==data.response.headers.get("x-middleware-cache")||delete inflightCache[cacheKey],data))).catch((err=>{throw unstable_skipClientCache||delete inflightCache[cacheKey],"Failed to fetch"!==err.message&&"NetworkError when attempting to fetch resource."!==err.message&&"Load failed"!==err.message||_routeLoader.markAssetError(err),err}));return unstable_skipClientCache&&persistCache?getData({}).then((data=>(inflightCache[cacheKey]=Promise.resolve(data),data))):void 0!==inflightCache[cacheKey]?inflightCache[cacheKey]:inflightCache[cacheKey]=getData(isBackground?{method:"HEAD"}:{})}function createKey(){return Math.random().toString(36).slice(2,10)}function handleHardNavigation({url,router}){if(url===_addBasePath.addBasePath(_addLocale.addLocale(router.asPath,router.locale)))throw new Error(`Invariant: attempted to hard navigate to the same URL ${url} ${location.href}`);window.location.href=url}const getCancelledHandler=({route,router})=>{let cancelled=!1;const cancel=router.clc=()=>{cancelled=!0};return()=>{if(cancelled){const error=new Error(`Abort fetching component for route: "${route}"`);throw error.cancelled=!0,error}cancel===router.clc&&(router.clc=null)}};class Router{reload(){window.location.reload()}back(){window.history.back()}forward(){window.history.forward()}push(url,as,options={}){if(process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration)try{sessionStorage.setItem("__next_scroll_"+this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}return({url,as}=prepareUrlAs(this,url,as)),this.change("pushState",url,as,options)}replace(url,as,options={}){return({url,as}=prepareUrlAs(this,url,as)),this.change("replaceState",url,as,options)}_bfl(as,resolvedAs,locale,skipNavigate){var _this=this;return _async_to_generator((function*(){if(process.env.__NEXT_CLIENT_ROUTER_FILTER_ENABLED){let matchesBflStatic=!1,matchesBflDynamic=!1;for(const curAs of[as,resolvedAs])if(curAs){const asNoSlash=_removeTrailingSlash.removeTrailingSlash(new URL(curAs,"http://n").pathname),asNoSlashLocale=_addBasePath.addBasePath(_addLocale.addLocale(asNoSlash,locale||_this.locale));if(asNoSlash!==_removeTrailingSlash.removeTrailingSlash(new URL(_this.asPath,"http://n").pathname)){var ref,ref2;matchesBflStatic=matchesBflStatic||!!(null==(ref=_this._bfl_s)?void 0:ref.has(asNoSlash))||!!(null==(ref2=_this._bfl_s)?void 0:ref2.has(asNoSlashLocale));for(const normalizedAS of[asNoSlash,asNoSlashLocale]){const curAsParts=normalizedAS.split("/");for(let i=0;!matchesBflDynamic&&i<curAsParts.length+1;i++){var ref3;const currentPart=curAsParts.slice(0,i).join("/");if(currentPart&&(null==(ref3=_this._bfl_d)?void 0:ref3.has(currentPart))){matchesBflDynamic=!0;break}}}if(matchesBflStatic||matchesBflDynamic)return!!skipNavigate||(handleHardNavigation({url:_addBasePath.addBasePath(_addLocale.addLocale(as,locale||_this.locale,_this.defaultLocale)),router:_this}),new Promise((()=>{})))}}}return!1}))()}change(method,url,as,options,forcedScroll){var _this=this;return _async_to_generator((function*(){var ref;if(!_isLocalUrl.isLocalURL(url))return handleHardNavigation({url,router:_this}),!1;const isQueryUpdating=1===options._h;isQueryUpdating||options.shallow||(yield _this._bfl(as,void 0,options.locale));let shouldResolveHref=isQueryUpdating||options._shouldResolveHref||_parsePath.parsePath(url).pathname===_parsePath.parsePath(as).pathname;const nextState=_extends({},_this.state),readyStateChange=!0!==_this.isReady;_this.isReady=!0;const isSsr=_this.isSsr;if(isQueryUpdating||(_this.isSsr=!1),isQueryUpdating&&_this.clc)return!1;const prevLocale=nextState.locale;if(process.env.__NEXT_I18N_SUPPORT){nextState.locale=!1===options.locale?_this.defaultLocale:options.locale||nextState.locale,void 0===options.locale&&(options.locale=nextState.locale);const parsedAs=_parseRelativeUrl.parseRelativeUrl(_hasBasePath.hasBasePath(as)?_removeBasePath.removeBasePath(as):as),localePathResult=_normalizeLocalePath.normalizeLocalePath(parsedAs.pathname,_this.locales);localePathResult.detectedLocale&&(nextState.locale=localePathResult.detectedLocale,parsedAs.pathname=_addBasePath.addBasePath(parsedAs.pathname),as=_formatUrl.formatWithValidation(parsedAs),url=_addBasePath.addBasePath(_normalizeLocalePath.normalizeLocalePath(_hasBasePath.hasBasePath(url)?_removeBasePath.removeBasePath(url):url,_this.locales).pathname));let didNavigate=!1;var ref4;if(process.env.__NEXT_I18N_SUPPORT)(null==(ref4=_this.locales)?void 0:ref4.includes(nextState.locale))||(parsedAs.pathname=_addLocale.addLocale(parsedAs.pathname,nextState.locale),handleHardNavigation({url:_formatUrl.formatWithValidation(parsedAs),router:_this}),didNavigate=!0);const detectedDomain=_detectDomainLocale.detectDomainLocale(_this.domainLocales,void 0,nextState.locale);if(process.env.__NEXT_I18N_SUPPORT&&!didNavigate&&detectedDomain&&_this.isLocaleDomain&&self.location.hostname!==detectedDomain.domain){const asNoBasePath=_removeBasePath.removeBasePath(as);handleHardNavigation({url:`http${detectedDomain.http?"":"s"}://${detectedDomain.domain}${_addBasePath.addBasePath(`${nextState.locale===detectedDomain.defaultLocale?"":`/${nextState.locale}`}${"/"===asNoBasePath?"":asNoBasePath}`||"/")}`,router:_this}),didNavigate=!0}if(didNavigate)return new Promise((()=>{}))}_utils.ST&&performance.mark("routeChange");const{shallow=!1,scroll=!0}=options,routeProps={shallow};_this._inFlightRoute&&_this.clc&&(isSsr||Router.events.emit("routeChangeError",buildCancellationError(),_this._inFlightRoute,routeProps),_this.clc(),_this.clc=null),as=_addBasePath.addBasePath(_addLocale.addLocale(_hasBasePath.hasBasePath(as)?_removeBasePath.removeBasePath(as):as,options.locale,_this.defaultLocale));const cleanedAs=_removeLocale.removeLocale(_hasBasePath.hasBasePath(as)?_removeBasePath.removeBasePath(as):as,nextState.locale);_this._inFlightRoute=as;const localeChange=prevLocale!==nextState.locale;if(!isQueryUpdating&&_this.onlyAHashChange(cleanedAs)&&!localeChange){nextState.asPath=cleanedAs,Router.events.emit("hashChangeStart",as,routeProps),_this.changeState(method,url,as,_extends({},options,{scroll:!1})),scroll&&_this.scrollToHash(cleanedAs);try{yield _this.set(nextState,_this.components[nextState.route],null)}catch(err){throw _isError.default(err)&&err.cancelled&&Router.events.emit("routeChangeError",err,cleanedAs,routeProps),err}return Router.events.emit("hashChangeComplete",as,routeProps),!0}let pages,rewrites,parsed=_parseRelativeUrl.parseRelativeUrl(url),{pathname,query}=parsed;if(null==(ref=_this.components[pathname])?void 0:ref.__appRouter)return handleHardNavigation({url:as,router:_this}),new Promise((()=>{}));try{[pages,{__rewrites:rewrites}]=yield Promise.all([_this.pageLoader.getPageList(),_routeLoader.getClientBuildManifest(),_this.pageLoader.getMiddleware()])}catch(err){return handleHardNavigation({url:as,router:_this}),!1}_this.urlIsNew(cleanedAs)||localeChange||(method="replaceState");let resolvedAs=as;pathname=pathname?_removeTrailingSlash.removeTrailingSlash(_removeBasePath.removeBasePath(pathname)):pathname;let route=_removeTrailingSlash.removeTrailingSlash(pathname);const parsedAsPathname=as.startsWith("/")&&_parseRelativeUrl.parseRelativeUrl(as).pathname,isMiddlewareRewrite=!(!parsedAsPathname||route===parsedAsPathname||_isDynamic.isDynamicRoute(route)&&_routeMatcher.getRouteMatcher(_routeRegex.getRouteRegex(route))(parsedAsPathname)),isMiddlewareMatch=!options.shallow&&(yield matchesMiddleware({asPath:as,locale:nextState.locale,router:_this}));if(isQueryUpdating&&isMiddlewareMatch&&(shouldResolveHref=!1),shouldResolveHref&&"/_error"!==pathname)if(options._shouldResolveHref=!0,process.env.__NEXT_HAS_REWRITES&&as.startsWith("/")){const rewritesResult=_resolveRewrites.default(_addBasePath.addBasePath(_addLocale.addLocale(cleanedAs,nextState.locale),!0),pages,rewrites,query,(p=>resolveDynamicRoute(p,pages)),_this.locales);if(rewritesResult.externalDest)return handleHardNavigation({url:as,router:_this}),!0;isMiddlewareMatch||(resolvedAs=rewritesResult.asPath),rewritesResult.matchedPage&&rewritesResult.resolvedHref&&(pathname=rewritesResult.resolvedHref,parsed.pathname=_addBasePath.addBasePath(pathname),isMiddlewareMatch||(url=_formatUrl.formatWithValidation(parsed)))}else parsed.pathname=resolveDynamicRoute(pathname,pages),parsed.pathname!==pathname&&(pathname=parsed.pathname,parsed.pathname=_addBasePath.addBasePath(pathname),isMiddlewareMatch||(url=_formatUrl.formatWithValidation(parsed)));if(!_isLocalUrl.isLocalURL(as))return handleHardNavigation({url:as,router:_this}),!1;resolvedAs=_removeLocale.removeLocale(_removeBasePath.removeBasePath(resolvedAs),nextState.locale),route=_removeTrailingSlash.removeTrailingSlash(pathname);let routeMatch=!1;if(_isDynamic.isDynamicRoute(route)){const parsedAs=_parseRelativeUrl.parseRelativeUrl(resolvedAs),asPathname=parsedAs.pathname,routeRegex=_routeRegex.getRouteRegex(route);routeMatch=_routeMatcher.getRouteMatcher(routeRegex)(asPathname);const shouldInterpolate=route===asPathname,interpolatedAs=shouldInterpolate?_interpolateAs.interpolateAs(route,asPathname,query):{};if(!routeMatch||shouldInterpolate&&!interpolatedAs.result){const missingParams=Object.keys(routeRegex.groups).filter((param=>!query[param]&&!routeRegex.groups[param].optional));if(missingParams.length>0&&!isMiddlewareMatch)throw new Error((shouldInterpolate?`The provided \`href\` (${url}) value is missing query values (${missingParams.join(", ")}) to be interpolated properly. `:`The provided \`as\` value (${asPathname}) is incompatible with the \`href\` value (${route}). `)+"Read more: https://nextjs.org/docs/messages/"+(shouldInterpolate?"href-interpolation-failed":"incompatible-href-as"))}else shouldInterpolate?as=_formatUrl.formatWithValidation(Object.assign({},parsedAs,{pathname:interpolatedAs.result,query:_omit.omit(query,interpolatedAs.params)})):Object.assign(query,routeMatch)}isQueryUpdating||Router.events.emit("routeChangeStart",as,routeProps);const isErrorRoute="/404"===_this.pathname||"/_error"===_this.pathname;try{var ref5,ref6,ref7;let routeInfo=yield _this.getRouteInfo({route,pathname,query,as,resolvedAs,routeProps,locale:nextState.locale,isPreview:nextState.isPreview,hasMiddleware:isMiddlewareMatch,unstable_skipClientCache:options.unstable_skipClientCache,isQueryUpdating:isQueryUpdating&&!_this.isFallback,isMiddlewareRewrite});if(isQueryUpdating||options.shallow||(yield _this._bfl(as,"resolvedAs"in routeInfo?routeInfo.resolvedAs:void 0,nextState.locale)),"route"in routeInfo&&isMiddlewareMatch){pathname=routeInfo.route||route,route=pathname,routeProps.shallow||(query=Object.assign({},routeInfo.query||{},query));const cleanedParsedPathname=_hasBasePath.hasBasePath(parsed.pathname)?_removeBasePath.removeBasePath(parsed.pathname):parsed.pathname;if(routeMatch&&pathname!==cleanedParsedPathname&&Object.keys(routeMatch).forEach((key=>{routeMatch&&query[key]===routeMatch[key]&&delete query[key]})),_isDynamic.isDynamicRoute(pathname)){let rewriteAs=!routeProps.shallow&&routeInfo.resolvedAs?routeInfo.resolvedAs:_addBasePath.addBasePath(_addLocale.addLocale(new URL(as,location.href).pathname,nextState.locale),!0);if(_hasBasePath.hasBasePath(rewriteAs)&&(rewriteAs=_removeBasePath.removeBasePath(rewriteAs)),process.env.__NEXT_I18N_SUPPORT){const localeResult=_normalizeLocalePath.normalizeLocalePath(rewriteAs,_this.locales);nextState.locale=localeResult.detectedLocale||nextState.locale,rewriteAs=localeResult.pathname}const routeRegex=_routeRegex.getRouteRegex(pathname),curRouteMatch=_routeMatcher.getRouteMatcher(routeRegex)(new URL(rewriteAs,location.href).pathname);curRouteMatch&&Object.assign(query,curRouteMatch)}}if("type"in routeInfo)return"redirect-internal"===routeInfo.type?_this.change(method,routeInfo.newUrl,routeInfo.newAs,options):(handleHardNavigation({url:routeInfo.destination,router:_this}),new Promise((()=>{})));const component=routeInfo.Component;if(component&&component.unstable_scriptLoader){[].concat(component.unstable_scriptLoader()).forEach((script=>{_script.handleClientScriptLoad(script.props)}))}if((routeInfo.__N_SSG||routeInfo.__N_SSP)&&routeInfo.props){if(routeInfo.props.pageProps&&routeInfo.props.pageProps.__N_REDIRECT){options.locale=!1;const destination=routeInfo.props.pageProps.__N_REDIRECT;if(destination.startsWith("/")&&!1!==routeInfo.props.pageProps.__N_REDIRECT_BASE_PATH){const parsedHref=_parseRelativeUrl.parseRelativeUrl(destination);parsedHref.pathname=resolveDynamicRoute(parsedHref.pathname,pages);const{url:newUrl,as:newAs}=prepareUrlAs(_this,destination,destination);return _this.change(method,newUrl,newAs,options)}return handleHardNavigation({url:destination,router:_this}),new Promise((()=>{}))}if(nextState.isPreview=!!routeInfo.props.__N_PREVIEW,routeInfo.props.notFound===SSG_DATA_NOT_FOUND){let notFoundRoute;try{yield _this.fetchComponent("/404"),notFoundRoute="/404"}catch(_){notFoundRoute="/_error"}if(routeInfo=yield _this.getRouteInfo({route:notFoundRoute,pathname:notFoundRoute,query,as,resolvedAs,routeProps:{shallow:!1},locale:nextState.locale,isPreview:nextState.isPreview,isNotFound:!0}),"type"in routeInfo)throw new Error("Unexpected middleware effect on /404")}}var _route;isQueryUpdating&&"/_error"===_this.pathname&&500===(null==(ref5=self.__NEXT_DATA__.props)||null==(ref6=ref5.pageProps)?void 0:ref6.statusCode)&&(null==(ref7=routeInfo.props)?void 0:ref7.pageProps)&&(routeInfo.props.pageProps.statusCode=500);const isValidShallowRoute=options.shallow&&nextState.route===(null!=(_route=routeInfo.route)?_route:route);var _scroll;const shouldScroll=null!=(_scroll=options.scroll)?_scroll:!isQueryUpdating&&!isValidShallowRoute,upcomingScrollState=null!=forcedScroll?forcedScroll:shouldScroll?{x:0,y:0}:null,upcomingRouterState=_extends({},nextState,{route,pathname,query,asPath:cleanedAs,isFallback:!1});if(isQueryUpdating&&isErrorRoute){var ref8,ref9,ref10;if(routeInfo=yield _this.getRouteInfo({route:_this.pathname,pathname:_this.pathname,query,as,resolvedAs,routeProps:{shallow:!1},locale:nextState.locale,isPreview:nextState.isPreview,isQueryUpdating:isQueryUpdating&&!_this.isFallback}),"type"in routeInfo)throw new Error(`Unexpected middleware effect on ${_this.pathname}`);"/_error"===_this.pathname&&500===(null==(ref8=self.__NEXT_DATA__.props)||null==(ref9=ref8.pageProps)?void 0:ref9.statusCode)&&(null==(ref10=routeInfo.props)?void 0:ref10.pageProps)&&(routeInfo.props.pageProps.statusCode=500);try{yield _this.set(upcomingRouterState,routeInfo,upcomingScrollState)}catch(err){throw _isError.default(err)&&err.cancelled&&Router.events.emit("routeChangeError",err,cleanedAs,routeProps),err}return!0}Router.events.emit("beforeHistoryChange",as,routeProps),_this.changeState(method,url,as,options);if(!(isQueryUpdating&&!upcomingScrollState&&!readyStateChange&&!localeChange&&_compareStates.compareRouterStates(upcomingRouterState,_this.state))){try{yield _this.set(upcomingRouterState,routeInfo,upcomingScrollState)}catch(e){if(!e.cancelled)throw e;routeInfo.error=routeInfo.error||e}if(routeInfo.error)throw isQueryUpdating||Router.events.emit("routeChangeError",routeInfo.error,cleanedAs,routeProps),routeInfo.error;process.env.__NEXT_I18N_SUPPORT&&nextState.locale&&(document.documentElement.lang=nextState.locale),isQueryUpdating||Router.events.emit("routeChangeComplete",as,routeProps);shouldScroll&&/#.+$/.test(as)&&_this.scrollToHash(as)}return!0}catch(err1){if(_isError.default(err1)&&err1.cancelled)return!1;throw err1}}))()}changeState(method,url,as,options={}){"pushState"===method&&_utils.getURL()===as||(this._shallow=options.shallow,window.history[method]({url,as,options,__N:!0,key:this._key="pushState"!==method?this._key:createKey()},"",as))}handleRouteInfoError(err,pathname,query,as,routeProps,loadErrorFail){var _this=this;return _async_to_generator((function*(){if(console.error(err),err.cancelled)throw err;if(_routeLoader.isAssetError(err)||loadErrorFail)throw Router.events.emit("routeChangeError",err,as,routeProps),handleHardNavigation({url:as,router:_this}),buildCancellationError();try{let props;const{page:Component,styleSheets}=yield _this.fetchComponent("/_error"),routeInfo={props,Component,styleSheets,err,error:err};if(!routeInfo.props)try{routeInfo.props=yield _this.getInitialProps(Component,{err,pathname,query})}catch(gipErr){console.error("Error in error page `getInitialProps`: ",gipErr),routeInfo.props={}}return routeInfo}catch(routeInfoErr){return _this.handleRouteInfoError(_isError.default(routeInfoErr)?routeInfoErr:new Error(routeInfoErr+""),pathname,query,as,routeProps,!0)}}))()}getRouteInfo({route:requestedRoute,pathname,query,as,resolvedAs,routeProps,locale,hasMiddleware,isPreview,unstable_skipClientCache,isQueryUpdating,isMiddlewareRewrite,isNotFound}){var _this=this;return _async_to_generator((function*(){let route=requestedRoute;try{var ref,ref11,ref12,ref13;const handleCancelled=getCancelledHandler({route,router:_this});let existingInfo=_this.components[route];if(routeProps.shallow&&existingInfo&&_this.route===route)return existingInfo;hasMiddleware&&(existingInfo=void 0);let cachedRouteInfo=existingInfo&&!("initial"in existingInfo)?existingInfo:void 0;const isBackground=isQueryUpdating,fetchNextDataParams={dataHref:_this.pageLoader.getDataHref({href:_formatUrl.formatWithValidation({pathname,query}),skipInterpolation:!0,asPath:isNotFound?"/404":resolvedAs,locale}),hasMiddleware:!0,isServerRender:_this.isSsr,parseJSON:!0,inflightCache:isBackground?_this.sbc:_this.sdc,persistCache:!isPreview,isPrefetch:!1,unstable_skipClientCache,isBackground};let data=isQueryUpdating&&!isMiddlewareRewrite?null:yield withMiddlewareEffects({fetchData:()=>fetchNextData(fetchNextDataParams),asPath:isNotFound?"/404":resolvedAs,locale,router:_this}).catch((err=>{if(isQueryUpdating)return null;throw err}));if(!data||"/_error"!==pathname&&"/404"!==pathname||(data.effect=void 0),isQueryUpdating&&(data?data.json=self.__NEXT_DATA__.props:data={json:self.__NEXT_DATA__.props}),handleCancelled(),"redirect-internal"===(null==data||null==(ref=data.effect)?void 0:ref.type)||"redirect-external"===(null==data||null==(ref11=data.effect)?void 0:ref11.type))return data.effect;if("rewrite"===(null==data||null==(ref12=data.effect)?void 0:ref12.type)){const resolvedRoute=_removeTrailingSlash.removeTrailingSlash(data.effect.resolvedHref),pages=yield _this.pageLoader.getPageList();if((!isQueryUpdating||pages.includes(resolvedRoute))&&(route=resolvedRoute,pathname=data.effect.resolvedHref,query=_extends({},query,data.effect.parsedAs.query),resolvedAs=_removeBasePath.removeBasePath(_normalizeLocalePath.normalizeLocalePath(data.effect.parsedAs.pathname,_this.locales).pathname),existingInfo=_this.components[route],routeProps.shallow&&existingInfo&&_this.route===route&&!hasMiddleware))return _extends({},existingInfo,{route})}if(_isApiRoute.isAPIRoute(route))return handleHardNavigation({url:as,router:_this}),new Promise((()=>{}));const routeInfo=cachedRouteInfo||(yield _this.fetchComponent(route).then((res=>({Component:res.page,styleSheets:res.styleSheets,__N_SSG:res.mod.__N_SSG,__N_SSP:res.mod.__N_SSP}))));0;const wasBailedPrefetch=null==data||null==(ref13=data.response)?void 0:ref13.headers.get("x-middleware-skip"),shouldFetchData=routeInfo.__N_SSG||routeInfo.__N_SSP;wasBailedPrefetch&&(null==data?void 0:data.dataHref)&&delete _this.sdc[data.dataHref];const{props,cacheKey}=yield _this._getData(_async_to_generator((function*(){if(shouldFetchData){if((null==data?void 0:data.json)&&!wasBailedPrefetch)return{cacheKey:data.cacheKey,props:data.json};const dataHref=(null==data?void 0:data.dataHref)?data.dataHref:_this.pageLoader.getDataHref({href:_formatUrl.formatWithValidation({pathname,query}),asPath:resolvedAs,locale}),fetched=yield fetchNextData({dataHref,isServerRender:_this.isSsr,parseJSON:!0,inflightCache:wasBailedPrefetch?{}:_this.sdc,persistCache:!isPreview,isPrefetch:!1,unstable_skipClientCache});return{cacheKey:fetched.cacheKey,props:fetched.json||{}}}return{headers:{},props:yield _this.getInitialProps(routeInfo.Component,{pathname,query,asPath:as,locale,locales:_this.locales,defaultLocale:_this.defaultLocale})}})));return routeInfo.__N_SSP&&fetchNextDataParams.dataHref&&cacheKey&&delete _this.sdc[cacheKey],_this.isPreview||!routeInfo.__N_SSG||isQueryUpdating||fetchNextData(Object.assign({},fetchNextDataParams,{isBackground:!0,persistCache:!1,inflightCache:_this.sbc})).catch((()=>{})),props.pageProps=Object.assign({},props.pageProps),routeInfo.props=props,routeInfo.route=route,routeInfo.query=query,routeInfo.resolvedAs=resolvedAs,_this.components[route]=routeInfo,routeInfo}catch(err){return _this.handleRouteInfoError(_isError.getProperError(err),pathname,query,as,routeProps)}}))()}set(state,data,resetScroll){return this.state=state,this.sub(data,this.components["/_app"].Component,resetScroll)}beforePopState(cb){this._bps=cb}onlyAHashChange(as){if(!this.asPath)return!1;const[oldUrlNoHash,oldHash]=this.asPath.split("#"),[newUrlNoHash,newHash]=as.split("#");return!(!newHash||oldUrlNoHash!==newUrlNoHash||oldHash!==newHash)||oldUrlNoHash===newUrlNoHash&&oldHash!==newHash}scrollToHash(as){const[,hash=""]=as.split("#");if(""===hash||"top"===hash)return void _handleSmoothScroll.handleSmoothScroll((()=>window.scrollTo(0,0)));const rawHash=decodeURIComponent(hash),idEl=document.getElementById(rawHash);if(idEl)return void _handleSmoothScroll.handleSmoothScroll((()=>idEl.scrollIntoView()));const nameEl=document.getElementsByName(rawHash)[0];nameEl&&_handleSmoothScroll.handleSmoothScroll((()=>nameEl.scrollIntoView()))}urlIsNew(asPath){return this.asPath!==asPath}prefetch(url,asPath=url,options={}){var _this=this;return _async_to_generator((function*(){if("undefined"!=typeof window&&_isBot.isBot(window.navigator.userAgent))return;let parsed=_parseRelativeUrl.parseRelativeUrl(url);const urlPathname=parsed.pathname;let{pathname,query}=parsed;const originalPathname=pathname;if(process.env.__NEXT_I18N_SUPPORT&&!1===options.locale){pathname=_normalizeLocalePath.normalizeLocalePath(pathname,_this.locales).pathname,parsed.pathname=pathname,url=_formatUrl.formatWithValidation(parsed);let parsedAs=_parseRelativeUrl.parseRelativeUrl(asPath);const localePathResult=_normalizeLocalePath.normalizeLocalePath(parsedAs.pathname,_this.locales);parsedAs.pathname=localePathResult.pathname,options.locale=localePathResult.detectedLocale||_this.defaultLocale,asPath=_formatUrl.formatWithValidation(parsedAs)}const pages=yield _this.pageLoader.getPageList();let resolvedAs=asPath;const locale=void 0!==options.locale?options.locale||void 0:_this.locale,isMiddlewareMatch=yield matchesMiddleware({asPath,locale,router:_this});if(process.env.__NEXT_HAS_REWRITES&&asPath.startsWith("/")){let rewrites;({__rewrites:rewrites}=yield _routeLoader.getClientBuildManifest());const rewritesResult=_resolveRewrites.default(_addBasePath.addBasePath(_addLocale.addLocale(asPath,_this.locale),!0),pages,rewrites,parsed.query,(p=>resolveDynamicRoute(p,pages)),_this.locales);if(rewritesResult.externalDest)return;isMiddlewareMatch||(resolvedAs=_removeLocale.removeLocale(_removeBasePath.removeBasePath(rewritesResult.asPath),_this.locale)),rewritesResult.matchedPage&&rewritesResult.resolvedHref&&(pathname=rewritesResult.resolvedHref,parsed.pathname=pathname,isMiddlewareMatch||(url=_formatUrl.formatWithValidation(parsed)))}parsed.pathname=resolveDynamicRoute(parsed.pathname,pages),_isDynamic.isDynamicRoute(parsed.pathname)&&(pathname=parsed.pathname,parsed.pathname=pathname,Object.assign(query,_routeMatcher.getRouteMatcher(_routeRegex.getRouteRegex(parsed.pathname))(_parsePath.parsePath(asPath).pathname)||{}),isMiddlewareMatch||(url=_formatUrl.formatWithValidation(parsed)));const data="strict"===process.env.__NEXT_MIDDLEWARE_PREFETCH?null:yield withMiddlewareEffects({fetchData:()=>fetchNextData({dataHref:_this.pageLoader.getDataHref({href:_formatUrl.formatWithValidation({pathname:originalPathname,query}),skipInterpolation:!0,asPath:resolvedAs,locale}),hasMiddleware:!0,isServerRender:_this.isSsr,parseJSON:!0,inflightCache:_this.sdc,persistCache:!_this.isPreview,isPrefetch:!0}),asPath,locale,router:_this});if("rewrite"===(null==data?void 0:data.effect.type)&&(parsed.pathname=data.effect.resolvedHref,pathname=data.effect.resolvedHref,query=_extends({},query,data.effect.parsedAs.query),resolvedAs=data.effect.parsedAs.pathname,url=_formatUrl.formatWithValidation(parsed)),"redirect-external"===(null==data?void 0:data.effect.type))return;const route=_removeTrailingSlash.removeTrailingSlash(pathname);(yield _this._bfl(asPath,resolvedAs,options.locale,!0))&&(_this.components[urlPathname]={__appRouter:!0}),yield Promise.all([_this.pageLoader._isSsg(route).then((isSsg=>!!isSsg&&fetchNextData({dataHref:(null==data?void 0:data.json)?null==data?void 0:data.dataHref:_this.pageLoader.getDataHref({href:url,asPath:resolvedAs,locale}),isServerRender:!1,parseJSON:!0,inflightCache:_this.sdc,persistCache:!_this.isPreview,isPrefetch:!0,unstable_skipClientCache:options.unstable_skipClientCache||options.priority&&!!process.env.__NEXT_OPTIMISTIC_CLIENT_CACHE}).then((()=>!1)).catch((()=>!1)))),_this.pageLoader[options.priority?"loadPage":"prefetch"](route)])}))()}fetchComponent(route){var _this=this;return _async_to_generator((function*(){const handleCancelled=getCancelledHandler({route,router:_this});try{const componentResult=yield _this.pageLoader.loadPage(route);return handleCancelled(),componentResult}catch(err){throw handleCancelled(),err}}))()}_getData(fn){let cancelled=!1;const cancel=()=>{cancelled=!0};return this.clc=cancel,fn().then((data=>{if(cancel===this.clc&&(this.clc=null),cancelled){const err=new Error("Loading initial props cancelled");throw err.cancelled=!0,err}return data}))}_getFlightData(dataHref){return fetchNextData({dataHref,isServerRender:!0,parseJSON:!1,inflightCache:this.sdc,persistCache:!1,isPrefetch:!1}).then((({text})=>({data:text})))}getInitialProps(Component,ctx){const{Component:App}=this.components["/_app"],AppTree=this._wrapApp(App);return ctx.AppTree=AppTree,_utils.loadGetInitialProps(App,{AppTree,Component,router:this,ctx})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(pathname1,query1,as1,{initialProps,pageLoader,App,wrapApp,Component,err,subscription,isFallback,locale,locales,defaultLocale,domainLocales,isPreview}){this.sdc={},this.sbc={},this.isFirstPopStateEvent=!0,this._key=createKey(),this.onPopState=e=>{const{isFirstPopStateEvent}=this;this.isFirstPopStateEvent=!1;const state=e.state;if(!state){const{pathname,query}=this;return void this.changeState("replaceState",_formatUrl.formatWithValidation({pathname:_addBasePath.addBasePath(pathname),query}),_utils.getURL())}if(state.__NA)return void window.location.reload();if(!state.__N)return;if(isFirstPopStateEvent&&this.locale===state.options.locale&&state.as===this.asPath)return;let forcedScroll;const{url,as,options,key}=state;if(process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration&&this._key!==key){try{sessionStorage.setItem("__next_scroll_"+this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}try{const v=sessionStorage.getItem("__next_scroll_"+key);forcedScroll=JSON.parse(v)}catch(e1){forcedScroll={x:0,y:0}}}this._key=key;const{pathname}=_parseRelativeUrl.parseRelativeUrl(url);this.isSsr&&as===_addBasePath.addBasePath(this.asPath)&&pathname===_addBasePath.addBasePath(this.pathname)||this._bps&&!this._bps(state)||this.change("replaceState",url,as,Object.assign({},options,{shallow:options.shallow&&this._shallow,locale:options.locale||this.defaultLocale,_h:0}),forcedScroll)};const route=_removeTrailingSlash.removeTrailingSlash(pathname1);if(this.components={},"/_error"!==pathname1&&(this.components[route]={Component,initial:!0,props:initialProps,err,__N_SSG:initialProps&&initialProps.__N_SSG,__N_SSP:initialProps&&initialProps.__N_SSP}),this.components["/_app"]={Component:App,styleSheets:[]},process.env.__NEXT_CLIENT_ROUTER_FILTER_ENABLED){const{BloomFilter}=__webpack_require__("./node_modules/next/dist/shared/lib/bloom-filter/index.js"),staticFilterData=process.env.__NEXT_CLIENT_ROUTER_S_FILTER,dynamicFilterData=process.env.__NEXT_CLIENT_ROUTER_D_FILTER;(null==staticFilterData?void 0:staticFilterData.hashes)&&(this._bfl_s=new BloomFilter(staticFilterData.size,staticFilterData.hashes),this._bfl_s.import(staticFilterData)),(null==dynamicFilterData?void 0:dynamicFilterData.hashes)&&(this._bfl_d=new BloomFilter(dynamicFilterData.size,dynamicFilterData.hashes),this._bfl_d.import(dynamicFilterData))}this.events=Router.events,this.pageLoader=pageLoader;const autoExportDynamic=_isDynamic.isDynamicRoute(pathname1)&&self.__NEXT_DATA__.autoExport;if(this.basePath=process.env.__NEXT_ROUTER_BASEPATH||"",this.sub=subscription,this.clc=null,this._wrapApp=wrapApp,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!(!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp)&&(autoExportDynamic||self.location.search||process.env.__NEXT_HAS_REWRITES)),process.env.__NEXT_I18N_SUPPORT&&(this.locales=locales,this.defaultLocale=defaultLocale,this.domainLocales=domainLocales,this.isLocaleDomain=!!_detectDomainLocale.detectDomainLocale(domainLocales,self.location.hostname)),this.state={route,pathname:pathname1,query:query1,asPath:autoExportDynamic?pathname1:as1,isPreview:!!isPreview,locale:process.env.__NEXT_I18N_SUPPORT?locale:void 0,isFallback},this._initialMatchesMiddlewarePromise=Promise.resolve(!1),"undefined"!=typeof window){if(!as1.startsWith("//")){const options={locale},asPath=_utils.getURL();this._initialMatchesMiddlewarePromise=matchesMiddleware({router:this,locale,asPath}).then((matches=>(options._shouldResolveHref=as1!==pathname1,this.changeState("replaceState",matches?asPath:_formatUrl.formatWithValidation({pathname:_addBasePath.addBasePath(pathname1),query:query1}),asPath,options),matches)))}window.addEventListener("popstate",this.onPopState),process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration&&(window.history.scrollRestoration="manual")}}}Router.events=_mitt.default(),exports.default=Router},"./node_modules/next/dist/shared/lib/router/utils/add-locale.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLocale=function addLocale(path,locale,defaultLocale,ignorePrefix){if(!locale||locale===defaultLocale)return path;const lower=path.toLowerCase();if(!ignorePrefix){if(_pathHasPrefix.pathHasPrefix(lower,"/api"))return path;if(_pathHasPrefix.pathHasPrefix(lower,`/${locale.toLowerCase()}`))return path}return _addPathPrefix.addPathPrefix(path,`/${locale}`)};var _addPathPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js"),_pathHasPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js")},"./node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPathPrefix=function addPathPrefix(path,prefix){if(!path.startsWith("/")||!prefix)return path;const{pathname,query,hash}=_parsePath.parsePath(path);return`${prefix}${pathname}${query}${hash}`};var _parsePath=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-path.js")},"./node_modules/next/dist/shared/lib/router/utils/add-path-suffix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPathSuffix=function addPathSuffix(path,suffix){if(!path.startsWith("/")||!suffix)return path;const{pathname,query,hash}=_parsePath.parsePath(path);return`${pathname}${suffix}${query}${hash}`};var _parsePath=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-path.js")},"./node_modules/next/dist/shared/lib/router/utils/app-paths.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeAppPath=function normalizeAppPath(route){return _ensureLeadingSlash.ensureLeadingSlash(route.split("/").reduce(((pathname,segment,index,segments)=>segment?segment.startsWith("(")&&segment.endsWith(")")||segment.startsWith("@")?pathname:"page"!==segment&&"route"!==segment||index!==segments.length-1?`${pathname}/${segment}`:pathname:pathname),""))},exports.normalizeRscPath=function normalizeRscPath(pathname,enabled){return enabled?pathname.replace(/\.rsc($|\?)/,"$1"):pathname};var _ensureLeadingSlash=__webpack_require__("./node_modules/next/dist/shared/lib/page-path/ensure-leading-slash.js")},"./node_modules/next/dist/shared/lib/router/utils/compare-states.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareRouterStates=function compareRouterStates(a,b){const stateKeys=Object.keys(a);if(stateKeys.length!==Object.keys(b).length)return!1;for(let i=stateKeys.length;i--;){const key=stateKeys[i];if("query"===key){const queryKeys=Object.keys(a.query);if(queryKeys.length!==Object.keys(b.query).length)return!1;for(let j=queryKeys.length;j--;){const queryKey=queryKeys[j];if(!b.query.hasOwnProperty(queryKey)||a.query[queryKey]!==b.query[queryKey])return!1}}else if(!b.hasOwnProperty(key)||a[key]!==b[key])return!1}return!0}},"./node_modules/next/dist/shared/lib/router/utils/format-next-pathname-info.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatNextPathnameInfo=function formatNextPathnameInfo(info){let pathname=_addLocale.addLocale(info.pathname,info.locale,info.buildId?void 0:info.defaultLocale,info.ignorePrefix);!info.buildId&&info.trailingSlash||(pathname=_removeTrailingSlash.removeTrailingSlash(pathname));info.buildId&&(pathname=_addPathSuffix.addPathSuffix(_addPathPrefix.addPathPrefix(pathname,`/_next/data/${info.buildId}`),"/"===info.pathname?"index.json":".json"));return pathname=_addPathPrefix.addPathPrefix(pathname,info.basePath),!info.buildId&&info.trailingSlash?pathname.endsWith("/")?pathname:_addPathSuffix.addPathSuffix(pathname,"/"):_removeTrailingSlash.removeTrailingSlash(pathname)};var _removeTrailingSlash=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js"),_addPathPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js"),_addPathSuffix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-path-suffix.js"),_addLocale=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/add-locale.js")},"./node_modules/next/dist/shared/lib/router/utils/format-url.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatUrl=formatUrl,exports.formatWithValidation=function formatWithValidation(url){0;return formatUrl(url)},exports.urlObjectKeys=void 0;var querystring=(0,__webpack_require__("./node_modules/@swc/helpers/lib/_interop_require_wildcard.js").Z)(__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/querystring.js"));const slashedProtocols=/https?|ftp|gopher|file/;function formatUrl(urlObj){let{auth,hostname}=urlObj,protocol=urlObj.protocol||"",pathname=urlObj.pathname||"",hash=urlObj.hash||"",query=urlObj.query||"",host=!1;auth=auth?encodeURIComponent(auth).replace(/%3A/i,":")+"@":"",urlObj.host?host=auth+urlObj.host:hostname&&(host=auth+(~hostname.indexOf(":")?`[${hostname}]`:hostname),urlObj.port&&(host+=":"+urlObj.port)),query&&"object"==typeof query&&(query=String(querystring.urlQueryToSearchParams(query)));let search=urlObj.search||query&&`?${query}`||"";return protocol&&!protocol.endsWith(":")&&(protocol+=":"),urlObj.slashes||(!protocol||slashedProtocols.test(protocol))&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname[0]&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash[0]&&(hash="#"+hash),search&&"?"!==search[0]&&(search="?"+search),pathname=pathname.replace(/[?#]/g,encodeURIComponent),search=search.replace("#","%23"),`${protocol}${host}${pathname}${search}${hash}`}exports.urlObjectKeys=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"]},"./node_modules/next/dist/shared/lib/router/utils/get-asset-path-from-route.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function getAssetPathFromRoute(route,ext=""){return("/"===route?"/index":/^\/index(\/|$)/.test(route)?`/index${route}`:`${route}`)+ext}},"./node_modules/next/dist/shared/lib/router/utils/get-next-pathname-info.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNextPathnameInfo=function getNextPathnameInfo(pathname,options){var _nextConfig;const{basePath,i18n,trailingSlash}=null!=(_nextConfig=options.nextConfig)?_nextConfig:{},info={pathname,trailingSlash:"/"!==pathname?pathname.endsWith("/"):trailingSlash};basePath&&_pathHasPrefix.pathHasPrefix(info.pathname,basePath)&&(info.pathname=_removePathPrefix.removePathPrefix(info.pathname,basePath),info.basePath=basePath);if(!0===options.parseData&&info.pathname.startsWith("/_next/data/")&&info.pathname.endsWith(".json")){const paths=info.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),buildId=paths[0];info.pathname="index"!==paths[1]?`/${paths.slice(1).join("/")}`:"/",info.buildId=buildId}if(options.i18nProvider){const result=options.i18nProvider.analyze(info.pathname);var _pathname;info.locale=result.detectedLocale,info.pathname=null!=(_pathname=result.pathname)?_pathname:info.pathname}else if(i18n){const pathLocale=_normalizeLocalePath.normalizeLocalePath(info.pathname,i18n.locales);var _pathname1;info.locale=pathLocale.detectedLocale,info.pathname=null!=(_pathname1=pathLocale.pathname)?_pathname1:info.pathname}return info};var _normalizeLocalePath=__webpack_require__("./node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js"),_removePathPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/remove-path-prefix.js"),_pathHasPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js")},"./node_modules/next/dist/shared/lib/router/utils/handle-smooth-scroll.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleSmoothScroll=function handleSmoothScroll(fn,options={}){const htmlElement=document.documentElement,existing=htmlElement.style.scrollBehavior;htmlElement.style.scrollBehavior="auto",options.dontForceLayout||htmlElement.getClientRects();fn(),htmlElement.style.scrollBehavior=existing}},"./node_modules/next/dist/shared/lib/router/utils/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getSortedRoutes",{enumerable:!0,get:function(){return _sortedRoutes.getSortedRoutes}}),Object.defineProperty(exports,"isDynamicRoute",{enumerable:!0,get:function(){return _isDynamic.isDynamicRoute}});var _sortedRoutes=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/sorted-routes.js"),_isDynamic=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-dynamic.js")},"./node_modules/next/dist/shared/lib/router/utils/interpolate-as.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateAs=function interpolateAs(route,asPathname,query){let interpolatedRoute="";const dynamicRegex=_routeRegex.getRouteRegex(route),dynamicGroups=dynamicRegex.groups,dynamicMatches=(asPathname!==route?_routeMatcher.getRouteMatcher(dynamicRegex)(asPathname):"")||query;interpolatedRoute=route;const params=Object.keys(dynamicGroups);params.every((param=>{let value=dynamicMatches[param]||"";const{repeat,optional}=dynamicGroups[param];let replaced=`[${repeat?"...":""}${param}]`;return optional&&(replaced=`${value?"":"/"}[${replaced}]`),repeat&&!Array.isArray(value)&&(value=[value]),(optional||param in dynamicMatches)&&(interpolatedRoute=interpolatedRoute.replace(replaced,repeat?value.map((segment=>encodeURIComponent(segment))).join("/"):encodeURIComponent(value))||"/")}))||(interpolatedRoute="");return{params,result:interpolatedRoute}};var _routeMatcher=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/route-matcher.js"),_routeRegex=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/route-regex.js")},"./node_modules/next/dist/shared/lib/router/utils/is-bot.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBot=function isBot(userAgent){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(userAgent)}},"./node_modules/next/dist/shared/lib/router/utils/is-dynamic.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDynamicRoute=function isDynamicRoute(route){return TEST_ROUTE.test(route)};const TEST_ROUTE=/\/\[[^/]+?\](?=\/|$)/},"./node_modules/next/dist/shared/lib/router/utils/is-local-url.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isLocalURL=function isLocalURL(url){if(!_utils.isAbsoluteUrl(url))return!0;try{const locationOrigin=_utils.getLocationOrigin(),resolved=new URL(url,locationOrigin);return resolved.origin===locationOrigin&&_hasBasePath.hasBasePath(resolved.pathname)}catch(_){return!1}};var _utils=__webpack_require__("./node_modules/next/dist/shared/lib/utils.js"),_hasBasePath=__webpack_require__("./node_modules/next/dist/client/has-base-path.js")},"./node_modules/next/dist/shared/lib/router/utils/omit.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.omit=function omit(object,keys){const omitted={};return Object.keys(object).forEach((key=>{keys.includes(key)||(omitted[key]=object[key])})),omitted}},"./node_modules/next/dist/shared/lib/router/utils/parse-relative-url.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRelativeUrl=function parseRelativeUrl(url,base){const globalBase=new URL("undefined"==typeof window?"http://n":_utils.getLocationOrigin()),resolvedBase=base?new URL(base,globalBase):url.startsWith(".")?new URL("undefined"==typeof window?"http://n":window.location.href):globalBase,{pathname,searchParams,search,hash,href,origin}=new URL(url,resolvedBase);if(origin!==globalBase.origin)throw new Error(`invariant: invalid relative URL, router received ${url}`);return{pathname,query:_querystring.searchParamsToUrlQuery(searchParams),search,hash,href:href.slice(globalBase.origin.length)}};var _utils=__webpack_require__("./node_modules/next/dist/shared/lib/utils.js"),_querystring=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/querystring.js")},"./node_modules/next/dist/shared/lib/router/utils/parse-url.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseUrl=function parseUrl(url){if(url.startsWith("/"))return _parseRelativeUrl.parseRelativeUrl(url);const parsedURL=new URL(url);return{hash:parsedURL.hash,hostname:parsedURL.hostname,href:parsedURL.href,pathname:parsedURL.pathname,port:parsedURL.port,protocol:parsedURL.protocol,query:_querystring.searchParamsToUrlQuery(parsedURL.searchParams),search:parsedURL.search}};var _querystring=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/querystring.js"),_parseRelativeUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-relative-url.js")},"./node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pathHasPrefix=function pathHasPrefix(path,prefix){if("string"!=typeof path)return!1;const{pathname}=_parsePath.parsePath(path);return pathname===prefix||pathname.startsWith(prefix+"/")};var _parsePath=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-path.js")},"./node_modules/next/dist/shared/lib/router/utils/path-match.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPathMatch=function getPathMatch(path,options){const keys=[],regexp=_pathToRegexp.pathToRegexp(path,keys,{delimiter:"/",sensitive:!1,strict:null==options?void 0:options.strict}),matcher=_pathToRegexp.regexpToFunction((null==options?void 0:options.regexModifier)?new RegExp(options.regexModifier(regexp.source),regexp.flags):regexp,keys);return(pathname,params)=>{const res=null!=pathname&&matcher(pathname);if(!res)return!1;if(null==options?void 0:options.removeUnnamedParams)for(const key of keys)"number"==typeof key.name&&delete res.params[key.name];return _extends({},params,res.params)}};var _extends=__webpack_require__("./node_modules/@swc/helpers/lib/_extends.js").Z,_pathToRegexp=__webpack_require__("./node_modules/next/dist/compiled/path-to-regexp/index.js")},"./node_modules/next/dist/shared/lib/router/utils/prepare-destination.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchHas=function matchHas(req,query,has=[],missing=[]){const params={},hasMatch=hasItem=>{let value,key=hasItem.key;switch(hasItem.type){case"header":key=key.toLowerCase(),value=req.headers[key];break;case"cookie":value=req.cookies[hasItem.key];break;case"query":value=query[key];break;case"host":{const{host}=(null==req?void 0:req.headers)||{};value=null==host?void 0:host.split(":")[0].toLowerCase();break}}if(!hasItem.value&&value)return params[function getSafeParamName(paramName){let newParamName="";for(let i=0;i<paramName.length;i++){const charCode=paramName.charCodeAt(i);(charCode>64&&charCode<91||charCode>96&&charCode<123)&&(newParamName+=paramName[i])}return newParamName}(key)]=value,!0;if(value){const matcher=new RegExp(`^${hasItem.value}$`),matches=Array.isArray(value)?value.slice(-1)[0].match(matcher):value.match(matcher);if(matches)return Array.isArray(matches)&&(matches.groups?Object.keys(matches.groups).forEach((groupKey=>{params[groupKey]=matches.groups[groupKey]})):"host"===hasItem.type&&matches[0]&&(params.host=matches[0])),!0}return!1};if(has.every((item=>hasMatch(item)))&&!missing.some((item=>hasMatch(item))))return params;return!1},exports.compileNonPath=compileNonPath,exports.prepareDestination=function prepareDestination(args){const query=Object.assign({},args.query);delete query.__nextLocale,delete query.__nextDefaultLocale,delete query.__nextDataReq,delete query.__nextInferredLocaleFromDefault;let escapedDestination=args.destination;for(const param of Object.keys(_extends({},args.params,query)))segmentName=param,escapedDestination=escapedDestination.replace(new RegExp(`:${_escapeRegexp.escapeStringRegexp(segmentName)}`,"g"),`__ESC_COLON_${segmentName}`);var segmentName;const parsedDestination=_parseUrl.parseUrl(escapedDestination),destQuery=parsedDestination.query,destPath=unescapeSegments(`${parsedDestination.pathname}${parsedDestination.hash||""}`),destHostname=unescapeSegments(parsedDestination.hostname||""),destPathParamKeys=[],destHostnameParamKeys=[];_pathToRegexp.pathToRegexp(destPath,destPathParamKeys),_pathToRegexp.pathToRegexp(destHostname,destHostnameParamKeys);const destParams=[];destPathParamKeys.forEach((key=>destParams.push(key.name))),destHostnameParamKeys.forEach((key=>destParams.push(key.name)));const destPathCompiler=_pathToRegexp.compile(destPath,{validate:!1}),destHostnameCompiler=_pathToRegexp.compile(destHostname,{validate:!1});for(const[key1,strOrArray]of Object.entries(destQuery))Array.isArray(strOrArray)?destQuery[key1]=strOrArray.map((value=>compileNonPath(unescapeSegments(value),args.params))):"string"==typeof strOrArray&&(destQuery[key1]=compileNonPath(unescapeSegments(strOrArray),args.params));let newUrl,paramKeys=Object.keys(args.params).filter((name=>"nextInternalLocale"!==name));if(args.appendParamsToQuery&&!paramKeys.some((key=>destParams.includes(key))))for(const key of paramKeys)key in destQuery||(destQuery[key]=args.params[key]);if(_interceptionRoutes.isInterceptionRouteAppPath(destPath))main:for(const segment of destPath.split("/")){for(const marker of _interceptionRoutes.INTERCEPTION_ROUTE_MARKERS)if(segment.startsWith(marker)){args.params[0]=marker;break main}if(segment.startsWith(":")){const param=segment.slice(1);args.params[param]="__NEXT_EMPTY_PARAM__"}}try{newUrl=destPathCompiler(args.params);const[pathname,hash]=newUrl.split("#");parsedDestination.hostname=destHostnameCompiler(args.params),parsedDestination.pathname=pathname,parsedDestination.hash=`${hash?"#":""}${hash||""}`,delete parsedDestination.search}catch(err){if(err.message.match(/Expected .*? to not repeat, but got an array/))throw new Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw err}return parsedDestination.query=_extends({},query,parsedDestination.query),{newUrl,destQuery,parsedDestination}};var _extends=__webpack_require__("./node_modules/@swc/helpers/lib/_extends.js").Z,_pathToRegexp=__webpack_require__("./node_modules/next/dist/compiled/path-to-regexp/index.js"),_escapeRegexp=__webpack_require__("./node_modules/next/dist/shared/lib/escape-regexp.js"),_parseUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-url.js"),_interceptionRoutes=__webpack_require__("./node_modules/next/dist/server/future/helpers/interception-routes.js");function unescapeSegments(str){return str.replace(/__ESC_COLON_/gi,":")}function compileNonPath(value,params){if(!value.includes(":"))return value;for(const key of Object.keys(params))value.includes(`:${key}`)&&(value=value.replace(new RegExp(`:${key}\\*`,"g"),`:${key}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${key}\\?`,"g"),`:${key}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${key}\\+`,"g"),`:${key}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${key}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${key}`));return value=value.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),_pathToRegexp.compile(`/${value}`,{validate:!1})(params).slice(1)}},"./node_modules/next/dist/shared/lib/router/utils/querystring.js":(__unused_webpack_module,exports)=>{"use strict";function stringifyUrlQueryParam(param){return"string"==typeof param||"number"==typeof param&&!isNaN(param)||"boolean"==typeof param?String(param):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.searchParamsToUrlQuery=function searchParamsToUrlQuery(searchParams){const query={};return searchParams.forEach(((value,key)=>{void 0===query[key]?query[key]=value:Array.isArray(query[key])?query[key].push(value):query[key]=[query[key],value]})),query},exports.urlQueryToSearchParams=function urlQueryToSearchParams(urlQuery){const result=new URLSearchParams;return Object.entries(urlQuery).forEach((([key,value])=>{Array.isArray(value)?value.forEach((item=>result.append(key,stringifyUrlQueryParam(item)))):result.set(key,stringifyUrlQueryParam(value))})),result},exports.assign=function assign(target,...searchParamsList){return searchParamsList.forEach((searchParams=>{Array.from(searchParams.keys()).forEach((key=>target.delete(key))),searchParams.forEach(((value,key)=>target.append(key,value)))})),target}},"./node_modules/next/dist/shared/lib/router/utils/remove-path-prefix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removePathPrefix=function removePathPrefix(path,prefix){if(!_pathHasPrefix.pathHasPrefix(path,prefix))return path;const withoutPrefix=path.slice(prefix.length);if(withoutPrefix.startsWith("/"))return withoutPrefix;return`/${withoutPrefix}`};var _pathHasPrefix=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js")},"./node_modules/next/dist/shared/lib/router/utils/resolve-href.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveHref=function resolveHref(router,href,resolveAs){let base,urlAsString="string"==typeof href?href:_formatUrl.formatWithValidation(href);const urlProtoMatch=urlAsString.match(/^[a-zA-Z]{1,}:\/\//),urlAsStringNoProto=urlProtoMatch?urlAsString.slice(urlProtoMatch[0].length):urlAsString;if((urlAsStringNoProto.split("?")[0]||"").match(/(\/\/|\\)/)){console.error(`Invalid href '${urlAsString}' passed to next/router in page: '${router.pathname}'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.`);const normalizedUrl=_utils.normalizeRepeatedSlashes(urlAsStringNoProto);urlAsString=(urlProtoMatch?urlProtoMatch[0]:"")+normalizedUrl}if(!_isLocalUrl.isLocalURL(urlAsString))return resolveAs?[urlAsString]:urlAsString;try{base=new URL(urlAsString.startsWith("#")?router.asPath:router.pathname,"http://n")}catch(_){base=new URL("/","http://n")}try{const finalUrl=new URL(urlAsString,base);finalUrl.pathname=_normalizeTrailingSlash.normalizePathTrailingSlash(finalUrl.pathname);let interpolatedAs="";if(_isDynamic.isDynamicRoute(finalUrl.pathname)&&finalUrl.searchParams&&resolveAs){const query=_querystring.searchParamsToUrlQuery(finalUrl.searchParams),{result,params}=_interpolateAs.interpolateAs(finalUrl.pathname,finalUrl.pathname,query);result&&(interpolatedAs=_formatUrl.formatWithValidation({pathname:result,hash:finalUrl.hash,query:_omit.omit(query,params)}))}const resolvedHref=finalUrl.origin===base.origin?finalUrl.href.slice(finalUrl.origin.length):finalUrl.href;return resolveAs?[resolvedHref,interpolatedAs||resolvedHref]:resolvedHref}catch(_1){return resolveAs?[urlAsString]:urlAsString}};var _querystring=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/querystring.js"),_formatUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/format-url.js"),_omit=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/omit.js"),_utils=__webpack_require__("./node_modules/next/dist/shared/lib/utils.js"),_normalizeTrailingSlash=__webpack_require__("./node_modules/next/dist/client/normalize-trailing-slash.js"),_isLocalUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-local-url.js"),_isDynamic=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/is-dynamic.js"),_interpolateAs=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/interpolate-as.js")},"./node_modules/next/dist/shared/lib/router/utils/resolve-rewrites.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function resolveRewrites(asPath,pages,rewrites,query,resolveHref,locales){let resolvedHref,matchedPage=!1,externalDest=!1,parsedAs=_parseRelativeUrl.parseRelativeUrl(asPath),fsPathname=_removeTrailingSlash.removeTrailingSlash(_normalizeLocalePath.normalizeLocalePath(_removeBasePath.removeBasePath(parsedAs.pathname),locales).pathname);const handleRewrite=rewrite=>{let params=_pathMatch.getPathMatch(rewrite.source+(process.env.__NEXT_TRAILING_SLASH?"(/)?":""),{removeUnnamedParams:!0,strict:!0})(parsedAs.pathname);if((rewrite.has||rewrite.missing)&&params){const hasParams=_prepareDestination.matchHas({headers:{host:document.location.hostname},cookies:document.cookie.split("; ").reduce(((acc,item)=>{const[key,...value]=item.split("=");return acc[key]=value.join("="),acc}),{})},parsedAs.query,rewrite.has,rewrite.missing);hasParams?Object.assign(params,hasParams):params=!1}if(params){if(!rewrite.destination)return externalDest=!0,!0;const destRes=_prepareDestination.prepareDestination({appendParamsToQuery:!0,destination:rewrite.destination,params,query});if(parsedAs=destRes.parsedDestination,asPath=destRes.newUrl,Object.assign(query,destRes.parsedDestination.query),fsPathname=_removeTrailingSlash.removeTrailingSlash(_normalizeLocalePath.normalizeLocalePath(_removeBasePath.removeBasePath(asPath),locales).pathname),pages.includes(fsPathname))return matchedPage=!0,resolvedHref=fsPathname,!0;if(resolvedHref=resolveHref(fsPathname),resolvedHref!==asPath&&pages.includes(resolvedHref))return matchedPage=!0,!0}};let finished=!1;for(let i=0;i<rewrites.beforeFiles.length;i++)handleRewrite(rewrites.beforeFiles[i]);if(matchedPage=pages.includes(fsPathname),!matchedPage){if(!finished)for(let i=0;i<rewrites.afterFiles.length;i++)if(handleRewrite(rewrites.afterFiles[i])){finished=!0;break}if(finished||(resolvedHref=resolveHref(fsPathname),matchedPage=pages.includes(resolvedHref),finished=matchedPage),!finished)for(let i=0;i<rewrites.fallback.length;i++)if(handleRewrite(rewrites.fallback[i])){finished=!0;break}}return{asPath,parsedAs,matchedPage,resolvedHref,externalDest}};var _pathMatch=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/path-match.js"),_prepareDestination=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/prepare-destination.js"),_removeTrailingSlash=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js"),_normalizeLocalePath=__webpack_require__("./node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js"),_removeBasePath=__webpack_require__("./node_modules/next/dist/client/remove-base-path.js"),_parseRelativeUrl=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/parse-relative-url.js")},"./node_modules/next/dist/shared/lib/router/utils/route-matcher.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRouteMatcher=function getRouteMatcher({re,groups}){return pathname=>{const routeMatch=re.exec(pathname);if(!routeMatch)return!1;const decode=param=>{try{return decodeURIComponent(param)}catch(_){throw new _utils.DecodeError("failed to decode param")}},params={};return Object.keys(groups).forEach((slugName=>{const g=groups[slugName],m=routeMatch[g.pos];void 0!==m&&(params[slugName]=~m.indexOf("/")?m.split("/").map((entry=>decode(entry))):g.repeat?[decode(m)]:decode(m))})),params}};var _utils=__webpack_require__("./node_modules/next/dist/shared/lib/utils.js")},"./node_modules/next/dist/shared/lib/router/utils/route-regex.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRouteRegex=getRouteRegex,exports.getNamedRouteRegex=function getNamedRouteRegex(normalizedRoute,prefixRouteKey){const result=getNamedParametrizedRoute(normalizedRoute,prefixRouteKey);return _extends({},getRouteRegex(normalizedRoute),{namedRegex:`^${result.namedParameterizedRoute}(?:/)?$`,routeKeys:result.routeKeys})},exports.getNamedMiddlewareRegex=function getNamedMiddlewareRegex(normalizedRoute,options){const{parameterizedRoute}=getParametrizedRoute(normalizedRoute),{catchAll=!0}=options;if("/"===parameterizedRoute){return{namedRegex:`^/${catchAll?".*":""}$`}}const{namedParameterizedRoute}=getNamedParametrizedRoute(normalizedRoute,!1);return{namedRegex:`^${namedParameterizedRoute}${catchAll?"(?:(/.*)?)":""}$`}};var _extends=__webpack_require__("./node_modules/@swc/helpers/lib/_extends.js").Z,_escapeRegexp=__webpack_require__("./node_modules/next/dist/shared/lib/escape-regexp.js"),_removeTrailingSlash=__webpack_require__("./node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js");const NEXT_QUERY_PARAM_PREFIX="nextParam";function parseParameter(param){const optional=param.startsWith("[")&&param.endsWith("]");optional&&(param=param.slice(1,-1));const repeat=param.startsWith("...");return repeat&&(param=param.slice(3)),{key:param,repeat,optional}}function getParametrizedRoute(route){const segments=_removeTrailingSlash.removeTrailingSlash(route).slice(1).split("/"),groups={};let groupIndex=1;return{parameterizedRoute:segments.map((segment=>{if(segment.startsWith("[")&&segment.endsWith("]")){const{key,optional,repeat}=parseParameter(segment.slice(1,-1));return groups[key]={pos:groupIndex++,repeat,optional},repeat?optional?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}return`/${_escapeRegexp.escapeStringRegexp(segment)}`})).join(""),groups}}function getRouteRegex(normalizedRoute){const{parameterizedRoute,groups}=getParametrizedRoute(normalizedRoute);return{re:new RegExp(`^${parameterizedRoute}(?:/)?$`),groups}}function getNamedParametrizedRoute(route,prefixRouteKeys){const segments=_removeTrailingSlash.removeTrailingSlash(route).slice(1).split("/"),getSafeRouteKey=function buildGetSafeRouteKey(){let routeKeyCharCode=97,routeKeyCharLength=1;return()=>{let routeKey="";for(let i=0;i<routeKeyCharLength;i++)routeKey+=String.fromCharCode(routeKeyCharCode),routeKeyCharCode++,routeKeyCharCode>122&&(routeKeyCharLength++,routeKeyCharCode=97);return routeKey}}(),routeKeys={};return{namedParameterizedRoute:segments.map((segment=>{if(segment.startsWith("[")&&segment.endsWith("]")){const{key,optional,repeat}=parseParameter(segment.slice(1,-1));let cleanedKey=key.replace(/\W/g,""),invalidKey=!1;return(0===cleanedKey.length||cleanedKey.length>30)&&(invalidKey=!0),isNaN(parseInt(cleanedKey.slice(0,1)))||(invalidKey=!0),invalidKey&&(cleanedKey=getSafeRouteKey()),prefixRouteKeys?(cleanedKey=`${NEXT_QUERY_PARAM_PREFIX}${cleanedKey}`,routeKeys[cleanedKey]=`${NEXT_QUERY_PARAM_PREFIX}${key}`):routeKeys[cleanedKey]=`${key}`,repeat?optional?`(?:/(?<${cleanedKey}>.+?))?`:`/(?<${cleanedKey}>.+?)`:`/(?<${cleanedKey}>[^/]+?)`}return`/${_escapeRegexp.escapeStringRegexp(segment)}`})).join(""),routeKeys}}},"./node_modules/next/dist/shared/lib/router/utils/sorted-routes.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSortedRoutes=function getSortedRoutes(normalizedPages){const root=new UrlNode;return normalizedPages.forEach((pagePath=>root.insert(pagePath))),root.smoosh()};class UrlNode{insert(urlPath){this._insert(urlPath.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(prefix="/"){const childrenPaths=[...this.children.keys()].sort();null!==this.slugName&&childrenPaths.splice(childrenPaths.indexOf("[]"),1),null!==this.restSlugName&&childrenPaths.splice(childrenPaths.indexOf("[...]"),1),null!==this.optionalRestSlugName&&childrenPaths.splice(childrenPaths.indexOf("[[...]]"),1);const routes=childrenPaths.map((c=>this.children.get(c)._smoosh(`${prefix}${c}/`))).reduce(((prev,curr)=>[...prev,...curr]),[]);if(null!==this.slugName&&routes.push(...this.children.get("[]")._smoosh(`${prefix}[${this.slugName}]/`)),!this.placeholder){const r="/"===prefix?"/":prefix.slice(0,-1);if(null!=this.optionalRestSlugName)throw new Error(`You cannot define a route with the same specificity as a optional catch-all route ("${r}" and "${r}[[...${this.optionalRestSlugName}]]").`);routes.unshift(r)}return null!==this.restSlugName&&routes.push(...this.children.get("[...]")._smoosh(`${prefix}[...${this.restSlugName}]/`)),null!==this.optionalRestSlugName&&routes.push(...this.children.get("[[...]]")._smoosh(`${prefix}[[...${this.optionalRestSlugName}]]/`)),routes}_insert(urlPaths,slugNames,isCatchAll){if(0===urlPaths.length)return void(this.placeholder=!1);if(isCatchAll)throw new Error("Catch-all must be the last part of the URL.");let nextSegment=urlPaths[0];if(nextSegment.startsWith("[")&&nextSegment.endsWith("]")){let segmentName=nextSegment.slice(1,-1),isOptional=!1;if(segmentName.startsWith("[")&&segmentName.endsWith("]")&&(segmentName=segmentName.slice(1,-1),isOptional=!0),segmentName.startsWith("...")&&(segmentName=segmentName.substring(3),isCatchAll=!0),segmentName.startsWith("[")||segmentName.endsWith("]"))throw new Error(`Segment names may not start or end with extra brackets ('${segmentName}').`);if(segmentName.startsWith("."))throw new Error(`Segment names may not start with erroneous periods ('${segmentName}').`);function handleSlug(previousSlug,nextSlug){if(null!==previousSlug&&previousSlug!==nextSlug)throw new Error(`You cannot use different slug names for the same dynamic path ('${previousSlug}' !== '${nextSlug}').`);slugNames.forEach((slug=>{if(slug===nextSlug)throw new Error(`You cannot have the same slug name "${nextSlug}" repeat within a single dynamic path`);if(slug.replace(/\W/g,"")===nextSegment.replace(/\W/g,""))throw new Error(`You cannot have the slug names "${slug}" and "${nextSlug}" differ only by non-word symbols within a single dynamic path`)})),slugNames.push(nextSlug)}if(isCatchAll)if(isOptional){if(null!=this.restSlugName)throw new Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${urlPaths[0]}" ).`);handleSlug(this.optionalRestSlugName,segmentName),this.optionalRestSlugName=segmentName,nextSegment="[[...]]"}else{if(null!=this.optionalRestSlugName)throw new Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${urlPaths[0]}").`);handleSlug(this.restSlugName,segmentName),this.restSlugName=segmentName,nextSegment="[...]"}else{if(isOptional)throw new Error(`Optional route parameters are not yet supported ("${urlPaths[0]}").`);handleSlug(this.slugName,segmentName),this.slugName=segmentName,nextSegment="[]"}}this.children.has(nextSegment)||this.children.set(nextSegment,new UrlNode),this.children.get(nextSegment)._insert(urlPaths.slice(1),slugNames,isCatchAll)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}},"./node_modules/next/dist/shared/lib/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.execOnce=function execOnce(fn){let result,used=!1;return(...args)=>(used||(used=!0,result=fn(...args)),result)},exports.getLocationOrigin=getLocationOrigin,exports.getURL=function getURL(){const{href}=window.location,origin=getLocationOrigin();return href.substring(origin.length)},exports.getDisplayName=getDisplayName,exports.isResSent=isResSent,exports.normalizeRepeatedSlashes=function normalizeRepeatedSlashes(url){const urlParts=url.split("?");return urlParts[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(urlParts[1]?`?${urlParts.slice(1).join("?")}`:"")},exports.loadGetInitialProps=loadGetInitialProps,exports.ST=exports.SP=exports.isAbsoluteUrl=exports.WEB_VITALS=void 0;var _async_to_generator=__webpack_require__("./node_modules/@swc/helpers/lib/_async_to_generator.js").Z;exports.WEB_VITALS=["CLS","FCP","FID","INP","LCP","TTFB"];const ABSOLUTE_URL_REGEX=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/;function getLocationOrigin(){const{protocol,hostname,port}=window.location;return`${protocol}//${hostname}${port?":"+port:""}`}function getDisplayName(Component){return"string"==typeof Component?Component:Component.displayName||Component.name||"Unknown"}function isResSent(res){return res.finished||res.headersSent}function loadGetInitialProps(App,ctx){return _loadGetInitialProps.apply(this,arguments)}function _loadGetInitialProps(){return(_loadGetInitialProps=_async_to_generator((function*(App,ctx){const res=ctx.res||ctx.ctx&&ctx.ctx.res;if(!App.getInitialProps)return ctx.ctx&&ctx.Component?{pageProps:yield loadGetInitialProps(ctx.Component,ctx.ctx)}:{};const props=yield App.getInitialProps(ctx);if(res&&isResSent(res))return props;if(!props){const message=`"${getDisplayName(App)}.getInitialProps()" should resolve to an object. But found "${props}" instead.`;throw new Error(message)}return props}))).apply(this,arguments)}exports.isAbsoluteUrl=url=>ABSOLUTE_URL_REGEX.test(url);const SP="undefined"!=typeof performance;exports.SP=SP;const ST=SP&&["mark","measure","getEntriesByName"].every((method=>"function"==typeof performance[method]));exports.ST=ST;class DecodeError extends Error{}exports.DecodeError=DecodeError;class NormalizeError extends Error{}exports.NormalizeError=NormalizeError;class PageNotFoundError extends Error{constructor(page){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${page}`}}exports.PageNotFoundError=PageNotFoundError;class MissingStaticPage extends Error{constructor(page,message){super(),this.message=`Failed to load static file for page: ${page} ${message}`}}exports.MissingStaticPage=MissingStaticPage;class MiddlewareNotFoundError extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}exports.MiddlewareNotFoundError=MiddlewareNotFoundError},"./node_modules/next/router.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/client/router.js")},"./node_modules/react-icons/fc/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JM8:()=>FcGoogle});var _lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-icons/lib/esm/index.js");function FcGoogle(props){return(0,_lib__WEBPACK_IMPORTED_MODULE_0__.w_)({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(props)}}}]);